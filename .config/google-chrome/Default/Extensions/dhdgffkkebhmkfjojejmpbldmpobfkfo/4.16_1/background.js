(()=>{function e(r){var s=n[r];if(void 0!==s)return s.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}var t={2672:e=>{e.exports={meta:{type:"suggestion",docs:{description:"aligns attributes in the metadata",category:"Stylistic Issues"},schema:[{type:"integer",minimum:1,default:2}],messages:{spaceMetadata:"The metadata is not spaced"},fixable:"code"},create:e=>{const t=e.options[0]||2,n=e.getSourceCode(),r=n.getAllComments();let s=!1,o=!1,a=[],i={},l={}
;for(const e of r.filter(e=>"Line"===e.type))o||(s&&"==/UserScript=="===e.value.trim()?(l=e.loc.end,o=!0):s||"==UserScript=="!==e.value.trim()?s&&e.value.trim().startsWith("@")&&a.push({key:e.value.trim().slice(1).split(/\s/)[0],space:/^\S*(\s+)/.exec(e.value.trim().slice(1))[1].length,line:e.loc.start.line,comment:e}):(i=e.loc.start,s=!0));if(0===Object.keys(l).length&&(l=n.getLocFromIndex(n.getText().length)),0===a.length)return{};const c=Math.max(...a.map(e=>e.key.length))+t
;return(a.map(e=>e.space).sort()[0]<t||a.map(e=>e.key.length+e.space).find(e=>e!==c))&&e.report({loc:{start:i,end:l},messageId:"spaceMetadata",fix:function(e){const t=[];for(const r of a)if(r.key.length+r.space!==c){const s=/^(.*?@\S*)/.exec(n.getLines()[r.line-1])[1].length;t.push(e.replaceTextRange([n.getIndexFromLoc({line:r.line,column:s}),n.getIndexFromLoc({line:r.line,column:s+r.space})]," ".repeat(c-r.key.length)))}return t}}),{}}}},2162:(e,t,n)=>{const r=n(2598)
;e.exports=r("include",!1,({attrVal:e,context:t})=>{t.report({loc:{start:{line:e.loc.start.line,column:0},end:e.loc.end},messageId:"betterUseMatch"})},{betterUseMatch:"Using @include is potentially unsafe and may be obsolete in Manifest v3 in early 2023. Please switch to @match."})},8039:e=>{e.exports={meta:{type:"suggestion",docs:{description:"ensure userscripts end with .user.js",category:"Best Practices"},schema:[{enum:["always","never"]}],messages:{
filenameExtension:"Rename '{{ oldFilename }}' to '{{ newFilename }}'"}},create:e=>{const t=e.getFilename();return"<input>"===t||"<text>"===t?{}:{Program(){(!t.endsWith(".user.js")&&(!e.options[0]||"always"===e.options[0])||t.endsWith(".user.js")&&"never"===e.options[0])&&e.report({loc:{column:0,line:1},messageId:"filenameExtension",data:{newFilename:t.replace("always"===e.options[0]?/.js$/:/.user.js$/,"always"===e.options[0]?".user.js":".js"),oldFilename:t}})}}}}},70:(e,t,n)=>{
const r=n(2598),s=["addElement","addStyle","addValueChangeListener","cookie","deleteValue","download","getResourceText","getResourceURL","getTab","getTabs","getValue","info","listValues","log","notification","openInTab","registerMenuCommand","removeValueChangeListener","saveTab","setClipboard","setValue","unregisterMenuCommand","xmlhttpRequest"].map(e=>"GM_"+e),o=["addElement","addStyle","addValueChangeListener","cookie","deleteValue","download","getResourceText","getResourceUrl","getTab","getTabs","getValue","info","listValues","log","notification","openInTab","registerMenuCommand","removeValueChangeListener","saveTab","setClipboard","setValue","unregisterMenuCommand","xmlHttpRequest"].map(e=>"GM."+e),a=new Set([...s,...o,"none","unsafeWindow","window.close","window.focus","window.onurlchange"])
;e.exports=r("grant",!1,({attrVal:e,context:t})=>{const n=e.val;a.has(n)||t.report({loc:{start:{line:e.loc.start.line,column:0},end:e.loc.end},messageId:"grantHasInvalidArgument",data:{argument:n}})},{grantHasInvalidArgument:"'{{ argument }}' is not a valid @grant argument"})},8754:(e,t,n)=>{
const r=n(2598),s=new Set(["antifeature","author","connect","contributor","contributors","copyright","defaulticon","description","developer","downloadURL","exclude","grant","history","homepage","homepageURL","icon","icon64","icon64URL","iconURL","include","license","match","name","namespace","nocompat","noframes","require","resource","run-at","source","supportURL","updateURL","version","website"].map(e=>"@"+e)),o=["name","description","antifeature"].map(e=>new RegExp(`^@${e}(:\\S+)?$`))
;e.exports=r("headers",!1,({attrVal:e,context:t})=>{const n=t.options[0],r=new Set((n&&n.allowed||[]).map(e=>"@"+e));for(const n of e){const e="@"+n.key;s.has(e)||r.has(e)||o.some(t=>t.test(e))||t.report({loc:{start:{line:n.loc.start.line,column:0},end:n.loc.end},messageId:"invalidHeader",data:{header:e}})}},{invalidHeader:"'{{ header }}' is not a valid userscript header"},!1,/./,!0,[{type:"object",properties:{allowed:{type:"array"}},additionalProperties:!1}])},1763:e=>{e.exports={meta:{
type:"suggestion",docs:{description:"ensure userscripts have valid metadata",category:"Possible Errors"},messages:{metadataRequired:"Add metadata to the userscript",moveMetadataToTop:"Move the metadata to the top of the file",noClosingMetadata:"Closing metadata comment not found",noCodeBetween:"Code found between in metadata",attributeNotStartsWithAtTheRate:"Attributes should begin with @"},schema:[{type:"object",properties:{top:{enum:["required","optional"],default:"required"}},
additionalProperties:!1}]},create:e=>{const t=e.getSourceCode(),n=t.getAllComments(),r=t.lines;let s=!1,o=!1;for(const[t,n]of r.entries()){if(o)continue;const r={start:{line:t+1,column:0},end:{line:t+1,column:n.length}};s&&!n.trim().startsWith("//")&&n.trim()?e.report({loc:r,messageId:"noCodeBetween"
}):s&&n.trim().startsWith("//")&&"==/UserScript=="===n.trim().slice(2).trim()?o=!0:!s&&n.trim().startsWith("//")&&"==UserScript=="===n.trim().slice(2).trim()?s=!0:s&&!n.trim().slice(2).trim().startsWith("@")&&n.trim().slice(2).trim()&&e.report({loc:r,messageId:"attributeNotStartsWithAtTheRate"})}return{Program(t){0!==n.length&&n.find(e=>"==UserScript=="===e.value.trim()&&"Line"===e.type)?(n.find(e=>"==/UserScript=="===e.value.trim()&&"Line"===e.type)||e.report({
loc:n.find(e=>"==UserScript=="===e.value.trim()&&"Line"===e.type).loc,messageId:"noClosingMetadata"}),e.options[0]&&e.options[0].top&&"required"!==e.options[0].top||"==UserScript=="===n[0].value.trim()&&1===n[0].loc.start.line||e.report({loc:n.find(e=>"==UserScript=="===e.value.trim()&&"Line"===e.type).loc,messageId:"moveMetadataToTop"})):e.report({node:t,messageId:"metadataRequired"})}}}}},4350:e=>{e.exports={meta:{type:"suggestion",docs:{
description:"ensure atributes are prefixed by one space",category:"Possible Errors"},messages:{attributeNotPrefixedBySpace:"Attributes should be prefixed by one space"},schema:[]},create:e=>{const t=e.getSourceCode().lines;let n=!1,r=!1;for(const[s,o]of t.entries()){if(r)continue;const t=o.trim()
;n&&t.startsWith("//")&&"==/UserScript=="===t.slice(2).trim()?r=!0:!n&&t.startsWith("//")&&"==UserScript=="===t.slice(2).trim()?n=!0:n&&t.slice(2).trim().startsWith("@")&&t.startsWith("//")&&(!t.startsWith("// ")||t.startsWith("//  "))&&e.report({loc:{start:{line:s+1,column:0},end:{line:s+1,column:o.length}},messageId:"attributeNotPrefixedBySpace"})}return{}}}},230:(e,t,n)=>{const r=n(2598);e.exports=r("description",!0,({attrVal:e,context:t})=>{let n=[]
;for(let r of e)n.includes(r.key)?t.report({loc:r.loc,messageId:"multipleDescriptions"}):n.push(r.key)},{multipleDescriptions:"Include only one description for each language"},!1,/^description(:\S+)?$/,!0)},8295:(e,t,n)=>{const r=n(2598),s=/^name(:\S+)?$/;e.exports=r("name",!0,({attrVal:e,context:t,metadata:n})=>{let r=[];for(let n of e)r.includes(n.key)?t.report({loc:n.loc,messageId:"multipleNames"}):r.push(n.key);const o=Object.values(n)
;if(o.find((e,t)=>0!==t&&s.test(e[0]?e[0].key:e.key)&&!s.test(o[t-1][0]?o[t-1][0].key:o[t-1].key))){const n=t.getSourceCode(),r=n.getAllComments(),s=r.find(e=>"==/UserScript=="===e.value.trim()&&"Line"===e.type);t.report({loc:{start:r.find(e=>"==UserScript=="===e.value.trim()&&"Line"===e.type).loc.start,end:s?s.loc.end:{line:n.lines.length,column:0}},messageId:"nameAtBeginning",fix:function(n){let r=[];for(let s of e){Array.isArray(s)||(s=[s])
;for(let e of s)r.push(n.removeRange(e.comment.range.map((n,r)=>0===r?n-t.getSourceCode().lines[e.loc.start.line-1].split("//")[0].length-1:n)))}return r.push(n.insertTextAfterRange(t.getSourceCode().getAllComments().find(e=>"==UserScript=="===e.value.trim()).range,e.sort((e,t)=>"name"===e.key?-1:"name"===t.key?1:0).map(e=>`\n${t.getSourceCode().lines[e.loc.start.line-1].split("//")[0]}//${e.comment.value}`).join(""))),r}})}},{multipleNames:"Include only one name for each language",
nameAtBeginning:"The names should be at the beginning of the metadata"},!0,s,!0)},3880:(e,t,n)=>{const r=n(2598);e.exports=r("version",!0,({attrVal:e,index:t,context:n})=>{t>0&&n.report({loc:e.loc,messageId:"multipleVersions"}),/^([\dA-Za-z-]+)(\.[\dA-Za-z-]+)*\s*$/.test(e.val)||n.report({loc:{start:{line:e.loc.start.line,column:/^(\s*\/\/\s*)/.exec(n.getSourceCode().lines[e.comment.loc.start.line])[1].length-1},end:e.loc.end},messageId:"invalidVersion"})},{
multipleVersions:"Include only one version",invalidVersion:"Invalid version"})},2215:(e,t,n)=>{const r=n(2598),s=["downloadURL","updateURL"];e.exports=r(s,!1,({attrVal:e,metadata:t,context:n,keyName:r})=>{const o=s.find(e=>e!==r);t[o]||n.report({loc:e.loc,messageId:"missingAttribute",data:{attribute:o},fix:function(t){return t.insertTextAfterRange(e.comment.range,"\n"+n.getSourceCode().lines[e.comment.loc.start.line-1].replace(/^(\s*\/\/\s*@)\S*/,"$1"+o))}})},{
missingAttribute:"Didn't find attribute '{{ attribute }}' in the metadata"},!0)},1933:(e,t,n)=>{const r=n(2598),s=["homepage","homepageURL"];e.exports=r(s,!1,({attrVal:e,metadata:t,context:n,keyName:r})=>{const o=s.find(e=>e!==r);t[o]||n.report({loc:e.loc,messageId:"missingAttribute",data:{attribute:o},fix:function(t){return t.insertTextAfterRange(e.comment.range,"\n"+n.getSourceCode().lines[e.comment.loc.start.line-1].replace(/^(\s*\/\/\s*@)\S*/,"$1"+o))}})},{
missingAttribute:"Didn't find attribute '{{ attribute }}' in the metadata"},!0)},2598:e=>{e.exports=function(e,t,n=!1,r={},s=!1,o=new RegExp("^("+("string"==typeof e?e:e.join("|"))+")$"),a=!1,i){return"string"==typeof e&&(e=[e]),{meta:{type:"suggestion",docs:{description:`${t?"require "+(n?"and validate ":""):"validate "}${e.join(" and ")} in the metadata for userscripts`,category:"Best Practices"},schema:t?[{enum:["required","optional"],default:"required"}]:i||void 0,messages:{
missingAttribute:`Didn't find attribute '${e}' in the metadata`,...r},fixable:s?"code":void 0},create:e=>{const r=e.getSourceCode().getAllComments();let s=!1,i=!1,l=!1,c={};for(const e of r.filter(e=>"Line"===e.type))if(!l)if(s&&"==/UserScript=="===e.value.trim())l=!0;else if(s||"==UserScript=="!==e.value.trim()){if(s&&e.value.trim().startsWith("@")){const t=e.value.trim().slice(1).split(/[ \t]/)[0],n={val:e.value.trim().slice(1).split(/[ \t]/).slice(1).join(" ").trim(),loc:e.loc,comment:e,key:t
};if(c[t]){Array.isArray(c[t])||(c[t]=[c[t]]),c[t].push(n);continue}c[t]=n}}else s=!0,i=!0;const A=Object.keys(c);if(!t||!i||e.options[0]&&"required"!==e.options[0]||A.find(e=>o.test(e))){if(n&&A.find(e=>o.test(e)))if(a){const t=[];for(const e in A)o.test(A[e])&&t.push(+e);const r=t.map(e=>c[A[e]]).reduce((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t],[]);n({attrVal:r,index:[...r.keys()],indexMatch:t.reduce((e,t)=>Array.isArray(c[A[t]])?[...e,...c[A[t]].map(()=>A)]:[...e,t],[]),metadata:c,
context:e,keyName:t.map(e=>A[e])})}else for(const t in A)if(o.test(A[t]))if(Array.isArray(c[A[t]]))for(const[r,s]of c[A[t]].entries())n({attrVal:s,index:r,indexMatch:t,metadata:c,context:e,keyName:A[t]});else n({attrVal:c[A[t]],index:0,indexMatch:t,metadata:c,context:e,keyName:A[t]})}else e.report({loc:r.find(e=>"==UserScript=="===e.value.trim()&&"Line"===e.type).loc,messageId:"missingAttribute"});return{}}}}},2462:(e,t,n)=>{
/*!

JSZip v3.5.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
e.exports=function e(t,n,r){function s(a){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var i=new Error("Cannot find module '"+a+"'");throw i.code="MODULE_NOT_FOUND",i}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return s(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,n){"use strict";var r=e("./utils"),s=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
;n.encode=function(e){for(var t,n,s,a,i,l,c,A=[],u=0,d=e.length,p=d,h="string"!==r.getTypeOf(e);u<e.length;)p=d-u,h?(t=e[u++],n=u<d?e[u++]:0,s=u<d?e[u++]:0):(t=e.charCodeAt(u++),n=u<d?e.charCodeAt(u++):0,s=u<d?e.charCodeAt(u++):0),a=t>>2,i=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|s>>6:64,c=p>2?63&s:64,A.push(o.charAt(a)+o.charAt(i)+o.charAt(l)+o.charAt(c));return A.join("")},n.decode=function(e){var t,n,r,a,i,l,c=0,A=0,u="data:"
;if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=s.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(i=o.indexOf(e.charAt(c++)))>>2,
r=(3&i)<<6|(l=o.indexOf(e.charAt(c++))),d[A++]=t,64!==i&&(d[A++]=n),64!==l&&(d[A++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t){"use strict";function n(e,t,n,r,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=s}var r=e("./external"),s=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe");o=e("./stream/DataLengthProbe"),n.prototype={getContentWorker:function(){
var e=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){
return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=n},{"./external":6,"./stream/Crc32Probe":25,
"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t){"use strict";var n=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t
}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,n){var s=r,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n){var s=r,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,
n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,n){"use strict";function r(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}var s="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),a=e("./utils"),i=e("./stream/GenericWorker"),l=s?"uint8array":"array"
;n.magic="\b\0",a.inherits(r,i),r.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,e.data),!1)},r.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this
;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new r("Deflate",e)},n.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t){"use strict";function n(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,
this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),s=e("../stream/GenericWorker"),o=e("../utf8"),a=e("../crc32"),i=e("../signature"),l=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},c=function(e,t,n,s,c,A){
var u,d,p=e.file,h=e.compression,m=A!==o.utf8encode,f=r.transformTo("string",A(p.name)),g=r.transformTo("string",o.utf8encode(p.name)),v=p.comment,_=r.transformTo("string",A(v)),b=r.transformTo("string",o.utf8encode(v)),w=g.length!==p.name.length,k=b.length!==v.length,R="",y="",E="",x=p.dir,S=p.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var M=0;t&&(M|=8),m||!w&&!k||(M|=2048);var U,G,I=0,C=0
;x&&(I|=16),"UNIX"===c?(C=798,I|=(G=U=p.unixPermissions,U||(G=x?16893:33204),(65535&G)<<16)):(C=20,I|=63&(p.dosPermissions||0)),u=S.getUTCHours(),u<<=6,u|=S.getUTCMinutes(),u<<=5,u|=S.getUTCSeconds()/2,d=S.getUTCFullYear()-1980,d<<=4,d|=S.getUTCMonth()+1,d<<=5,d|=S.getUTCDate(),w&&(y=l(1,1)+l(a(f),4)+g,R+="up"+l(y.length,2)+y),k&&(E=l(1,1)+l(a(_),4)+b,R+="uc"+l(E.length,2)+E);var Z="";return Z+="\n\0",Z+=l(M,2),Z+=h.magic,Z+=l(u,2),Z+=l(d,2),Z+=l(T.crc32,4),Z+=l(T.compressedSize,4),
Z+=l(T.uncompressedSize,4),Z+=l(f.length,2),Z+=l(R.length,2),{fileRecord:i.LOCAL_FILE_HEADER+Z+f+R,dirRecord:i.CENTRAL_FILE_HEADER+l(C,2)+Z+l(_.length,2)+"\0\0\0\0"+l(I,4)+l(s,4)+f+R+_}},A=function(e){return i.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};r.inherits(n,s),n.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,
s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},n.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(e){this.accumulate=!1
;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:A(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}})
;var n=this.bytesWritten-e,s=function(e,t,n,s,o){var a=r.transformTo("string",o(s));return i.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(e){
this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(e){
var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},n.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),s=e("./ZipFileWorker");n.generateWorker=function(e,t,n){
var o=new s(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var s=function(e,t){var n=e||t,s=r[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),i=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,i).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a
}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e("./object"),n.prototype.loadAsync=e("./load"),
n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.5.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t){"use strict";function n(e){return new s.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new i);r.on("error",(function(e){n(e)})).on("end",(function(){
r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}var r=e("./utils"),s=e("./external"),o=e("./utf8"),a=(r=e("./utils"),e("./zipEntries")),i=e("./stream/Crc32Probe"),l=e("./nodejsUtils");t.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),
l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var r=[s.Promise.resolve(e)],o=e.files;if(t.checkCRC32)for(var a=0;a<o.length;a++)r.push(n(o[a]));return s.Promise.all(r)})).then((function(e){for(var n=e.shift(),r=n.files,s=0;s<r.length;s++){var o=r[s];i.file(o.fileNameStr,o.decompressed,{
binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t){"use strict";function n(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,
this._bindStream(t)}var r=e("../utils"),s=e("../stream/GenericWorker");r.inherits(n,s),n.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},n.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){
return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t){"use strict";function n(e,t,n){r.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),n&&n(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}var r=e("readable-stream").Readable;e("../utils").inherits(n,r),n.prototype._read=function(){
this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,t){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){
return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t){"use strict";function n(e){return"[object RegExp]"==={}.toString.call(e)}var r=e("./utf8"),s=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),i=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),A=e("./generate"),u=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),p=function(e,t,n){
var r,a=s.getTypeOf(t),A=s.extend(n||{},i);A.date=A.date||new Date,null!==A.compression&&(A.compression=A.compression.toUpperCase()),"string"==typeof A.unixPermissions&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(e=m(e)),A.createFolders&&(r=h(e))&&f.call(this,r,!0);var p,g="string"===a&&!1===A.binary&&!1===A.base64;n&&void 0!==n.binary||(A.binary=!g),
(t instanceof l&&0===t.uncompressedSize||A.dir||!t||0===t.length)&&(A.base64=!1,A.binary=!0,t="",A.compression="STORE",a="string"),p=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new d(e,t):s.prepareContent(e,t,A.binary,A.optimizedBinaryString,A.base64);var v=new c(e,p,A);this.files[e]=v},h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},f=function(e,t){
return t=void 0!==t?t:i.createFolders,e=m(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){
e(n,r)&&t.push(r)})),t},file:function(e,t,r){if(1===arguments.length){if(n(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,p.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(n(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,r=f.call(this,t),s=this.clone();return s.root=r.name,s},remove:function(e){e=this.root+e;var t=this.files[e]
;if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",
comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");s.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=A.generateWorker(this,n,i)}catch(e){
(t=new o("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,
"./zipObject":35}],16:[function(e,t){t.exports=e("stream")},{stream:void 0}],17:[function(e,t){"use strict";function n(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){
for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===s)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&s===o[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[]
;var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],18:[function(e,t){"use strict";function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},
setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4)
;return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":32}],19:[function(e,t){"use strict";function n(e){r.call(this,e)}var r=e("./Uint8ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t){"use strict";function n(e){
r.call(this,e)}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],
21:[function(e,t){"use strict";function n(e){r.call(this,e)}var r=e("./ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(e,t){"use strict"
;var n=e("../utils"),r=e("../support"),s=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),i=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new i(n.transformTo("uint8array",e)):new s(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict"
;n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t){"use strict";function n(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),s=e("../utils");s.inherits(n,r),n.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":32,
"./GenericWorker":28}],25:[function(e,t){"use strict";function n(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=e("./GenericWorker"),s=e("../crc32");e("../utils").inherits(n,r),n.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t){"use strict";function n(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}
var r=e("../utils"),s=e("./GenericWorker");r.inherits(n,s),n.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(e,t){"use strict";function n(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,
t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}var r=e("../utils"),s=e("./GenericWorker");r.inherits(n,s),n.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,
this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}
return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,t){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush()
;try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){
if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){
return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){
for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t){"use strict";function n(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break
;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new s(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}var r=e("../utils"),s=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),i=e("../support"),l=e("../external"),c=null;if(i.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}n.prototype={accumulate:function(e){return t=this,n=e,new l.Promise((function(e,s){
var o=[],i=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(e,t){o.push(e),n&&n(t)})).on("error",(function(e){o=[],s(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,s=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return[].concat.apply([],t)
;case"uint8array":for(s=new Uint8Array(o),n=0;n<t.length;n++)s.set(t[n],r),r+=t[n].length;return s;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(i,o),c);e(t)}catch(e){s(e)}o=[]})).resume()}));var t,n},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},
pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,
n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),n.blob=0===s.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{
n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";function r(){l.call(this,"utf-8 decode"),this.leftOver=null}function s(){l.call(this,"utf-8 encode")}for(var o=e("./utils"),a=e("./support"),i=e("./nodejsUtils"),l=e("./stream/GenericWorker"),c=new Array(256),A=0;A<256;A++)c[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;c[254]=c[254]=1,n.utf8encode=function(e){
return a.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,r,s,o,i=e.length,l=0;for(s=0;s<i;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<i&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),o=0,s=0;o<l;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<i&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,
t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return a.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,s,a=e.length,i=new Array(2*a);for(n=0,t=0;t<a;)if((r=e[t++])<128)i[n++]=r;else if((s=c[r])>4)i[n++]=65533,t+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&t<a;)r=r<<6|63&e[t++],s--
;s>1?i[n++]=65533:r<65536?i[n++]=r:(r-=65536,i[n++]=55296|r>>10&1023,i[n++]=56320|1023&r)}return i.length!==n&&(i.subarray?i=i.subarray(0,n):i.length=n),o.applyFromCharCode(i)}(e=o.transformTo(a.uint8array?"uint8array":"array",e))},o.inherits(r,l),r.prototype.processChunk=function(e){var t=o.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),
t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+c[e[n]]>t?n:t}(t),i=t;s!==t.length&&(a.uint8array?(i=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(i=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(i),meta:e.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({
data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=r,o.inherits(s,l),s.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=s},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";function r(e){return e}function s(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function o(e){var t=65536,r=n.getTypeOf(e),s=!0
;if("uint8array"===r?s=d.applyCanBeUsed.uint8array:"nodebuffer"===r&&(s=d.applyCanBeUsed.nodebuffer),s)for(;t>1;)try{return d.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function a(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var i=e("./support"),l=e("./base64"),c=e("./nodejsUtils"),A=e("set-immediate-shim"),u=e("./external");n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{
var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var r=[],s=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;s<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,o)))),s+=n;return r.join("")
},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,c.allocBuffer(1)).length}catch(e){return!1}}()}};n.applyFromCharCode=o;var p={};p.string={string:r,array:function(e){return s(e,new Array(e.length))},
arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:function(e){return s(e,c.allocBuffer(e.length))}},p.array={string:o,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c.newBufferFrom(e)}},p.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return a(new Uint8Array(e),new Array(e.byteLength))
},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return c.newBufferFrom(e)}},p.nodebuffer={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){
return a(e,new Uint8Array(e.length))},nodebuffer:r},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return p[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"==={}.toString.call(e)?"array":i.nodebuffer&&c.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){
if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){A((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={}
;for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,r,o,a){return u.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf({}.toString.call(e)))&&"undefined"!=typeof FileReader?new u.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},
r.readAsArrayBuffer(e)})):e})).then((function(t){var c,A=n.getTypeOf(t);return A?("arraybuffer"===A?t=n.transformTo("uint8array",t):"string"===A&&(a?t=l.decode(t):r&&!0!==o&&(t=s(c=t,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):u.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t){
"use strict";function n(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),s=e("./utils"),o=e("./signature"),a=e("./zipEntry"),i=(e("./utf8"),e("./support"));n.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e)
;var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2)
;var e=this.reader.readData(this.zipCommentLength),t=i.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),
this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),
this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({
zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END)
;if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),
this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),
this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),
this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},
t.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t){"use strict";function n(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),s=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),i=e("./utf8"),l=e("./compressions"),c=e("./support");n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),
this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null
}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),
this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},
processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value)
;this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),
this.extraFields[t]={id:t,length:n,value:r};e.setIndex(s)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=i.utf8decode(this.fileName),this.fileCommentStr=i.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{
var o=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:i.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:i.utf8decode(t.readData(e.length-5))}
return null}},t.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t){"use strict";var n=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),s=e("./utf8"),o=e("./compressedObject"),a=e("./stream/GenericWorker"),i=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,
this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};i.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var i=!this._dataBinary;i&&!o&&(t=t.pipe(new s.Utf8EncodeWorker)),!i&&o&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new a("error")).error(e)}
return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){
return this._data instanceof o?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<l.length;A++)i.prototype[l[A]]=c;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t){
(function(e){"use strict";function n(){var e,t;s=!0;for(var n=A.length;n;){for(t=A,A=[],e=-1;++e<n;)t[e]();n=A.length}s=!1}var r,s,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,i=new o(n),l=e.document.createTextNode("");i.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script")
;t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var A=[];t.exports=function(e){1!==A.push(e)||s||r()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t){"use strict";function n(){}function r(e){
if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,e!==n&&i(this,e)}function s(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function o(e,t,n){c((function(){var r;try{r=t(n)}catch(t){return A.reject(e,t)}
r===e?A.reject(e,new TypeError("Cannot resolve promise with itself")):A.resolve(e,r)}))}function a(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function i(e,t){function n(t){s||(s=!0,A.reject(e,t))}function r(t){s||(s=!0,A.resolve(e,t))}var s=!1,o=l((function(){t(r,n)}));"error"===o.status&&n(o.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}
var c=e("immediate"),A={},u=["REJECTED"],d=["FULFILLED"],p=["PENDING"];t.exports=r,r.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if("function"!=typeof e&&this.state===d||"function"!=typeof t&&this.state===u)return this
;var r=new this.constructor(n);return this.state!==p?o(r,this.state===d?e:t,this.outcome):this.queue.push(new s(r,e,t)),r},s.prototype.callFulfilled=function(e){A.resolve(this.promise,e)},s.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},s.prototype.callRejected=function(e){A.reject(this.promise,e)},s.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)},A.resolve=function(e,t){var n=l(a,t);if("error"===n.status)return A.reject(e,n.value)
;var r=n.value;if(r)i(e,r);else{e.state=d,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},A.reject=function(e,t){e.state=u,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},r.resolve=function(e){return e instanceof this?e:A.resolve(new this(n),e)},r.reject=function(e){var t=new this(n);return A.reject(t,e)},r.all=function(e){function t(e,t){r.resolve(e).then((function(e){a[t]=e,++i!==s||o||(o=!0,A.resolve(c,a))
}),(function(e){o||(o=!0,A.reject(c,e))}))}var r=this;if("[object Array]"!=={}.toString.call(e))return this.reject(new TypeError("must be an array"));var s=e.length,o=!1;if(!s)return this.resolve([]);for(var a=new Array(s),i=0,l=-1,c=new this(n);++l<s;)t(e[l],l);return c},r.race=function(e){if("[object Array]"!=={}.toString.call(e))return this.reject(new TypeError("must be an array"));var t,r=e.length,s=!1;if(!r)return this.resolve([]);for(var o=-1,a=new this(n);++o<r;)t=e[o],
this.resolve(t).then((function(e){s||(s=!0,A.resolve(a,e))}),(function(e){s||(s=!0,A.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({level:d,
method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(l[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var s
;if(s="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===A.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,s))!==u)throw new Error(l[n]);this._dict_set=!0}}function s(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}var o=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),l=e("./zlib/messages"),c=e("./zlib/zstream"),A={}.toString,u=0,d=-1,p=0,h=8
;r.prototype.push=function(e,t){var n,r,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===A.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new a.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=o.deflate(s,r))&&n!==u)return this.onEnd(n),this.ended=!0,!1
;0!==s.avail_out&&(0!==s.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(i.buf2binstring(a.shrinkBuf(s.output,s.next_out))):this.onData(a.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===r?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==r||(this.onEnd(u),s.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){
e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=s,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,s(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e)
;this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits)
;if(n!==l.Z_OK)throw new Error(c[n]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}function s(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}var o=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),l=e("./zlib/constants"),c=e("./zlib/messages"),A=e("./zlib/zstream"),u=e("./zlib/gzheader"),d={}.toString;r.prototype.push=function(e,t){var n,r,s,c,A,u,p=this.strm,h=this.options.chunkSize,m=this.options.dictionary,f=!1
;if(this.ended)return!1;r=t===~~t?t:!0===t?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?p.input=i.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new a.Buf8(h),p.next_out=0,p.avail_out=h),(n=o.inflate(p,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&m&&(u="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=o.inflateSetDictionary(this.strm,u)),
n===l.Z_BUF_ERROR&&!0===f&&(n=l.Z_OK,f=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==l.Z_STREAM_END&&(0!==p.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(p.output,p.next_out),c=p.next_out-s,A=i.buf2string(p.output,s),p.next_out=c,p.avail_out=h-c,c&&a.arraySet(p.output,p.output,s,c,0),this.onData(A)):this.onData(a.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(f=!0)
}while((p.avail_in>0||0===p.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),p.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},
n.Inflate=r,n.inflate=s,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},n.ungzip=s},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=[].slice.call(arguments,1);t.length;){var n=t.shift();if(n){
if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),s);else for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){var t,n,r,s,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),s=0,t=0,n=e.length;t<n;t++)o=e[t],
a.set(o,s),s+=o.length;return a}},o={arraySet:function(e,t,n,r,s){for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(e,t))
;for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var s=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var i=new s.Buf8(256),l=0;l<256;l++)i[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;i[254]=i[254]=1,n.string2buf=function(e){var t,n,r,o,a,i=e.length,l=0
;for(o=0;o<i;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new s.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,
t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new s.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,s,o,a,l=t||e.length,c=new Array(2*l);for(s=0,n=0;n<l;)if((o=e[n++])<128)c[s++]=o;else if((a=i[o])>4)c[s++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&e[n++],a--;a>1?c[s++]=65533:o<65536?c[s++]=o:(o-=65536,c[s++]=55296|o>>10&1023,
c[s++]=56320|1023&o)}return r(c,s)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t){"use strict";t.exports=function(e,t,n,r){for(var s=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(s=s+t[r++]|0)|0}while(--a);s%=65521,o%=65521}return s|o<<16|0}},{}],44:[function(e,t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,
Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t){"use strict";var n=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()
;t.exports=function(e,t,r,s){var o=n,a=s+r;e^=-1;for(var i=s;i<a;i++)e=e>>>8^o[255&(e^t[i])];return-1^e}},{}],46:[function(e,t,n){"use strict";function r(e,t){return e.msg=y[t],t}function s(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(b.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,
0===t.pending&&(t.pending_out=0))}function i(e,t){w._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function A(e,t){
var n,r,s=e.max_chain_length,o=e.strstart,a=e.prev_length,i=e.nice_match,l=e.strstart>e.w_size-D?e.strstart-(e.w_size-D):0,c=e.window,A=e.w_mask,u=e.prev,d=e.strstart+P,p=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(s>>=2),i>e.lookahead&&(i=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=P-(d-o),
o=d-P,r>a){if(e.match_start=t,a=r,r>=i)break;p=c[o+a-1],h=c[o+a]}}}while((t=u[t&A])>l&&0!=--s);return a<=e.lookahead?a:e.lookahead}function u(e){var t,n,r,s,o,a,i,l,c,A,u=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-D)){b.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=u?r-u:0}while(--n);t=n=u;do{r=e.prev[--t],e.prev[t]=r>=u?r-u:0}while(--n);s+=u}if(0===e.strm.avail_in)break;if(a=e.strm,
i=e.window,l=e.strstart+e.lookahead,c=s,A=void 0,(A=a.avail_in)>c&&(A=c),n=0===A?0:(a.avail_in-=A,b.arraySet(i,a.input,a.next_in,A,l),1===a.state.wrap?a.adler=k(a.adler,i,A,l):2===a.state.wrap&&(a.adler=R(a.adler,i,A,l)),a.next_in+=A,a.total_in+=A,A),e.lookahead+=n,e.lookahead+e.insert>=L)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+L-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],
e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<D&&0!==e.strm.avail_in)}function d(e,t){for(var n,r;;){if(e.lookahead<D){if(u(e),e.lookahead<D&&t===E)return X;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-D&&(e.match_length=A(e,n)),
e.match_length>=L)if(r=w._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],
e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(i(e,!1),0===e.strm.avail_out))return X}return e.insert=e.strstart<L-1?e.strstart:L-1,t===x?(i(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(i(e,!1),0===e.strm.avail_out)?X:H}function p(e,t){for(var n,r,s;;){if(e.lookahead<D){if(u(e),e.lookahead<D&&t===E)return X;if(0===e.lookahead)break}if(n=0,
e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-D&&(e.match_length=A(e,n),e.match_length<=5&&(e.strategy===U||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){
s=e.strstart+e.lookahead-L,r=w._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,r&&(i(e,!1),0===e.strm.avail_out))return X}else if(e.match_available){
if((r=w._tr_tally(e,0,e.window[e.strstart-1]))&&i(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return X}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=w._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===x?(i(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(i(e,!1),0===e.strm.avail_out)?X:H}function h(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}function m(){
this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,
this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*j),this.dyn_dtree=new b.Buf16(2*(2*F+1)),this.bl_tree=new b.Buf16(2*(2*B+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(N+1),this.heap=new b.Buf16(2*O+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*O+1),
o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function f(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=I,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?V:q,e.adler=2===t.wrap?0:1,t.last_flush=E,w._tr_init(t),S):r(e,T)}function g(e){var t,n=f(e);return n===S&&((t=e.state).window_size=2*t.w_size,o(t.head),
t.max_lazy_match=_[t.level].max_lazy,t.good_match=_[t.level].good_length,t.nice_match=_[t.level].nice_length,t.max_chain_length=_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=L-1,t.match_available=0,t.ins_h=0),n}function v(e,t,n,s,o,a){if(!e)return T;var i=1;if(t===M&&(t=6),s<0?(i=0,s=-s):s>15&&(i=2,s-=16),o<1||o>Z||n!==C||s<8||s>15||t<0||t>9||a<0||a>G)return r(e,T);8===s&&(s=9);var l=new m;return e.state=l,l.strm=e,l.wrap=i,l.gzhead=null,
l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new b.Buf8(2*l.w_size),l.head=new b.Buf16(l.hash_size),l.prev=new b.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new b.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,g(e)}
var _,b=e("../utils/common"),w=e("./trees"),k=e("./adler32"),R=e("./crc32"),y=e("./messages"),E=0,x=4,S=0,T=-2,M=-1,U=1,G=4,I=2,C=8,Z=9,O=286,F=30,B=19,j=2*O+1,N=15,L=3,P=258,D=P+L+1,V=42,z=103,q=113,Q=666,X=1,H=2,W=3,Y=4;_=[new h(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(u(e),0===e.lookahead&&t===E)return X;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n
;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,i(e,!1),0===e.strm.avail_out))return X;if(e.strstart-e.block_start>=e.w_size-D&&(i(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===x?(i(e,!0),0===e.strm.avail_out?W:Y):(e.strstart>e.block_start&&(i(e,!1),e.strm.avail_out),X)
})),new h(4,4,8,4,d),new h(4,5,16,8,d),new h(4,6,32,32,d),new h(4,4,16,16,p),new h(8,16,32,32,p),new h(8,16,128,128,p),new h(8,32,128,256,p),new h(32,128,258,1024,p),new h(32,258,258,4096,p)],n.deflateInit=function(e,t){return v(e,t,C,15,8,0)},n.deflateInit2=v,n.deflateReset=g,n.deflateResetKeep=f,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?T:(e.state.gzhead=t,S):T},n.deflate=function(e,t){var n,A,d,p;if(!e||!e.state||t>5||t<0)return e?r(e,T):T;if(A=e.state,
!e.output||!e.input&&0!==e.avail_in||A.status===Q&&t!==x)return r(e,0===e.avail_out?-5:T);if(A.strm=e,n=A.last_flush,A.last_flush=t,A.status===V)if(2===A.wrap)e.adler=0,l(A,31),l(A,139),l(A,8),A.gzhead?(l(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),l(A,255&A.gzhead.time),l(A,A.gzhead.time>>8&255),l(A,A.gzhead.time>>16&255),l(A,A.gzhead.time>>24&255),l(A,9===A.level?2:A.strategy>=2||A.level<2?4:0),l(A,255&A.gzhead.os),
A.gzhead.extra&&A.gzhead.extra.length&&(l(A,255&A.gzhead.extra.length),l(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(e.adler=R(e.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(l(A,0),l(A,0),l(A,0),l(A,0),l(A,0),l(A,9===A.level?2:A.strategy>=2||A.level<2?4:0),l(A,3),A.status=q);else{var h=C+(A.w_bits-8<<4)<<8;h|=(A.strategy>=2||A.level<2?0:A.level<6?1:6===A.level?2:3)<<6,0!==A.strstart&&(h|=32),h+=31-h%31,A.status=q,c(A,h),0!==A.strstart&&(c(A,e.adler>>>16),c(A,65535&e.adler)),
e.adler=1}if(69===A.status)if(A.gzhead.extra){for(d=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),a(e),d=A.pending,A.pending!==A.pending_buf_size));)l(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73
;if(73===A.status)if(A.gzhead.name){d=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),a(e),d=A.pending,A.pending===A.pending_buf_size)){p=1;break}p=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,l(A,p)}while(0!==p);A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),0===p&&(A.gzindex=0,A.status=91)}else A.status=91;if(91===A.status)if(A.gzhead.comment){d=A.pending
;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),a(e),d=A.pending,A.pending===A.pending_buf_size)){p=1;break}p=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,l(A,p)}while(0!==p);A.gzhead.hcrc&&A.pending>d&&(e.adler=R(e.adler,A.pending_buf,A.pending-d,d)),0===p&&(A.status=z)}else A.status=z;if(A.status===z&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&a(e),
A.pending+2<=A.pending_buf_size&&(l(A,255&e.adler),l(A,e.adler>>8&255),e.adler=0,A.status=q)):A.status=q),0!==A.pending){if(a(e),0===e.avail_out)return A.last_flush=-1,S}else if(0===e.avail_in&&s(t)<=s(n)&&t!==x)return r(e,-5);if(A.status===Q&&0!==e.avail_in)return r(e,-5);if(0!==e.avail_in||0!==A.lookahead||t!==E&&A.status!==Q){var m=2===A.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(u(e),0===e.lookahead)){if(t===E)return X;break}if(e.match_length=0,
n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(i(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===x?(i(e,!0),0===e.strm.avail_out?W:Y):e.last_lit&&(i(e,!1),0===e.strm.avail_out)?X:H}(A,t):3===A.strategy?function(e,t){for(var n,r,s,o,a=e.window;;){if(e.lookahead<=P){if(u(e),e.lookahead<=P&&t===E)return X;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(r=a[s=e.strstart-1])===a[++s]&&r===a[++s]&&r===a[++s]){o=e.strstart+P
;do{}while(r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&s<o);e.match_length=P-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=w._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(i(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===x?(i(e,!0),
0===e.strm.avail_out?W:Y):e.last_lit&&(i(e,!1),0===e.strm.avail_out)?X:H}(A,t):_[A.level].func(A,t);if(m!==W&&m!==Y||(A.status=Q),m===X||m===W)return 0===e.avail_out&&(A.last_flush=-1),S;if(m===H&&(1===t?w._tr_align(A):5!==t&&(w._tr_stored_block(A,0,0,!1),3===t&&(o(A.head),0===A.lookahead&&(A.strstart=0,A.block_start=0,A.insert=0))),a(e),0===e.avail_out))return A.last_flush=-1,S}return t!==x?S:A.wrap<=0?1:(2===A.wrap?(l(A,255&e.adler),l(A,e.adler>>8&255),l(A,e.adler>>16&255),
l(A,e.adler>>24&255),l(A,255&e.total_in),l(A,e.total_in>>8&255),l(A,e.total_in>>16&255),l(A,e.total_in>>24&255)):(c(A,e.adler>>>16),c(A,65535&e.adler)),a(e),A.wrap>0&&(A.wrap=-A.wrap),0!==A.pending?S:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==V&&69!==t&&73!==t&&91!==t&&t!==z&&t!==q&&t!==Q?r(e,T):(e.state=null,t===q?r(e,-3):S):T},n.deflateSetDictionary=function(e,t){var n,r,s,a,i,l,c,A,d=t.length;if(!e||!e.state)return T
;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==V||n.lookahead)return T;for(1===a&&(e.adler=k(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),A=new b.Buf8(n.w_size),b.arraySet(A,t,d-n.w_size,n.w_size,0),t=A,d=n.w_size),i=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,u(n);n.lookahead>=L;){r=n.strstart,s=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+L-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],
n.head[n.ins_h]=r,r++}while(--s);n.strstart=r,n.lookahead=L-1,u(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=i,n.wrap=a,S},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,
this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t){"use strict";t.exports=function(e,t){var n,r,s,o,a,i,l,c,A,u,d,p,h,m,f,g,v,_,b,w,k,R,y,E,x;n=e.state,r=e.next_in,E=e.input,s=r+(e.avail_in-5),o=e.next_out,x=e.output,a=o-(t-e.avail_out),i=o+(e.avail_out-257),l=n.dmax,c=n.wsize,A=n.whave,u=n.wnext,d=n.window,p=n.hold,h=n.bits,m=n.lencode,f=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),
_=m[p&g];t:for(;;){if(p>>>=b=_>>>24,h-=b,0==(b=_>>>16&255))x[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&_,(b&=15)&&(h<b&&(p+=E[r++]<<h,h+=8),w+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=E[r++]<<h,h+=8,p+=E[r++]<<h,h+=8),_=f[p&v];n:for(;;){if(p>>>=b=_>>>24,h-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=f[(65535&_)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30
;break e}if(k=65535&_,h<(b&=15)&&(p+=E[r++]<<h,(h+=8)<b&&(p+=E[r++]<<h,h+=8)),(k+=p&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,h-=b,k>(b=o-a)){if((b=k-b)>A&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(R=0,y=d,0===u){if(R+=c-b,b<w){w-=b;do{x[o++]=d[R++]}while(--b);R=o-k,y=x}}else if(u<b){if(R+=c+u-b,(b-=u)<w){w-=b;do{x[o++]=d[R++]}while(--b);if(R=0,u<w){w-=b=u;do{x[o++]=d[R++]}while(--b);R=o-k,y=x}}}else if(R+=u-b,b<w){w-=b;do{
x[o++]=d[R++]}while(--b);R=o-k,y=x}for(;w>2;)x[o++]=y[R++],x[o++]=y[R++],x[o++]=y[R++],w-=3;w&&(x[o++]=y[R++],w>1&&(x[o++]=y[R++]))}else{R=o-k;do{x[o++]=x[R++],x[o++]=x[R++],x[o++]=x[R++],w-=3}while(w>2);w&&(x[o++]=x[R++],w>1&&(x[o++]=x[R++]))}break}}break}}while(r<s&&o<i);r-=w=h>>3,p&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=o<i?i-o+257:257-(o-i),n.hold=p,n.bits=h}},{}],49:[function(e,t,n){"use strict";function r(e){
return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),
this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new p.Buf32(E),t.distcode=t.distdyn=new p.Buf32(x),t.sane=1,t.back=-1,b):w}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):w}function i(e,t){var n,r
;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?w:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))):w}function l(e,t){var n,r;return e?(r=new s,e.state=r,r.window=null,(n=i(e,t))!==b&&(e.state=null),n):w}function c(e){if(S){var t;for(u=new p.Buf32(512),d=new p.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(v,e.lens,0,288,u,0,e.work,{bits:9}),
t=0;t<32;)e.lens[t++]=5;g(_,e.lens,0,32,d,0,e.work,{bits:5}),S=!1}e.lencode=u,e.lenbits=9,e.distcode=d,e.distbits=5}function A(e,t,n,r){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new p.Buf8(o.wsize)),r>=o.wsize?(p.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>r&&(s=r),p.arraySet(o.window,t,n-r,s,o.wnext),(r-=s)?(p.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,
o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}var u,d,p=e("../utils/common"),h=e("./adler32"),m=e("./crc32"),f=e("./inffast"),g=e("./inftrees"),v=1,_=2,b=0,w=-2,k=1,R=12,y=30,E=852,x=592,S=!0;n.inflateReset=a,n.inflateReset2=i,n.inflateResetKeep=o,n.inflateInit=function(e){return l(e,15)},n.inflateInit2=l,n.inflate=function(e,t){var n,s,o,a,i,l,u,d,E,x,S,T,M,U,G,I,C,Z,O,F,B,j,N,L,P=0,D=new p.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]
;if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return w;(n=e.state).mode===R&&(n.mode=13),i=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,s=e.input,l=e.avail_in,d=n.hold,E=n.bits,x=l,S=u,j=b;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(2&n.wrap&&35615===d){n.check=0,D[0]=255&d,D[1]=d>>>8&255,n.check=m(n.check,D,2,0),d=0,E=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){
e.msg="incorrect header check",n.mode=y;break}if(8!=(15&d)){e.msg="unknown compression method",n.mode=y;break}if(E-=4,B=8+(15&(d>>>=4)),0===n.wbits)n.wbits=B;else if(B>n.wbits){e.msg="invalid window size",n.mode=y;break}n.dmax=1<<B,e.adler=n.check=1,n.mode=512&d?10:R,d=0,E=0;break;case 2:for(;E<16;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(n.flags=d,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=y;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=y;break}
n.head&&(n.head.text=d>>8&1),512&n.flags&&(D[0]=255&d,D[1]=d>>>8&255,n.check=m(n.check,D,2,0)),d=0,E=0,n.mode=3;case 3:for(;E<32;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.head&&(n.head.time=d),512&n.flags&&(D[0]=255&d,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,n.check=m(n.check,D,4,0)),d=0,E=0,n.mode=4;case 4:for(;E<16;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(D[0]=255&d,D[1]=d>>>8&255,n.check=m(n.check,D,2,0)),d=0,E=0,n.mode=5
;case 5:if(1024&n.flags){for(;E<16;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(D[0]=255&d,D[1]=d>>>8&255,n.check=m(n.check,D,2,0)),d=0,E=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>l&&(T=l),T&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),p.arraySet(n.head.extra,s,a,T,B)),512&n.flags&&(n.check=m(n.check,s,T,a)),l-=T,a+=T,n.length-=T),n.length))break e
;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===l)break e;T=0;do{B=s[a+T++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B))}while(B&&T<l);if(512&n.flags&&(n.check=m(n.check,s,T,a)),l-=T,a+=T,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===l)break e;T=0;do{B=s[a+T++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B))}while(B&&T<l);if(512&n.flags&&(n.check=m(n.check,s,T,a)),l-=T,a+=T,B)break e
}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=y;break}d=0,E=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case 10:for(;E<32;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}e.adler=n.check=r(d),d=0,E=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=i,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=E,2;e.adler=n.check=1,
n.mode=R;case R:if(5===t||6===t)break e;case 13:if(n.last){d>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}switch(n.last=1&d,E-=1,3&(d>>>=1)){case 0:n.mode=14;break;case 1:if(c(n),n.mode=20,6===t){d>>>=2,E-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=y}d>>>=2,E-=2;break;case 14:for(d>>>=7&E,E-=7&E;E<32;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=y;break}
if(n.length=65535&d,d=0,E=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>l&&(T=l),T>u&&(T=u),0===T)break e;p.arraySet(o,s,a,T,i),l-=T,a+=T,u-=T,i+=T,n.length-=T;break}n.mode=R;break;case 17:for(;E<14;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(n.nlen=257+(31&d),d>>>=5,E-=5,n.ndist=1+(31&d),d>>>=5,E-=5,n.ncode=4+(15&d),d>>>=4,E-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=y;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){
if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.lens[V[n.have++]]=7&d,d>>>=3,E-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},j=g(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,j){e.msg="invalid code lengths set",n.mode=y;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;I=(P=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,C=65535&P,!((G=P>>>24)<=E);){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(C<16)d>>>=G,E-=G,n.lens[n.have++]=C;else{
if(16===C){for(L=G+2;E<L;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(d>>>=G,E-=G,0===n.have){e.msg="invalid bit length repeat",n.mode=y;break}B=n.lens[n.have-1],T=3+(3&d),d>>>=2,E-=2}else if(17===C){for(L=G+3;E<L;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}E-=G,B=0,T=3+(7&(d>>>=G)),d>>>=3,E-=3}else{for(L=G+7;E<L;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}E-=G,B=0,T=11+(127&(d>>>=G)),d>>>=7,E-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=y;break}for(;T--;)n.lens[n.have++]=B}}
if(n.mode===y)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=y;break}if(n.lenbits=9,N={bits:n.lenbits},j=g(v,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,j){e.msg="invalid literal/lengths set",n.mode=y;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},j=g(_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,j){e.msg="invalid distances set",n.mode=y;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(l>=6&&u>=258){
e.next_out=i,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=E,f(e,S),i=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,s=e.input,l=e.avail_in,d=n.hold,E=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;I=(P=n.lencode[d&(1<<n.lenbits)-1])>>>16&255,C=65535&P,!((G=P>>>24)<=E);){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(I&&0==(240&I)){for(Z=G,O=I,F=C;I=(P=n.lencode[F+((d&(1<<Z+O)-1)>>Z)])>>>16&255,C=65535&P,!(Z+(G=P>>>24)<=E);){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}d>>>=Z,E-=Z,n.back+=Z}
if(d>>>=G,E-=G,n.back+=G,n.length=C,0===I){n.mode=26;break}if(32&I){n.back=-1,n.mode=R;break}if(64&I){e.msg="invalid literal/length code",n.mode=y;break}n.extra=15&I,n.mode=22;case 22:if(n.extra){for(L=n.extra;E<L;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;I=(P=n.distcode[d&(1<<n.distbits)-1])>>>16&255,C=65535&P,!((G=P>>>24)<=E);){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(0==(240&I)){for(Z=G,
O=I,F=C;I=(P=n.distcode[F+((d&(1<<Z+O)-1)>>Z)])>>>16&255,C=65535&P,!(Z+(G=P>>>24)<=E);){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}d>>>=Z,E-=Z,n.back+=Z}if(d>>>=G,E-=G,n.back+=G,64&I){e.msg="invalid distance code",n.mode=y;break}n.offset=C,n.extra=15&I,n.mode=24;case 24:if(n.extra){for(L=n.extra;E<L;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=y;break}n.mode=25;case 25:
if(0===u)break e;if(T=S-u,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=y;break}T>n.wnext?(T-=n.wnext,M=n.wsize-T):M=n.wnext-T,T>n.length&&(T=n.length),U=n.window}else U=o,M=i-n.offset,T=n.length;T>u&&(T=u),u-=T,n.length-=T;do{o[i++]=U[M++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;o[i++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===l)break e;l--,d|=s[a++]<<E,E+=8}if(S-=u,e.total_out+=S,n.total+=S,
S&&(e.adler=n.check=n.flags?m(n.check,o,S,i-S):h(n.check,o,S,i-S)),S=u,(n.flags?d:r(d))!==n.check){e.msg="incorrect data check",n.mode=y;break}d=0,E=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===l)break e;l--,d+=s[a++]<<E,E+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=y;break}d=0,E=0}n.mode=29;case 29:j=1;break e;case y:j=-3;break e;case 31:return-4;case 32:default:return w}return e.next_out=i,e.avail_out=u,e.next_in=a,e.avail_in=l,n.hold=d,n.bits=E,
(n.wsize||S!==e.avail_out&&n.mode<y&&(n.mode<27||4!==t))&&A(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(x-=e.avail_in,S-=e.avail_out,e.total_in+=x,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?m(n.check,o,S,e.next_out-S):h(n.check,o,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===S||4===t)&&j===b&&(j=-5),j)},n.inflateEnd=function(e){if(!e||!e.state)return w;var t=e.state;return t.window&&(t.window=null),
e.state=null,b},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?w:(n.head=t,t.done=!1,b):w},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?w:11===n.mode&&h(1,t,r,0)!==n.check?-3:A(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,b):w},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t){"use strict"
;var n=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,c,A,u,d){
var p,h,m,f,g,v,_,b,w,k=d.bits,R=0,y=0,E=0,x=0,S=0,T=0,M=0,U=0,G=0,I=0,C=null,Z=0,O=new n.Buf16(16),F=new n.Buf16(16),B=null,j=0;for(R=0;R<=15;R++)O[R]=0;for(y=0;y<l;y++)O[t[i+y]]++;for(S=k,x=15;x>=1&&0===O[x];x--);if(S>x&&(S=x),0===x)return c[A++]=20971520,c[A++]=20971520,d.bits=1,0;for(E=1;E<x&&0===O[E];E++);for(S<E&&(S=E),U=1,R=1;R<=15;R++)if(U<<=1,(U-=O[R])<0)return-1;if(U>0&&(0===e||1!==x))return-1;for(F[1]=0,R=1;R<15;R++)F[R+1]=F[R]+O[R];for(y=0;y<l;y++)0!==t[i+y]&&(u[F[t[i+y]]++]=y)
;if(0===e?(C=B=u,v=19):1===e?(C=r,Z-=257,B=s,j-=257,v=256):(C=o,B=a,v=-1),I=0,y=0,R=E,g=A,T=S,M=0,m=-1,f=(G=1<<S)-1,1===e&&G>852||2===e&&G>592)return 1;for(;;){_=R-M,u[y]<v?(b=0,w=u[y]):u[y]>v?(b=B[j+u[y]],w=C[Z+u[y]]):(b=96,w=0),p=1<<R-M,E=h=1<<T;do{c[g+(I>>M)+(h-=p)]=_<<24|b<<16|w|0}while(0!==h);for(p=1<<R-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,y++,0==--O[R]){if(R===x)break;R=t[i+u[y]]}if(R>S&&(I&f)!==m){for(0===M&&(M=S),g+=E,U=1<<(T=R-M);T+M<x&&!((U-=O[T+M])<=0);)T++,U<<=1;if(G+=1<<T,
1===e&&G>852||2===e&&G>592)return 1;c[m=I&f]=S<<24|T<<16|g-A|0}}return 0!==I&&(c[g+I]=R-M<<24|64<<16|0),d.bits=S,0}},{"../utils/common":41}],51:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,
this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?L[e]:L[256+(e>>>7)]}function i(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>M-n?(e.bi_buf|=t<<e.bi_valid&65535,i(e,e.bi_buf),e.bi_buf=t>>M-e.bi_valid,e.bi_valid+=n-M):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function A(e,t){
var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function u(e,t,n){var r,s,o=new Array(T+1),a=0;for(r=1;r<=T;r++)o[r]=a=a+n[r-1]<<1;for(s=0;s<=t;s++){var i=e[2*s+1];0!==i&&(e[2*s]=A(o[i]++,i))}}function d(e){var t;for(t=0;t<y;t++)e.dyn_ltree[2*t]=0;for(t=0;t<E;t++)e.dyn_dtree[2*t]=0;for(t=0;t<x;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*U]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function p(e){e.bi_valid>8?i(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,
e.bi_valid=0}function h(e,t,n,r){var s=2*t,o=2*n;return e[s]<e[o]||e[s]===e[o]&&r[t]<=r[n]}function m(e,t,n){for(var r=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&h(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!h(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r}function f(e,t,n){var r,s,o,i,A=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*A]<<8|e.pending_buf[e.d_buf+2*A+1],s=e.pending_buf[e.l_buf+A],A++,0===r?c(e,s,t):(c(e,(o=P[s])+R+1,t),0!==(i=Z[o])&&l(e,s-=D[o],i),
c(e,o=a(--r),n),0!==(i=O[o])&&l(e,r-=Q[o],i))}while(A<e.last_lit);c(e,U,t)}function g(e,t){var n,r,s,o=t.dyn_tree,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=S,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,i&&(e.static_len-=a[2*s+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)m(e,o,n);s=l;do{n=e.heap[1],
e.heap[1]=e.heap[e.heap_len--],m(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*s]=o[2*n]+o[2*r],e.depth[s]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=s,e.heap[1]=s++,m(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,s,o,a,i,l=t.dyn_tree,c=t.max_code,A=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;o<=T;o++)e.bl_count[o]=0
;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<S;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,m++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=d[r-p]),i=l[2*r],e.opt_len+=i*(o+a),u&&(e.static_len+=i*(A[2*r+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(s=e.heap[--n])>c||(l[2*s+1]!==o&&(e.opt_len+=(o-l[2*s+1])*l[2*s],l[2*s+1]=o),r--)}}(e,t),u(o,c,e.bl_count)}
function v(e,t,n){var r,s,o=-1,a=t[1],i=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=a,a=t[2*(r+1)+1],++i<l&&s===a||(i<c?e.bl_tree[2*s]+=i:0!==s?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[2*G]++):i<=10?e.bl_tree[2*I]++:e.bl_tree[2*C]++,i=0,o=s,0===a?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))}function _(e,t,n){var r,s,o=-1,a=t[1],i=0,A=7,u=4;for(0===a&&(A=138,u=3),r=0;r<=n;r++)if(s=a,a=t[2*(r+1)+1],!(++i<A&&s===a)){if(i<u)do{c(e,s,e.bl_tree)
}while(0!=--i);else 0!==s?(s!==o&&(c(e,s,e.bl_tree),i--),c(e,G,e.bl_tree),l(e,i-3,2)):i<=10?(c(e,I,e.bl_tree),l(e,i-3,3)):(c(e,C,e.bl_tree),l(e,i-11,7));i=0,o=s,0===a?(A=138,u=3):s===a?(A=6,u=3):(A=7,u=4)}}function b(e,t,n,r){l(e,(k<<1)+(r?1:0),3),function(e,t,n){p(e),i(e,n),i(e,~n),w.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}
var w=e("../utils/common"),k=0,R=256,y=R+1+29,E=30,x=19,S=2*y+1,T=15,M=16,U=256,G=16,I=17,C=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(y+2));r(j);var N=new Array(2*E);r(N);var L=new Array(512);r(L);var P=new Array(256);r(P);var D=new Array(29);r(D);var V,z,q,Q=new Array(E);r(Q);var X=!1
;n._tr_init=function(e){X||(function(){var e,t,n,r,o,a=new Array(T+1);for(n=0,r=0;r<28;r++)for(D[r]=n,e=0;e<1<<Z[r];e++)P[n++]=r;for(P[n-1]=r,o=0,r=0;r<16;r++)for(Q[r]=o,e=0;e<1<<O[r];e++)L[o++]=r;for(o>>=7;r<E;r++)for(Q[r]=o<<7,e=0;e<1<<O[r]-7;e++)L[256+o++]=r;for(t=0;t<=T;t++)a[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,a[8]++;for(;e<=255;)j[2*e+1]=9,e++,a[9]++;for(;e<=279;)j[2*e+1]=7,e++,a[7]++;for(;e<=287;)j[2*e+1]=8,e++,a[8]++;for(u(j,y+1,a),e=0;e<E;e++)N[2*e+1]=5,N[2*e]=A(e,5)
;V=new s(j,Z,R+1,y,T),z=new s(N,O,0,E,T),q=new s(new Array(0),F,0,x,7)}(),X=!0),e.l_desc=new o(e.dyn_ltree,V),e.d_desc=new o(e.dyn_dtree,z),e.bl_desc=new o(e.bl_tree,q),e.bi_buf=0,e.bi_valid=0,d(e)},n._tr_stored_block=b,n._tr_flush_block=function(e,t,n,r){var s,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1
;for(t=32;t<R;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),g(e,e.l_desc),g(e,e.d_desc),a=function(e){var t;for(v(e,e.dyn_ltree,e.l_desc.max_code),v(e,e.dyn_dtree,e.d_desc.max_code),g(e,e.bl_desc),t=x-1;t>=3&&0===e.bl_tree[2*B[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=s&&(s=o)):s=o=n+5,n+4<=s&&-1!==t?b(e,t,n,r):4===e.strategy||o===s?(l(e,2+(r?1:0),3),f(e,j,N)):(l(e,4+(r?1:0),3),function(e,t,n,r){var s;for(l(e,t-257,5),l(e,n-1,5),
l(e,r-4,4),s=0;s<r;s++)l(e,e.bl_tree[2*B[s]+1],3);_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),f(e,e.dyn_ltree,e.dyn_dtree)),d(e),r&&p(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+R+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1},
n._tr_align=function(e){l(e,2,3),c(e,U,j),function(e){16===e.bi_valid?(i(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t){"use strict"
;t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}},n={};e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){
if("object"==typeof window)return window}}(),e.o=(e,t)=>({}.hasOwnProperty.call(e,t)),(()=>{"use strict";let t;Object.fromEntries?t=Object.fromEntries:(t=e=>[...e].reduce((e,[t,n])=>(e[t]=n,e),{}),Object.fromEntries=t),Object.defineProperties(Promise.prototype,{done:{value:function(e){return this.then((...t)=>e.apply(this,t))},configurable:!0,enumerable:!0,writable:!1},fail:{value:function(e){return this.then(()=>{},(...t)=>e.apply(this,t))},configurable:!0,enumerable:!0,writable:!1},always:{
value:function(e){return this.then((...t)=>e.apply(this,t),(...t)=>e.apply(this,t))},configurable:!0,enumerable:!0,writable:!1}});const n=Promise;let r=0;const s=[],o=()=>{const e=["debug"],t=["log"],n=["warn","info"],s=["error"],o=[...e,...t,...n,...s],i=s;r>=80&&i.push(...e),r>=60&&i.push(...t),r>=30&&i.push(...n),o.forEach(e=>a[e]=i.includes(e)?console[e].bind(console):()=>{})},a={set:e=>{r=e,s.forEach(e=>{e(a,r)}),o()},get:()=>r,get verbose(){return(a.debug||(()=>{})).bind(console)},
debug:()=>{},log:()=>{},warn:()=>{},info:()=>{},error:()=>{},addChangeListener:e=>{s.push(e)}};o();let i=[];const l={late:!1,init:()=>{},registerLateCallback:e=>{a.debug("toea: register callback"),i.push(e)},ensureLate:e=>{l.late?e():l.registerLateCallback(e)},setReady:()=>{a.debug("toea: run "+i.length+" callbacks"),l.late=!0;for(let e=0;e<i.length;e++)i[e]();i=[]}},c=l,A=e=>new n(t=>h(t,e));let u=0;const d=(e,t)=>{const r=Date.now();if(u+e<r)return new n(e=>k(()=>{u=Date.now(),e()},t||0))
},p=async function(e,...t){await d(1e3),e.apply(this,t)},h=function(e,t){return t?k.apply(this,[e,t]):(p.apply(this,[e]),0)},m=e=>{const t=[],n=[],r=()=>{let s;if(n.length<e.threads&&t.length&&(s=t.shift())){const e=s.fn();let t;if(void 0!==e.catch){const n=z();e.then(n.resolve).catch(n.reject),t=n.promise()}else t=e;n.push(t),t.always(()=>{let e;(e=n.indexOf(t))>-1&&n.splice(e,1),r()}),s.p.consume(t)}};return{add:function(e){const n=z();return t.push({fn:e,p:n}),r(),n.promise()}}},f=e=>{
let t={};const n=(null==e?void 0:e.retimeout_on_get)||!1,r=(null==e?void 0:e.timeout)||300,s=(null==e?void 0:e.check_interval)||120;let o;const a=e=>{delete t[e]},i=()=>{const e=Date.now()-1e3*r;Object.entries(t).forEach(([t,n])=>{n.ts<e&&h(()=>a(t),1)})},l={init:()=>(o||(o&&E(o),o=null,o=R(i,1e3*s)),l),set:(e,n)=>{t[e]={value:n,ts:Date.now()}},get:(e,r)=>{let s=r;return t[e]&&(n&&(t[e].ts=Date.now()),s=t[e].value),s},remove:a,removeAll:()=>{t={}}};return l},g=()=>document.cookie,v=e=>{
document.cookie=e},_=self,b=location.origin,w=_.forge_sha256,{setTimeout:k,setInterval:R,clearTimeout:y,clearInterval:E,AbortController:x,fetch:S,XMLHttpRequest:T,webkitNotifications:M,decodeURIComponent:U,encodeURIComponent:G,Notification:I,TextDecoder:C,FileReader:Z,DOMParser:O,unescape:F,escape:B,btoa:j,atob:N,alert:L,confirm:P,crypto:D,Worker:V}=self,z=e=>{const t=(()=>{let e,t;const n=[],r=[],s=e=>{r.push(e),o()},o=()=>{if(void 0!==e){let n;for(;r.length;)n=r.shift(),
void 0!==n.state&&n.state!==e||(t=("function"==typeof n.f?n.f.call(a,t):n.f)||t)}},a={promise:()=>a,done:e=>(s({state:!0,f:e}),a),fail:e=>(s({state:!1,f:e}),a),always:e=>(s({f:e}),a),progress:e=>(e&&n.push(e),a),then:(e,n,r)=>z(s=>{const o=(e,n)=>(...r)=>{const o=e?e(t):void 0,a=o&&"function"==typeof o.promise?o.promise():null,i=o&&"function"==typeof o.then?o:null
;if(a)a.done(e=>s.resolve(e)).fail((...e)=>s.reject(e[0])).progress((...e)=>s.notify(...e));else if(i)i.then((...e)=>s.resolve(...e),e=>s.reject(e));else{const t=e?[o]:r;s[n](t[0])}};a.done(o(e,"resolve")),a.fail(o(n,"reject")),a.progress(o(r,"notify"))}).promise(),each:e=>{const t=z();return a.then(n=>{const r=Array.isArray(n)?n:[n];z.when(r.map(t=>e(t))).then(t.resolve)}),t.promise()},iterate:e=>{const t=z();return a.then(n=>{const r=(Array.isArray(n)?n:[n]).map(t=>()=>e(t))
;z.onebyone(r,!0).done(e=>{t.resolve(e)}).fail(t.reject)}),t.promise()}};return{get:()=>a,try_resolve:n=>(void 0===e&&(e=!0,t=n),o(),a),try_reject:n=>(void 0===e&&(e=!1,t=n),o(),a),do_notify:e=>((e=>{n.forEach(t=>t(e))})(e),a)}})(),n={promise:()=>t.get(),resolve:e=>t.try_resolve(e),reject:e=>t.try_reject(e),notify:e=>t.do_notify(e),
consume:e=>(e&&e.promise?e.promise().done(e=>n.resolve(e)).fail((...e)=>n.reject(e[0])).progress(e=>n.notify(e)):e&&e.then?e.then(e=>n.resolve(e),(...e)=>n.reject(e[0])):a.warn("promise: incompatible object given to consume()",e),n.promise())};return e&&e(n),n};z.Pledge=(...e)=>{const t=z();return t.resolve(...e),t.promise()},z.Breach=(...e)=>{const t=z();return t.reject(e[0]),t.promise()},z.onebyone=(e,t=!0)=>{const n=[],r=z();let s=0;const o=()=>{if(s<e.length){const a=(0,e[s++])()
;a&&a.promise?a.promise().done(e=>{n.push(e),o()}).fail(()=>{if(n.push(null),t)return r.reject();o()}):a&&a.then?a.then(e=>{n.push(e),o()},()=>{if(n.push(null),t)return r.reject();o()}):(n.push(a),o())}else r.resolve(n)};return o(),r.promise()},z.or=e=>{let t;const n=z(),r=()=>{e.length?(t=e.shift(),t&&z.Pledge().then(t).done(n.resolve).fail(r)):n.reject()};return r(),n.promise()},z.sidebyside=e=>{e=Array.isArray(e)?e:[e];const t=z();let n=e.length;return n?e.forEach(e=>{
e&&e.promise&&e.promise().always(()=>{0==--n&&t.resolve()})}):t.resolve(),t.promise()},z.when=e=>{e=Array.isArray(e)?e:[e];const t=z();let n=e.length;const r=[];return n?e.forEach(e=>{let s;if(e&&e.promise)s=e.promise();else{if(!e.then)return void a.warn("promise: incompatible object given to when()",e);s=e}s.fail(()=>{t.reject(),n=-1}).done(e=>{r.push(e),0==--n&&t.resolve(r)})}):t.resolve(r),t.promise()},z.sleep=e=>{const t=z();return k(t.resolve,e),t.promise()}
;const q=self.rea,Q=self.rea,X=q.FEATURES,H=X.HTML5.LOCALSTORAGE,W=[];let Y=!0;const J=(()=>{const e=[X.CONSTANTS.STORAGE.VERSION,X.CONSTANTS.STORAGE.TYPE],t={};return e.forEach(e=>{t[e]=!0}),{keys:e,has:function(e){return!!t[e]}}})(),K=()=>q.other.openDatabase("tmStorage","1.0","TM Storage",31457280),$=(e,t)=>{if(!e)return t;const n=e[0];switch(e=e.substring(1),n){case"b":return"true"==e;case"n":return Number(e);case"o":try{return JSON.parse(e)}catch(e){
a.error("Storage: getValue ERROR: "+e.message)}return t;default:return e}},ee=e=>{const t=(typeof e)[0];switch(t){case"o":try{e=t+JSON.stringify(e)}catch(n){a.error("Storage: setValue ERROR: "+n.message),e=t+JSON.stringify({})}break;default:e=t+e}return e},te=function(e,t){const n=z();let r;return e==X.DB.USE&&"clean"==t?a.warn("Storage: can't clean currently active storage"):r=ae[e][t],r?r().then(()=>{n.resolve()},()=>{n.reject()}):n.resolve(),n.promise()},ne=(e,t)=>{const n=z(),r=[]
;return Object.getOwnPropertyNames(t).forEach(n=>{void 0!==t[n]&&r.push(e.setValue(n,t[n]))}),z.when(r).done(()=>{n.resolve()}),n.promise()},re=(e,t)=>{const n={};for(const r of t){const t=e.getValue(r);void 0!==t&&(n[r]=t)}return n},se=(()=>{const e="s_",t=t=>{v(e+t+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/")},n={setValue:(t,n)=>{const r=z();return((t,n)=>{const r=new Date;r.setTime(r.getTime()+47304e7);const s="expires="+r.toUTCString();v(e+t+"="+n+";"+s+";path=/")})(t,ee(n)),
r.resolve(),r.promise()},setValues:e=>{const t=[];return Object.keys(e).forEach(r=>{t.push(n.setValue(r,e[r]))}),z.sidebyside(t)},getValue:(t,n)=>$((t=>{const n=e+t+"=",r=g().split(";");for(let e=0;e<r.length;e++){let t=r[e];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(n))return t.substring(n.length,t.length)}return null})(t),n),deleteAll:()=>{const e=z();return n.listValues().forEach(e=>{t(e)}),e.resolve(),e.promise()},deleteValue:e=>{const n=z();return t(e),n.resolve(),n.promise()},
listValues:()=>(()=>{const t=g().split(";"),n=[];for(let r=0;r<t.length;r++){const s=t[r].trim(),o=s.indexOf("="),a=s.substr(0,o);a.substr(0,e.length)==e&&n.push(a.substr(e.length))}return n})().map(e=>e)};return n})();let oe;const ae={localStorage:(()=>{const e=X.HTML5.LOCALSTORAGE,t={setValue:(t,n)=>{const r=z(),s=t,o=ee(n);return Y&&void 0!==o&&e.setItem(s,o),r.resolve(),r.promise()},setValues:e=>{const n=[];return Object.keys(e).forEach(r=>{n.push(t.setValue(r,e[r]))}),z.sidebyside(n)},
getValue:(t,n)=>{const r=t;return $(e.getItem(r),n)},deleteAll:()=>{const n=z();return Y&&t.listValues().forEach(t=>{J.has(t)||e.removeItem(t)}),n.resolve(),n.promise()},deleteValue:t=>{const n=z(),r=t;return Y&&e.removeItem(r),n.resolve(),n.promise()},listValues:()=>{const t=[];for(let n=0;n<e.length;n++){const r=e.key(n);null!==r&&t.push(r)}return t}};return{options:{},methods:t}})(),sql:(()=>{let e,t=!1,n={};const r=()=>{const t=z();return null==e||e.db.transaction(n=>{
n.executeSql("CREATE TABLE IF NOT EXISTS config(ID INTEGER PRIMARY KEY ASC, name TEXT, value TEXT)",[],()=>t.resolve(),null==e?void 0:e.onError)}),t.promise()},s={setValue:(t,r)=>{const s=z(),o=t,i=ee(r);return Y&&(n[o]?null==e||e.db.transaction(t=>{t.executeSql("UPDATE config SET value=? WHERE name=?",[i,o],()=>{q.runtime.lastError&&a.warn(q.runtime.lastError),s.resolve()},null==e?void 0:e.onError)}):null==e||e.db.transaction(t=>{
t.executeSql("INSERT INTO config(name, value) VALUES (?,?)",[o,i],()=>{q.runtime.lastError&&a.warn(q.runtime.lastError),s.resolve()},null==e?void 0:e.onError)})),n[o]=i,Y||s.resolve(),s.promise()},setValues:e=>{const t=[];return Object.keys(e).forEach(n=>{t.push(s.setValue(n,e[n]))}),z.sidebyside(t)},getValue:(e,t)=>$(n[e],t),deleteAll:()=>{const t=z(),o=re(s,J.keys);n={};for(const e of Object.keys(o))n[e]=ee(o[e]);return Y?null==e||e.db.transaction(o=>{o.executeSql("DROP TABLE config",[],()=>{
r().done(()=>{ne(s,n).done(t.resolve)})},null==e?void 0:e.onError)}):t.resolve(),t.promise()},deleteValue:t=>{const r=z(),s=t;return delete n[s],Y?null==e||e.db.transaction(t=>{t.executeSql("DELETE FROM config WHERE name=?",[s],()=>r.resolve(),null==e?void 0:e.onError)}):r.resolve(),r.promise()},listValues:()=>{const e=[];return Object.getOwnPropertyNames(n).forEach(t=>{e.push(t)}),e},isWorking:()=>z.Pledge()};return{init:()=>{const s=z(),o=(e,t)=>{if(n={},
t)for(let e=0;e<t.rows.length;e++)n[t.rows.item(e).name]=t.rows.item(e).value;s.resolve()},i=()=>{t?s.resolve():(t=!0,null==e||e.db.transaction(t=>{t.executeSql("SELECT * FROM config",[],o,null==e?void 0:e.onError)}))};return e?i():(()=>{const t=z();return e={db:K(),onSuccess:()=>{},onError:(e,t)=>(a.error("webSQL: localDB Error ",t),!1)},e.db?r().done(t.resolve):(e=null,t.reject()),t.promise()})().done(i).fail(s.reject),s.promise()},clean:()=>(t=!1,n={},z.Pledge()),options:{},methods:s}})(),
chromeStorage:(()=>{let e=!1,t={},n=!1,r=!1;const s=q.extension.inIncognitoContext?"incognito":"normal",o=(e,n)=>{Y&&r&&"local"==n&&e&&Object.keys(e).forEach(n=>{const r=e[n],o=r.newValue,a=r.oldValue;o?o.origin!==s&&(o.value&&(t[n]=o.value),ie.notifyDifferentOriginChangeListeners(n,o.value)):a&&a.origin!==s&&delete t[n]})},i={setValue:(e,n)=>{const r=z(),o=e;if(t[o]=n,Y){const e={};e[o]={origin:s,value:n},q.storage.local.set(e,r.resolve)}else r.resolve();return r.promise()},setValues:e=>{
const n=z(),r={};return Object.keys(e).forEach(n=>{const o=n,a=e[n];t[o]=a,Y&&(r[o]={origin:s,value:a})}),Y?q.storage.local.set(r,n.resolve):n.resolve(),n.promise()},getValue:(e,n)=>{const r=e;return void 0===t[r]?n:t[r]},deleteAll:()=>{const e=z(),n=re(i,J.keys);return t=n,Y?q.storage.local.clear(()=>{ne(i,n).done(e.resolve)}):e.resolve(),e.promise()},deleteValue:e=>{const n=z(),r=e;return delete t[r],Y?q.storage.local.remove(r,n.resolve):n.resolve(),n.promise()},listValues:()=>{const e=[]
;return Object.getOwnPropertyNames(t).forEach(t=>{e.push(t)}),e},setTemporary:e=>{Y=!e,r=!0},isWorking:()=>{const e=z();let t=0;const n=Date.now(),r="foo",s={};s[r]={origin:"normal",value:n};const o=()=>{c&&y(c),c=null},i=e=>{++t<=5?(a.warn("storage:",e||"storage set/get test failed!"),k(A,t*t*100)):(a.warn("storage: storage set/get test finally failed!"),l())},l=()=>{c&&(o(),e.reject())};let c=k(()=>{c=null,l()},18e4);const A=()=>{a.log("Storage: test -> start");const t=Date.now()
;q.storage.local.set(s,()=>{a.log("Storage: test -> set after "+(Date.now()-t)+"ms"),q.storage.local.get(r,s=>(a.log("Storage: test -> get after "+(Date.now()-t)+"ms"),s&&s[r]?s[r].value!==n?i("read value is different "+JSON.stringify(s[r])+" != "+JSON.stringify(n)):q.runtime.lastError?i(q.runtime.lastError&&q.runtime.lastError.message||"lastError is set"):void q.storage.local.remove(r,()=>{a.log("Storage: test -> remove after "+(Date.now()-t)+"ms"),c&&(o(),e.resolve())
}):i("read value is"+JSON.stringify(s))))})};return A(),e.promise()}};return{init:()=>{const r=z();if(e)r.resolve();else{e=!0;const s=e=>{t={},e&&Object.keys(e).forEach(n=>{const r=e[n];r&&r.hasOwnProperty("origin")&&r.hasOwnProperty("value")?t[n]=r.value:t[n]=r}),n||(q.storage.onChanged.addListener(o),n=!0),r.resolve()};q.storage.local.get(null,s)}return r.promise()},clean:()=>{const n=z();return e=!1,t={},n.resolve(),n.promise()},options:{},methods:i}})()},ie={secure:{cookie:se},
setValue:(e,t)=>oe.setValue(e,t),setValues:e=>oe.setValues(e),getValue:(e,t)=>oe.getValue(e,t),deleteAll:()=>oe.deleteAll(),deleteValue:e=>oe.deleteValue(e),listValues:()=>oe.listValues(),isWorking:()=>(oe.isWorking||z.Pledge)(),migrate:(e,t,n)=>{const r=z(),s=ae[e],o=ae[t],i=n||{};return s&&o?te(e,"init").then(()=>te(t,"init")).then(()=>{const e=z(),t=[];return s.methods.listValues().forEach(e=>{const n=s.methods.getValue(e);i.drop&&t.push(s.methods.deleteValue(e)),
void 0!==n&&t.push(o.methods.setValue(e,n))}),z.when(t).done(()=>{e.resolve()}),e.promise()}).then(()=>te(t,"clean")).then(()=>te(e,"clean")).done(()=>{r.resolve()}).fail(()=>{r.reject()}):(a.error("Migration: unknown storage implementation(s) ",e,t),r.reject()),r.promise()},setTemporary:e=>{Y=!e},init:()=>{a.debug("Storage: use "+X.DB.USE);const e=ae[X.DB.USE];return oe=e.methods,e.init?e.init():z.Pledge()},factoryReset:()=>(H&&H.removeItem(X.CONSTANTS.STORAGE.LEGACY_VERSION),ie.deleteAll()),
isWiped:()=>{if("localStorage"===X.DB.USE||!H)return z.Pledge(!1);const e=z(),t=ie.getValue(X.CONSTANTS.STORAGE.VERSION);let n=!1;return H.getItem(X.CONSTANTS.STORAGE.LEGACY_VERSION)&&!t&&(ie.listValues().length?a.warn("storage: unable to find version information"):n=!0),e.resolve(n),e.promise()},setVersion:(e,t)=>{const n=z();return Y?(H&&H.setItem(X.CONSTANTS.STORAGE.LEGACY_VERSION,e),
ie.setValue(X.CONSTANTS.STORAGE.VERSION,e).then(()=>t?ie.setValue(X.CONSTANTS.STORAGE.SCHEMA,t):z.Pledge()).always(n.resolve)):n.resolve(),n.promise()},getVersion:e=>{const t=z();let n=ie.getValue(X.CONSTANTS.STORAGE.VERSION)||ie.getValue(X.CONSTANTS.STORAGE.LEGACY_VERSION)||(H?H.getItem(X.CONSTANTS.STORAGE.LEGACY_VERSION):null);if(n)t.resolve(n);else{const r="sql";te(r,"init").then(()=>(n=ae.sql.methods.getValue(X.CONSTANTS.STORAGE.LEGACY_VERSION)||e,te(r,"clean"))).always(()=>{t.resolve(n||e)
})}return t.promise()},getSchemaVersion:()=>ie.getValue(X.CONSTANTS.STORAGE.SCHEMA,"3.5"),addDifferentOriginChangeListener:(e,t)=>{W.push({search:e,cb:t})},notifyDifferentOriginChangeListeners:(e,t)=>{W.forEach(n=>{0==e.indexOf(n.search)&&n.cb(e,t)})},recover:e=>{const t=z();"string"==typeof e&&(e={method:e,storages:["sql","chromeStorage"]});const n={};if(e.storages.forEach(e=>{n[e]=!0}),"log"==e.method){let e,r,s,o;const i=[{method:"sql",fn:t=>{a.debug("check sql storage for data...");try{
if(o=K(),q.runtime.lastError||!o)return e=q.runtime.lastError,t();o.transaction(n=>{n.executeSql("CREATE TABLE IF NOT EXISTS config(ID INTEGER PRIMARY KEY ASC, name TEXT, value TEXT)",[],()=>{a.debug("sql table found/created"),t()},(n,r)=>(e=r,t(),!1))})}catch(n){e=n,k(t,1)}}},{method:"sql",fn:t=>{const n={};o.transaction(s=>{s.executeSql("SELECT * FROM config",[],(e,s)=>{if(s)for(let e=0;e<s.rows.length;e++)n[s.rows.item(e).name]=s.rows.item(e).value;r=n,k(t,1)},(n,r)=>(e=r,t(),!1))})}},{
method:"sql",fn:e=>{const t=r?Object.getOwnPropertyNames(r):[];r&&t.length?(a.debug("found values:"),t.forEach(e=>{var t;const n=null===(t=r[e])||void 0===t?void 0:t.toString();a.debug("    ",e,n&&n.length>30?n.substr(0,30):n)})):(a.warn("no data found"),n.sql=!1),k(e,1)}},{method:"chromeStorage",fn:e=>{a.debug("check chromeStorage for data..."),q.storage.local.get(null,t=>{s=t,e()})}},{method:"chromeStorage",fn:e=>{const t=s?Object.getOwnPropertyNames(s):[]
;s&&t.length?(a.debug("found values:"),t.forEach(e=>{var t;const n=null===(t=s[e])||void 0===t?void 0:t.toString();a.debug("    ",e,n&&n.length>30?n.substr(0,30):n)})):(a.warn("no data found"),n.chromeStorage=!1,k(e,1))}}],l=()=>{if(e)return a.warn("error:",e),void t.resolve();for(const e of i)if(n[e.method])return void e.fn(l);t.resolve()};l()}else t.resolve();return t.promise()}},le=ie,ce=e=>F(G(e)),Ae=e=>U(B(e)),ue=e=>{let t=""
;for(let n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return j(t)},de=e=>N(e),pe=(e,t)=>{try{let n,r;if("object"==typeof t?(n=t.encoding,r=t.array):n=t,!r&&n)return new C(n).decode(e);{let t=0;const r=[],s=e.byteLength;for(;t<s;t+=16384)r.push(String.fromCharCode.apply(null,new Uint8Array(e,t,Math.min(16384,s-t))));let o=r.join("");return n&&"utf-8"==n.toLowerCase()&&(o=Ae(o)),o}}catch(e){a.warn(e)}return null},he=(e,t)=>{try{let n;n="object"==typeof t?t.encoding:t,
n&&"utf-8"==n.toLowerCase()&&(e=ce(e));const r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=255&e.charCodeAt(t);return r.buffer}catch(e){a.warn(e)}return new Uint8Array(0).buffer},me=(e,t)=>new Promise((n,r)=>{const s=t&&t.encoding?"text/plain":"binary/octet-stream",o=new Blob([e],{type:s}),a=new Z;a.onload=e=>{e.target?n(e.target.result):r(new Error("Could not convert array to string!"))},t&&t.encoding?a.readAsText(o,t.encoding):a.readAsBinaryString(o)}),fe=(e,t)=>{
const n=(e,t)=>e<<t|e>>>32-t,r=(e,t)=>{const n=2147483648&e,r=2147483648&t,s=1073741824&e,o=1073741824&t,a=(1073741823&e)+(1073741823&t);return s&o?2147483648^a^n^r:s|o?1073741824&a?3221225472^a^n^r:1073741824^a^n^r:a^n^r},s=(e,t,s,o,a,i,l)=>(e=r(e,r(r(((e,t,n)=>e&t|~e&n)(t,s,o),a),l)),r(n(e,i),t)),o=(e,t,s,o,a,i,l)=>(e=r(e,r(r(((e,t,n)=>e&n|t&~n)(t,s,o),a),l)),r(n(e,i),t)),a=(e,t,s,o,a,i,l)=>(e=r(e,r(r(((e,t,n)=>e^t^n)(t,s,o),a),l)),
r(n(e,i),t)),i=(e,t,s,o,a,i,l)=>(e=r(e,r(r(((e,t,n)=>t^(e|~n))(t,s,o),a),l)),r(n(e,i),t)),l=e=>{let t,n,r="",s="";for(n=0;n<=3;n++)t=e>>>8*n&255,s="0"+t.toString(16),r+=s.substr(s.length-2,2);return r};let c,A,u,d,p,h,m,f,g,v=[];for(t&&"utf-8"==t.toLowerCase()&&(e=ce(e)),v=(e=>{let t;const n=e.length,r=n+8,s=16*((r-r%64)/64+1),o=Array(s-1);let a=0,i=0;for(;i<n;)t=(i-i%4)/4,a=i%4*8,o[t]=o[t]|e.charCodeAt(i)<<a,i++;return t=(i-i%4)/4,a=i%4*8,o[t]=o[t]|128<<a,o[s-2]=n<<3,o[s-1]=n>>>29,o})(e),
h=1732584193,m=4023233417,f=2562383102,g=271733878,c=0;c<v.length;c+=16)A=h,u=m,d=f,p=g,h=s(h,m,f,g,v[c+0],7,3614090360),g=s(g,h,m,f,v[c+1],12,3905402710),f=s(f,g,h,m,v[c+2],17,606105819),m=s(m,f,g,h,v[c+3],22,3250441966),h=s(h,m,f,g,v[c+4],7,4118548399),g=s(g,h,m,f,v[c+5],12,1200080426),f=s(f,g,h,m,v[c+6],17,2821735955),m=s(m,f,g,h,v[c+7],22,4249261313),h=s(h,m,f,g,v[c+8],7,1770035416),g=s(g,h,m,f,v[c+9],12,2336552879),f=s(f,g,h,m,v[c+10],17,4294925233),m=s(m,f,g,h,v[c+11],22,2304563134),
h=s(h,m,f,g,v[c+12],7,1804603682),g=s(g,h,m,f,v[c+13],12,4254626195),f=s(f,g,h,m,v[c+14],17,2792965006),m=s(m,f,g,h,v[c+15],22,1236535329),h=o(h,m,f,g,v[c+1],5,4129170786),g=o(g,h,m,f,v[c+6],9,3225465664),f=o(f,g,h,m,v[c+11],14,643717713),m=o(m,f,g,h,v[c+0],20,3921069994),h=o(h,m,f,g,v[c+5],5,3593408605),g=o(g,h,m,f,v[c+10],9,38016083),f=o(f,g,h,m,v[c+15],14,3634488961),m=o(m,f,g,h,v[c+4],20,3889429448),h=o(h,m,f,g,v[c+9],5,568446438),g=o(g,h,m,f,v[c+14],9,3275163606),
f=o(f,g,h,m,v[c+3],14,4107603335),m=o(m,f,g,h,v[c+8],20,1163531501),h=o(h,m,f,g,v[c+13],5,2850285829),g=o(g,h,m,f,v[c+2],9,4243563512),f=o(f,g,h,m,v[c+7],14,1735328473),m=o(m,f,g,h,v[c+12],20,2368359562),h=a(h,m,f,g,v[c+5],4,4294588738),g=a(g,h,m,f,v[c+8],11,2272392833),f=a(f,g,h,m,v[c+11],16,1839030562),m=a(m,f,g,h,v[c+14],23,4259657740),h=a(h,m,f,g,v[c+1],4,2763975236),g=a(g,h,m,f,v[c+4],11,1272893353),f=a(f,g,h,m,v[c+7],16,4139469664),m=a(m,f,g,h,v[c+10],23,3200236656),
h=a(h,m,f,g,v[c+13],4,681279174),g=a(g,h,m,f,v[c+0],11,3936430074),f=a(f,g,h,m,v[c+3],16,3572445317),m=a(m,f,g,h,v[c+6],23,76029189),h=a(h,m,f,g,v[c+9],4,3654602809),g=a(g,h,m,f,v[c+12],11,3873151461),f=a(f,g,h,m,v[c+15],16,530742520),m=a(m,f,g,h,v[c+2],23,3299628645),h=i(h,m,f,g,v[c+0],6,4096336452),g=i(g,h,m,f,v[c+7],10,1126891415),f=i(f,g,h,m,v[c+14],15,2878612391),m=i(m,f,g,h,v[c+5],21,4237533241),h=i(h,m,f,g,v[c+12],6,1700485571),g=i(g,h,m,f,v[c+3],10,2399980690),
f=i(f,g,h,m,v[c+10],15,4293915773),m=i(m,f,g,h,v[c+1],21,2240044497),h=i(h,m,f,g,v[c+8],6,1873313359),g=i(g,h,m,f,v[c+15],10,4264355552),f=i(f,g,h,m,v[c+6],15,2734768916),m=i(m,f,g,h,v[c+13],21,1309151649),h=i(h,m,f,g,v[c+4],6,4149444226),g=i(g,h,m,f,v[c+11],10,3174756917),f=i(f,g,h,m,v[c+2],15,718787259),m=i(m,f,g,h,v[c+9],21,3951481745),h=r(h,A),m=r(m,u),f=r(f,d),g=r(g,p);return(l(h)+l(m)+l(f)+l(g)).toLowerCase()},ge=e=>{let t
;t=e.split(",")[0].includes("base64")?N(e.split(",")[1]):F(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return new Blob([r],{type:n})},ve=e=>new Promise(t=>{const n=new Z;n.onload=e=>{var n;t((null===(n=e.target)||void 0===n?void 0:n.result)||void 0)},n.readAsDataURL(e)}),_e=async(e,t)=>new Promise(n=>{const r=new Z;r.onload=()=>{n(r.result||"")},r.onerror=e=>{a.warn("unable to decode data "+e),
n("")},t?r.readAsText(e,t):r.readAsBinaryString(e)}),be=e=>j(ce(e)),we=e=>Ae(N(e)),ke=(e,t,n)=>{const r=e.indexOf(t);if(-1==r)return"";if(!n)return e.substr(r+t.length);const s=e.substr(r+t.length).indexOf(n);return-1==s?"":e.substr(r+t.length,s)},Re=(e,t)=>{null==t&&(t=[]);const n=new RegExp("(\\"+["/",".","+","?","|","(",")","[","]","{","}","\\"].concat(t).join("|\\")+")","g");return e.replace(n,"\\$1")
},ye=e=>Re(e,["*"]),Ee=e=>(({}.toString.apply(e).match(/\s([a-z|A-Z]+)/)||[])[1]),xe=(e,t)=>{const n=Ee(e);if("Array"===n||"NodeList"===n){for(let n=0;n<e.length;n++)if(!1===t(e[n],n))return}else if("XPathResult"===n){let n=e.iterateNext(),r=0;for(;n;){if(!1===t(n,r++))return;n=e.iterateNext()}}else for(const n in e)if(e.hasOwnProperty(n)&&!1===t(e[n],n))return},Se=(e,t,n,r)=>e.slice(0,t)+r+e.slice(t+Math.abs(n)),Te=(e,t,n,r)=>{let s;if(Array.isArray(n)){const e={};n.forEach(t=>{e[t]=!0}),s=e
}else s=n;return xe(s||e,(n,o)=>{if(!s||s.hasOwnProperty(o)){let n;const a=e[o],i=Ee(a);if("Undefined"==i)return;if(s&&r&&(n=Ee(s[o]))&&n!==i&&("Array"===n||"Object"===n))return;"Object"==i?(t[o]={},Te(a,t[o],s?s[o]:null)):"Array"==i?(t[o]=[],Te(a,t[o])):t[o]=a}}),t},Me=e=>(()=>{let t={};const n=e||1e3,r={clear:()=>{xe(t,e=>y(e)),t={}},is:(e,n)=>{const s=void 0!==t[e];return n&&r.add(e),s},add:(e,s)=>{r.is(e)&&y(t[e]),t[e]=k(()=>{delete t[e]},s||n)}};return r
})(),Ue=e=>Array.isArray(e)?e:[e],Ge=(e,t,n="both")=>"notinfirst"==n?t.filter(t=>!e.includes(t)):e.concat(t).filter(n=>!e.includes(n)||!t.includes(n)),Ie=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),Ce=(e,t)=>{const n=[];for(let r=0,s=e.length;r<s;r+=t)n.push(e.slice(r,t+r));return n
},Ze=e=>!!(q.extension.inIncognitoContext||e&&(e.incognito||e.cookieStoreId!=q.cookies.DEFAULT_STORE_ID)),{SHARED_OBJECT_URLS:Oe,SHARED_BLOBS:Fe,SAFARI:Be}=Q.FEATURES.RUNTIME,je=e=>void 0!==e.objUrl,Ne=e=>void 0!==e.blob,Le=e=>void 0!==e.dataUri;class Pe{constructor(e){if(je(e))this.objUrl=e.objUrl.url,this.type=e.objUrl.type;else if(Ne(e))this.blob=e.blob;else{if(!Le(e))throw new Error("incompatible TransferableData");this.dataUri=e.dataUri}}dispose(){
this.objUrl&&URL.revokeObjectURL(this.objUrl)}async toTransferableData(){if(Oe){if(!this.objUrl&&(!this.blob&&this.dataUri&&(this.blob=ge(this.dataUri)),this.blob&&(this.objUrl=URL.createObjectURL(this.blob)),!this.objUrl))throw new Error("incomplete Transferable");return{objUrl:{url:this.objUrl,type:this.type}}}if(Fe){if(!this.blob&&(this.objUrl?this.blob=await S(this.objUrl).then(e=>e.blob()):this.dataUri&&(this.blob=ge(this.dataUri)),!this.blob))throw new Error("incomplete Transferable")
;return{blob:this.blob}}if(Be){if(!this.dataUri){let e=this.blob;if(!e&&this.objUrl&&(e=await S(this.objUrl).then(e=>e.blob())),e&&(this.dataUri=await ve(e)),!this.dataUri)throw new Error("incomplete Transferable")}return{dataUri:this.dataUri}}throw new Error("incompatible Transferable")}get tryObjectUrl(){return this.objUrl}get tryBlob(){return this.blob}get tryDataUri(){return this.dataUri}async toBlob(){if(this.blob)return this.blob;if(!this.objUrl){if(this.dataUri)return ge(this.dataUri)
;throw new Error("incompatible Transferable")}try{return await(await S(this.objUrl)).blob()}catch(e){return}}async toDataUri(){if(this.dataUri)return this.dataUri;{const e=await this.toBlob();if(!e)throw new Error("incompatible Transferable");return await ve(e)}}static fromTransferableData(e){return e&&(Ne(e)||je(e)||Le(e))?new Pe(e):void 0}}const De=q.FEATURES,Ve=["arraybuffer","blob","document","json","xml","headers","stream"];let ze={}
;const qe=e=>["https:","http:","data:","blob"].some(t=>e.startsWith(t)),Qe=["internal","user-agent","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],Xe={"cache-control":"no-cache",pragma:"no-cache"},He={"cache-control":"max-age=0, must-revalidate"},We=e=>{if(e){const t={}
;return Object.keys(e).forEach(n=>{let r=n,s=e[n];if(ze.prefix)o=n.toLowerCase(),(Qe.includes(o)||0===o.indexOf("proxy-")||0===o.indexOf("sec-"))&&(r=ze.prefix+n,s=null===s?"":be(s));else if(null===s)return;var o;t[r]=s}),t}},Ye=e=>({responseText:"",response:null,readyState:4,responseHeaders:"",status:0,statusText:"",error:e=e||"Forbidden"}),Je=e=>{if("Blob"===e.type)return new Blob([he(e.value)]);if("File"===e.type){if(!e.name)return;return new File([he(e.value)],e.name,{type:e.meta,
lastModified:e.lastModified||Date.now()})}if("FormData"==e.type){const t=new FormData;return Object.keys(e.value).forEach(n=>{const r="Array"===e.value[n].type,s=Je(e.value[n]),o=r?s:[s];o.forEach((e,r)=>{t.append(n,o[r])})}),t}if("Array"===e.type||"Object"===e.type){let t,n,r;"Object"===e.type?(r=Object.keys(e.value),n=e=>e<r.length?r[e]:null,t={}):(n=t=>t<e.value.length?t:null,t=[]);for(let r,s=0;null!==(r=n(s));s++)t[r]=Je(e.value[r]);return t}return e.value},Ke=e=>{const t={}
;return e&&e.split("\n").forEach(e=>{const n=e.match(/^([^:]+): ?(.*)/);if(n){const e=n[1].toLowerCase();t[e]=(void 0!==t[e]?", ":"")+(n[2]||"").replace(/,/g,"%2C")}}),t},$e=(e,t,n)=>{const r={...t||{}},s=async(e,t)=>{const n=r[e];n&&n("function"==typeof t?await t():t)},o=async(e,t)=>{r[e]&&(await s(e,t),r[e]=void 0)};if(!(n=n||{}).internal&&!qe(e.url)){a.warn("xhr: invalid scheme of url:",e.url);const t=Ye("Invalid scheme");return o("onerror",t),void o("ondone",t)}
const i=void 0!==e.responseType?e.responseType.toLowerCase():void 0,l=e.url&&"http"==e.url.substr(0,4),c=!ze.mozAnon&&e.anonymous||"stream"==i,A=e.fetch;if("stream"==i&&!l){a.warn("xhr: stream reqponse requested, but fetch is not available");const e=Ye("No fetch support");return o("onerror",e),void o("ondone",e)}return l&&(c||A)?nt(e,r,n,e.retries||0,o,s):rt(e,r,n,e.retries||0,o,s)
},et="tm-finalurl"+q.runtime.short_id.toLowerCase(),tt="tm-setcookie"+q.runtime.short_id.toLowerCase(),nt=(e,t,n,r,s,o)=>{const i=e.responseType?e.responseType.toLowerCase():"",l=(e,t)=>{const n=[];let r,s;e.headers&&(r=e.headers.get(et)||e.url,e.headers.forEach((e,t)=>{const r=t.toLowerCase();[et,tt].includes(r)||n.push(r+":"+e)}),(s=e.headers.get(tt))&&n.push("set-cookie:"+s));const o=void 0===t?4:t,a=e.status||0,i=e.statusText||"";return{readyState:o,responseHeaders:n.join("\n"),finalUrl:r,
status:a,statusText:i}},c=async(e,t,r)=>{let s;if(r)s=e;else{const t=e;if(De.RUNTIME.SHARED_BLOBS||De.RUNTIME.SHARED_OBJECT_URLS&&!n.foreign_context){const e=new Pe({blob:t});return o("onpartial",{tfd:await e.toTransferableData()}),void k(()=>e.dispose(),3e5)}s=await _e(e)}const a=Ce(s,t);a.forEach((e,t)=>{o("onpartial",{partial:e,index:t,length:a.length})})};let A,u,d,p=!1;const h=e=>{e&&(d=!0),f?f.abort():d?m():m({name:"AbortError",message:"Aborted by user"})},m=e=>{let t;u||(d?(t=l({
status:408,statusText:"Request Timeout"}),s("ontimeout")):"AbortError"==(null==e?void 0:e.name)?(t=Ye("aborted"),s("onabort",t)):(t=l({status:408,statusText:(null==e?void 0:e.message)||"Request Timeout"}),s("onerror",t)),u=!0,s("ondone",t))};let f;try{const d={};let g;d.method=e.method||"GET",d.redirect="follow",e.headers&&(g=We(e.headers)),e.nocache?d.cache="reload":e.revalidate&&(d.cache="default",g=g||{},g={...g,...He}),e.anonymous?d.credentials="omit":d.credentials="include",
e.user&&e.password&&(g=g||{},g.Authorization="Basic "+j(e.user+":"+e.password)),g&&(d.headers=new Headers(g)),void 0!==e.data&&("typified"===e.data_type?d.body=Je(e.data):"string"==typeof e.data?d.body=e.data:d.body=JSON.stringify(e.data)),f=x?new x:void 0,f&&(d.signal=f.signal),s("onloadstart",l({status:0,statusText:""},1)),S(e.url,d).then(d=>{if(A&&(y(A),A=null),u)return;let h=l(d);if(h.status>0&&(h.status<200||h.status>=300)&&r>0)return void nt(e,t,n,r-1,s,o)
;const{partialSize:m,overrideMimeType:f,responseType:g}=e;(async()=>{var t;if(o("onreadystatechange",l(d,2)),"stream"==i){let n;if(d.ok){if(n=null===(t=d.body)||void 0===t?void 0:t.getReader())for(;;){const{done:t,value:r}=await n.read();if(r){const t=new Blob([r]);await c(t,parseInt(e.partialSize),!1)}if(t)break}}else try{const t=await d.text(),n=new Blob([t]);await c(n,parseInt(e.partialSize),!1)}catch(e){}}else if(d.ok)if(m){let t
;["arraybuffer","blob"].includes(i)||void 0!==f?(h.response=await d.blob(),t=!1):(h.response=await d.text(),t=!0),h=await(async(t,n)=>{if(e.partialSize){const r=t.response;["response","responseText","responseXML"].forEach(e=>{delete t[e]}),!p&&r&&(p=!0,await c(r,parseInt(e.partialSize),n))}return t})(h,t)}else if(void 0!==g){let e;if("arraybuffer"==i)h.response=await d.arrayBuffer();else if("blob"==i)h.response=await d.blob();else if("document"==i){
e=(Ke(h.responseHeaders)["content-type"]||"text/xml").toString().split(";")[0];const t=new O;h.response=t.parseFromString(await d.text(),e)}else if("json"==i){const e=await d.text();h.response=JSON.parse(e)}else a.warn("xhr: responseType",i," is not implemented!"),h.response=await d.text()}else if(void 0!==f&&C){const e=await d.arrayBuffer(),t=(f.toLowerCase().match(/charset=([^;]+)/)||[])[1];h.response=new C(t).decode(e)}else{const e=await d.text();h.response=e}else{h.responseXML=void 0;try{
h.responseText=h.response=await d.text()}catch(e){}}})().then(()=>{s("onreadystatechange",h),s("onload",h),s("ondone",h)})}).catch(m),void 0!==e.timeout&&(A=k(()=>{A=null,h(!0)},e.timeout))}catch(e){const t=e;a.error(t.stack);const n=Ye(t.message);s("onerror",n),s("ondone",n)}return{abort:()=>h()}},rt=(e,t,n,r,s,o)=>{const i=e.responseType?e.responseType.toLowerCase():"";let l,c;e.anonymous&&(l=ze.mozAnon?{mozAnon:!0}:{anonymous:!0});const A=new T(l),u=t=>{let n="",r=e.url;if(A.readyState>=2){
let e;n=A.getAllResponseHeaders(),n&&(n=n.replace(/tm-finalurl[0-9a-zA-Z]*: .*[\r\n]{1,2}/i,""),n=n.replace(/tm-setcookie[0-9a-zA-Z]*:/i,"set-cookie:")),(e=A.getResponseHeader(et)||A.responseURL)&&(r=e)}const s={readyState:A.readyState,responseHeaders:n,finalUrl:r,status:A.readyState>=2?A.status:0,statusText:A.readyState>=2?A.statusText:""};return t&&4==A.readyState?A.responseType?(s.responseXML=void 0,s.responseText=void 0,s.responseType=A.responseType,
s.response=A.response):(s.responseXML=A.responseXML||void 0,s.responseText=A.responseText,s.response=A.response):(s.responseXML=void 0,s.responseText="",s.response=void 0),s};let d=!1;const p=async t=>{if(e.partialSize){const r=t.response,s=!["arraybuffer","blob"].includes(i);["response","responseText","responseXML"].forEach(e=>{delete t[e]}),!d&&r&&(d=!0,await(async(e,t,r)=>{let s;if(r)s=e;else{const t=e;if(De.RUNTIME.SHARED_BLOBS||De.RUNTIME.SHARED_OBJECT_URLS&&!n.foreign_context){
const e=new Pe({blob:t});return o("onpartial",{tfd:await e.toTransferableData()}),void k(()=>e.dispose(),3e5)}s=await _e(e)}const a=Ce(s,t);a.forEach((e,t)=>{o("onpartial",{partial:e,index:t,length:a.length})})})(r,parseInt(e.partialSize),s))}return t},h=m({threads:1}),f=e=>t=>h.add(()=>e(t)),g={onload:f(async()=>{let a=u(!0);a.status>0&&(a.status<200||a.status>=300)&&r>0?rt(e,t,n,r-1,s,o):(e.partialSize&&(a=await p(a)),await s("onload",a),4==a.readyState&&await s("ondone",a))}),
onerror:f(async()=>{const a=u();4==a.readyState&&200!=a.status&&0!=a.status&&r>0?rt(e,t,n,r-1,s,o):(await s("onerror",a),await s("ondone",a))}),onloadstart:f(async()=>{await o("onloadstart",()=>u())}),onreadystatechange:f(async()=>{await o("onreadystatechange",async()=>{let e=u();return e=await p(e),e})}),onprogress:f(async e=>{await o("onprogress",async()=>{let t=u();return t=await p(t),_(e,t)})}),ontimeout:f(async()=>{const e=u();await s("ontimeout"),await s("ondone",e)}),onabort:f(async()=>{
const e=Ye("aborted");await s("onabort"),await s("ondone",e)})},v=0==Object.keys(g).concat(["ondone"]).filter(e=>!!t[e]).length;if(v)throw new Error("Synchronous XHR is not supported anymore");const _=(e,t)=>{let n,r,s,o,a,i;try{if(e.lengthComputable||e.total>0)n=e.loaded,r=e.total;else{const s=!A.responseType||["","text"].includes(A.responseType)?A.responseText:null;let o=Number(Ke(t.responseHeaders)["content-length"]||"");const a=t.readyState>2&&s?s.length:0;0==o&&(o=-1),n=e.loaded||a,
r=e.total||o}o=e.lengthComputable,s=n,a=n,i=r}catch(e){}return Object.assign(t,{lengthComputable:o,loaded:s,done:n,position:a,total:r,totalSize:i})},b=["ontimeout","onload","onerror","onabort"];Object.keys(g).forEach(e=>{(t[e]||b.includes(e))&&(A[e]=g[e])});try{if(!n.internal&&!qe(e.url))throw new Error("Invalid scheme of url: "+e.url);A.open(e.method||"GET",e.url,!v,e.user,e.password);let r=We(e.headers);(e.nocache||e.revalidate)&&(r=r||{},e.nocache?r={...r,...Xe}:e.revalidate&&(r={...r,...He
})),r&&Object.keys(r).forEach(e=>{try{A.setRequestHeader(e,r[e])}catch(t){a.warn("xhr: rejected header",e,r[e])}}),void 0!==e.overrideMimeType&&A.overrideMimeType(e.overrideMimeType),e.partialSize?["arraybuffer","blob"].includes(i)?A.responseType=e.responseType="blob":delete e.responseType:void 0!==e.responseType&&(c=e.responseType.toLowerCase(),"document"!=c&&"json"!=c&&"xml"!=c&&"headers"!=c&&"stream"!=c&&(A.responseType=c)),void 0!==e.timeout&&(A.timeout=e.timeout),
void 0!==e.data?("typified"===e.data_type?A.send(Je(e.data)):"string"==typeof e.data?A.send(e.data):A.send(JSON.stringify(e.data)),t.onprogress&&A.upload&&(A.upload.onprogress=g.onprogress||null)):A.send()}catch(e){const t=e;a.error(t.stack);const n=Ye(t.message);s("onerror",n),s("ondone",n)}return{abort:function(){A.abort()}}
},st=".tld",ot="aaa\naarp\nabb\nabbott\nabogado\nac\nacademy\naccenture\naccountant\naccountants\naco\nactive\nactor\nad\nadac\nads\nadult\nae\naeg\naero\naf\nafl\nag\nagency\nai\naig\nairforce\nairtel\nal\nalibaba\nalipay\nallfinanz\nalsace\nam\namica\namsterdam\nan\nanalytics\nandroid\nao\napartments\napp\napple\naq\naquarelle\nar\naramco\narchi\narmy\narpa\narte\nas\nasia\nassociates\nat\nattorney\nau\nauction\naudi\naudio\nauthor\nauto\nautos\naw\nax\naxa\naz\nazure\nba\nbaidu\nband\nbank\nbar\nbarcelona\nbarclaycard\nbarclays\nbargains\nbauhaus\nbayern\nbb\nbbc\nbbva\nbcn\nbd\nbe\nbeats\nbeer\nbentley\nberlin\nbest\nbet\nbf\nbg\nbh\nbharti\nbi\nbible\nbid\nbike\nbing\nbingo\nbio\nbiz\nbj\nbl\nblack\nblackfriday\nbloomberg\nblue\nbm\nbms\nbmw\nbn\nbnl\nbnpparibas\nbo\nboats\nboehringer\nbom\nbond\nboo\nbook\nboots\nbosch\nbostik\nbot\nboutique\nbq\nbr\nbradesco\nbridgestone\nbroadway\nbroker\nbrother\nbrussels\nbs\nbt\nbudapest\nbugatti\nbuild\nbuilders\nbusiness\nbuy\nbuzz\nbv\nbw\nby\nbz\nbzh\nca\ncab\ncafe\ncal\ncall\ncamera\ncamp\ncancerresearch\ncanon\ncapetown\ncapital\ncar\ncaravan\ncards\ncare\ncareer\ncareers\ncars\ncartier\ncasa\ncash\ncasino\ncat\ncatering\ncba\ncbn\ncc\ncd\nceb\ncenter\nceo\ncern\ncf\ncfa\ncfd\ncg\nch\nchanel\nchannel\nchat\ncheap\nchloe\nchristmas\nchrome\nchurch\nci\ncipriani\ncircle\ncisco\ncitic\ncity\ncityeats\nck\ncl\nclaims\ncleaning\nclick\nclinic\nclinique\nclothing\ncloud\nclub\nclubmed\ncm\ncn\nco\ncoach\ncodes\ncoffee\ncollege\ncologne\ncom\ncommbank\ncommunity\ncompany\ncompare\ncomputer\ncomsec\ncondos\nconstruction\nconsulting\ncontact\ncontractors\ncooking\ncool\ncoop\ncorsica\ncountry\ncoupons\ncourses\ncr\ncredit\ncreditcard\ncreditunion\ncricket\ncrown\ncrs\ncruises\ncsc\ncu\ncuisinella\ncv\ncw\ncx\ncy\ncymru\ncyou\ncz\ndabur\ndad\ndance\ndate\ndating\ndatsun\nday\ndclk\nde\ndealer\ndeals\ndegree\ndelivery\ndell\ndeloitte\ndelta\ndemocrat\ndental\ndentist\ndesi\ndesign\ndev\ndiamonds\ndiet\ndigital\ndirect\ndirectory\ndiscount\ndj\ndk\ndm\ndnp\ndo\ndocs\ndog\ndoha\ndomains\ndoosan\ndownload\ndrive\ndubai\ndurban\ndvag\ndz\nearth\neat\nec\nedeka\nedu\neducation\nee\neg\neh\nemail\nemerck\nenergy\nengineer\nengineering\nenterprises\nepson\nequipment\ner\nerni\nes\nesq\nestate\net\neu\neurovision\neus\nevents\neverbank\nexchange\nexpert\nexposed\nexpress\nfage\nfail\nfairwinds\nfaith\nfamily\nfan\nfans\nfarm\nfashion\nfast\nfeedback\nferrero\nfi\nfilm\nfinal\nfinance\nfinancial\nfirestone\nfirmdale\nfish\nfishing\nfit\nfitness\nfj\nfk\nflickr\nflights\nflorist\nflowers\nflsmidth\nfly\nfm\nfo\nfoo\nfootball\nford\nforex\nforsale\nforum\nfoundation\nfox\nfr\nfresenius\nfrl\nfrogans\nfrontier\nfund\nfurniture\nfutbol\nfyi\nga\ngal\ngallery\ngallup\ngame\ngarden\ngb\ngbiz\ngd\ngdn\nge\ngea\ngent\ngenting\ngf\ngg\nggee\ngh\ngi\ngift\ngifts\ngives\ngiving\ngl\nglass\ngle\nglobal\nglobo\ngm\ngmail\ngmo\ngmx\ngn\ngold\ngoldpoint\ngolf\ngoo\ngoog\ngoogle\ngop\ngot\ngov\ngp\ngq\ngr\ngrainger\ngraphics\ngratis\ngreen\ngripe\ngroup\ngs\ngt\ngu\ngucci\nguge\nguide\nguitars\nguru\ngw\ngy\nhamburg\nhangout\nhaus\nhdfcbank\nhealth\nhealthcare\nhelp\nhelsinki\nhere\nhermes\nhiphop\nhitachi\nhiv\nhk\nhm\nhn\nhockey\nholdings\nholiday\nhomedepot\nhomes\nhonda\nhorse\nhost\nhosting\nhoteles\nhotmail\nhouse\nhow\nhr\nhsbc\nht\nhu\nhyundai\nibm\nicbc\nice\nicu\nid\nie\nifm\niinet\nil\nim\nimmo\nimmobilien\nin\nindustries\ninfiniti\ninfo\ning\nink\ninstitute\ninsurance\ninsure\nint\ninternational\ninvestments\nio\nipiranga\niq\nir\nirish\nis\niselect\nist\nistanbul\nit\nitau\niwc\njaguar\njava\njcb\nje\njetzt\njewelry\njlc\njll\njm\njmp\njo\njobs\njoburg\njot\njoy\njp\njprs\njuegos\nkaufen\nkddi\nke\nkfh\nkg\nkh\nki\nkia\nkim\nkinder\nkitchen\nkiwi\nkm\nkn\nkoeln\nkomatsu\nkp\nkpn\nkr\nkrd\nkred\nkw\nky\nkyoto\nkz\nla\nlacaixa\nlamborghini\nlamer\nlancaster\nland\nlandrover\nlanxess\nlasalle\nlat\nlatrobe\nlaw\nlawyer\nlb\nlc\nlds\nlease\nleclerc\nlegal\nlexus\nlgbt\nli\nliaison\nlidl\nlife\nlifeinsurance\nlifestyle\nlighting\nlike\nlimited\nlimo\nlincoln\nlinde\nlink\nlive\nliving\nlixil\nlk\nloan\nloans\nlol\nlondon\nlotte\nlotto\nlove\nlr\nls\nlt\nltd\nltda\nlu\nlupin\nluxe\nluxury\nlv\nly\nma\nmadrid\nmaif\nmaison\nmakeup\nman\nmanagement\nmango\nmarket\nmarketing\nmarkets\nmarriott\nmba\nmc\nmd\nme\nmed\nmedia\nmeet\nmelbourne\nmeme\nmemorial\nmen\nmenu\nmeo\nmf\nmg\nmh\nmiami\nmicrosoft\nmil\nmini\nmk\nml\nmm\nmma\nmn\nmo\nmobi\nmobily\nmoda\nmoe\nmoi\nmom\nmonash\nmoney\nmontblanc\nmormon\nmortgage\nmoscow\nmotorcycles\nmov\nmovie\nmovistar\nmp\nmq\nmr\nms\nmt\nmtn\nmtpc\nmtr\nmu\nmuseum\nmutuelle\nmv\nmw\nmx\nmy\nmz\nna\nnadex\nnagoya\nname\nnatura\nnavy\nnc\nne\nnec\nnet\nnetbank\nnetwork\nneustar\nnew\nnews\nnexus\nnf\nng\nngo\nnhk\nni\nnico\nnikon\nninja\nnissan\nnl\nno\nnokia\nnorton\nnowruz\nnp\nnr\nnra\nnrw\nntt\nnu\nnyc\nnz\nobi\noffice\nokinawa\nom\nomega\none\nong\nonl\nonline\nooo\noracle\norange\norg\norganic\norigins\nosaka\notsuka\novh\npa\npage\npamperedchef\npanerai\nparis\npars\npartners\nparts\nparty\npe\npet\npf\npg\nph\npharmacy\nphilips\nphoto\nphotography\nphotos\nphysio\npiaget\npics\npictet\npictures\npid\npin\nping\npink\npizza\npk\npl\nplace\nplay\nplaystation\nplumbing\nplus\npm\npn\npohl\npoker\nporn\npost\npr\npraxi\npress\npro\nprod\nproductions\nprof\npromo\nproperties\nproperty\nprotection\nps\npt\npub\npw\npwc\npy\nqa\nqpon\nquebec\nquest\nracing\nre\nread\nrealtor\nrealty\nrecipes\nred\nredstone\nredumbrella\nrehab\nreise\nreisen\nreit\nren\nrent\nrentals\nrepair\nreport\nrepublican\nrest\nrestaurant\nreview\nreviews\nrexroth\nrich\nricoh\nrio\nrip\nro\nrocher\nrocks\nrodeo\nroom\nrs\nrsvp\nru\nruhr\nrun\nrw\nrwe\nryukyu\nsa\nsaarland\nsafe\nsafety\nsakura\nsale\nsalon\nsamsung\nsandvik\nsandvikcoromant\nsanofi\nsap\nsapo\nsarl\nsas\nsaxo\nsb\nsbs\nsc\nsca\nscb\nschaeffler\nschmidt\nscholarships\nschool\nschule\nschwarz\nscience\nscor\nscot\nsd\nse\nseat\nsecurity\nseek\nselect\nsener\nservices\nseven\nsew\nsex\nsexy\nsfr\nsg\nsh\nsharp\nshell\nshia\nshiksha\nshoes\nshow\nshriram\nsi\nsingles\nsite\nsj\nsk\nski\nskin\nsky\nskype\nsl\nsm\nsmile\nsn\nsncf\nso\nsoccer\nsocial\nsoftbank\nsoftware\nsohu\nsolar\nsolutions\nsony\nsoy\nspace\nspiegel\nspreadbetting\nsr\nsrl\nss\nst\nstada\nstar\nstarhub\nstatefarm\nstatoil\nstc\nstcgroup\nstockholm\nstorage\nstudio\nstudy\nstyle\nsu\nsucks\nsupplies\nsupply\nsupport\nsurf\nsurgery\nsuzuki\nsv\nswatch\nswiss\nsx\nsy\nsydney\nsymantec\nsystems\nsz\ntab\ntaipei\ntaobao\ntatamotors\ntatar\ntattoo\ntax\ntaxi\ntc\ntci\ntd\nteam\ntech\ntechnology\ntel\ntelefonica\ntemasek\ntennis\ntf\ntg\nth\nthd\ntheater\ntheatre\ntickets\ntienda\ntiffany\ntips\ntires\ntirol\ntj\ntk\ntl\ntm\ntmall\ntn\nto\ntoday\ntokyo\ntools\ntop\ntoray\ntoshiba\ntours\ntown\ntoyota\ntoys\ntp\ntr\ntrade\ntrading\ntraining\ntravel\ntravelers\ntravelersinsurance\ntrust\ntrv\ntt\ntube\ntui\ntushu\ntv\ntvs\ntw\ntz\nua\nubs\nug\nuk\num\nunicom\nuniversity\nuno\nuol\nus\nuy\nuz\nva\nvacations\nvana\nvc\nve\nvegas\nventures\nverisign\nversicherung\nvet\nvg\nvi\nviajes\nvideo\nvillas\nvin\nvip\nvirgin\nvision\nvista\nvistaprint\nviva\nvlaanderen\nvn\nvodka\nvolkswagen\nvote\nvoting\nvoto\nvoyage\nvu\nwales\nwalter\nwang\nwanggou\nwatch\nwatches\nweather\nweatherchannel\nwebcam\nweber\nwebsite\nwed\nwedding\nweir\nwf\nwhoswho\nwien\nwiki\nwilliamhill\nwin\nwindows\nwine\nwme\nwolterskluwer\nwork\nworks\nworld\nws\nwtc\nwtf\nxbox\nxerox\nxin\n测试\nकॉम\nपरीक्षा\n佛山\n慈善\n集团\n在线\n한국\n点看\nคอม\nভারত\n八卦\n‏موقع‎\nবাংলা\n公益\n公司\n移动\n我爱你\nмосква\nиспытание\nқаз\nонлайн\nсайт\n联通\nсрб\nбел\n‏קום‎\n时尚\n테스트\n淡马锡\nорг\nनेट\n삼성\nசிங்கப்பூர்\n商标\n商店\n商城\nдети\nмкд\n‏טעסט‎\nею\nポイント\n新闻\n工行\n‏كوم‎\n中文网\n中信\n中国\n中國\n娱乐\n谷歌\nభారత్\nලංකා\n购物\n測試\nભારત\nभारत\n‏آزمایشی‎\nபரிட்சை\n网店\nसंगठन\n餐厅\n网络\nком\nукр\n香港\n诺基亚\nδοκιμή\n飞利浦\n‏إختبار‎\n台湾\n台灣\n手表\n手机\nмон\n‏الجزائر‎\n‏عمان‎\n‏ارامكو‎\n‏ایران‎\n‏امارات‎\n‏بازار‎\n‏پاکستان‎\n‏الاردن‎\n‏موبايلي‎\n‏بھارت‎\n‏المغرب‎\n‏السعودية‎\n‏سودان‎\n‏همراه‎\n‏عراق‎\n‏مليسيا‎\n澳門\n닷컴\n政府\n‏شبكة‎\n‏بيتك‎\nგე\n机构\n组织机构\n健康\nไทย\n‏سورية‎\nрус\nрф\n珠宝\n‏تونس‎\n大拿\nみんな\nグーグル\nελ\n世界\nਭਾਰਤ\n网址\n닷넷\nコム\n游戏\nvermögensberater\nvermögensberatung\n企业\n信息\n‏مصر‎\n‏قطر‎\n广东\nஇலங்கை\nஇந்தியா\nհայ\n新加坡\n‏فلسطين‎\nテスト\n政务\nxperia\nxxx\nxyz\nyachts\nyahoo\nyamaxun\nyandex\nye\nyodobashi\nyoga\nyokohama\nyoutube\nyt\nza\nzara\nzero\nzip\nzm\nzone\nzuerich\nzw".split("\n").join("|"),at="ac.cn\nac.jp\nac.uk\nad.jp\nah.cn\naichi.jp\nakita.jp\naomori.jp\nasn.au\nbj.cn\nchiba.jp\nco.cc\nco.ck\nco.fk\nco.gg\nco.im\nco.in\nco.ir\nco.je\nco.jp\nco.kr\nco.ma\ncom.ac\ncom.af\ncom.ag\ncom.ai\ncom.al\ncom.ar\ncom.au\ncom.aw\ncom.az\ncom.ba\ncom.bb\ncom.bh\ncom.bi\ncom.bm\ncom.bo\ncom.br\ncom.bs\ncom.bt\ncom.by\ncom.bz\ncom.ci\ncom.cm\ncom.cn\ncom.co\ncom.cu\ncom.cw\ncom.cy\ncom.de\ncom.dm\ncom.do\ncom.dz\ncom.ec\ncom.ee\ncom.eg\ncom.es\ncom.et\ncom.fr\ncom.ge\ncom.gh\ncom.gi\ncom.gl\ncom.gn\ncom.gp\ncom.gr\ncom.gt\ncom.gu\ncom.gy\ncom.hk\ncom.hn\ncom.hr\ncom.ht\ncom.im\ncom.io\ncom.iq\ncom.is\ncom.jo\ncom.kg\ncom.ki\ncom.km\ncom.kp\ncom.ky\ncom.kz\ncom.la\ncom.lb\ncom.lc\ncom.lk\ncom.lr\ncom.lv\ncom.ly\ncom.mg\ncom.mk\ncom.ml\ncom.mo\ncom.ms\ncom.mt\ncom.mu\ncom.mv\ncom.mw\ncom.mx\ncom.my\ncom.na\ncom.nf\ncom.ng\ncom.ni\ncom.nr\ncom.om\ncom.pa\ncom.pe\ncom.pf\ncom.ph\ncom.pk\ncom.pl\ncom.pr\ncom.ps\ncom.pt\ncom.py\ncom.qa\ncom.re\ncom.ro\ncom.ru\ncom.rw\ncom.sa\ncom.sb\ncom.sc\ncom.sd\ncom.se\ncom.sg\ncom.sh\ncom.sl\ncom.sn\ncom.so\ncom.st\ncom.sv\ncom.sy\ncom.tj\ncom.tm\ncom.tn\ncom.to\ncom.tr\ncom.tt\ncom.tw\nco.mu\ncom.ua\ncom.ug\ncom.uy\ncom.uz\ncom.vc\ncom.ve\ncom.vi\ncom.vn\ncom.vu\ncom.ws\ncom.zm\nconf.au\nco.nz\nco.rw\nco.th\nco.tj\nco.tt\nco.tv\nco.tz\nco.ug\nco.uk\nco.us\nco.ve\nco.yu\nco.za\nco.zm\nco.zw\ncq.cn\ncsiro.au\nde.net\ndk.org\ned.jp\nedu.au\nedu.cn\nedu.uk\nehime.jp\neu.org\nfukui.jp\nfukuoka.jp\nfukushima.jp\ngb.net\ngd.cn\ngifu.jp\ngo.jp\ngov.au\ngov.cn\ngov.jp\ngov.uk\ngr.jp\ngs.cn\ngunma.jp\ngx.cn\ngz.cn\nhb.cn\nhe.cn\nhi.cn\nhiroshima.jp\nhk.cn\nhl.cn\nhn.cn\nhokkaido.jp\nhyogo.jp\nibaraki.jp\nid.au\ninfo.au\nishikawa.jp\niwate.jp\njl.cn\njs.cn\nkagawa.jp\nkagoshima.jp\nkanagawa.jp\nkanazawa.jp\nkawasaki.jp\nkitakyushu.jp\nkobe.jp\nkochi.jp\nkumamoto.jp\nkyoto.jp\nlg.jp\nln.cn\nltd.uk\nmatsuyama.jp\nme.uk\nmie.jp\nmiyagi.jp\nmiyazaki.jp\nmo.cn\nmod.uk\nnagano.jp\nnagasaki.jp\nnagoya.jp\nnara.jp\nne.jp\nnet.au\nnet.cn\nnet.jp\nnet.uk\nnhs.uk\nnic.uk\nniigata.jp\nnm.cn\nnx.cn\noita.jp\nokayama.jp\nokinawa.jp\norg.au\norg.cn\norg.jp\norg.uk\nor.jp\nosaka.jp\notc.au\noz.au\nplc.uk\npolice.uk\nqh.cn\nsaga.jp\nsaitama.jp\nsapporo.jp\nsc.cn\nsch.uk\nsendai.jp\nsh.cn\nshiga.jp\nshimane.jp\nshizuoka.jp\nsn.cn\nsx.cn\ntakamatsu.jp\ntelememo.au\ntj.cn\ntochigi.jp\ntokushima.jp\ntokyo.jp\ntottori.jp\ntoyama.jp\ntw.cn\nuk.net\nutsunomiya.jp\nwakayama.jp\nxj.cn\nxz.cn\nyamagata.jp\nyamaguchi.jp\nyamanashi.jp\nyn.cn\nyokohama.jp\nzj.cn".split("\n").join("|"),it=(".("+[ot,at].join("|")+")").replace(/\./gi,"\\."),lt=f({
timeout:180,check_interval:120,retimeout_on_get:!0}).init(),ct=/^([^:]+:\/\/)([^/]+)(.*)?/,At=e=>e.split("").map(e=>{const t=e.toLowerCase(),n=e.toUpperCase();return t!=n?"["+t+n+"]":e}).join(""),ut="://",dt=(e,t)=>{let{scheme:n,host:r,path:s}=(e=>{let t,n,r,s;const o="/",i=e.replace(/\$$/,"").split(ut);i.length<2?(t="",n=e):(t=i[0].replace(/^\^/,""),n=i.slice(1).join(ut));const l=n.split(o);if(s=l.length<2?"/":o+l.slice(1).join(o),r=l[0],
"http*"===t?t="https<1>":t.match(/\*|http|https|file|ftp/)||(a.warn('uri: override scheme "'+t+'" with "*"'),t="*"),"file"===t)r="";else{const e=r,t=r.match(/\*$|(\*\.)?[^/*]+/);r=(t?t[0]:"").replace(/:[0-9]*$/,""),r!==e&&a.warn('uri: override host "'+e+'" with "'+r+'"')}return s&&s.substr(0,1)===o||(a.warn('uri: prefix path "'+s+'" with "/"'),s=o+s),{scheme:t,host:r,path:s}})(e);return n=Re(n).replace(/\*/gi,"[^:/#?]*"),r=Re(r).replace(/\*\\\./gi,"(*\\.)?").replace(/\*/gi,"[^#?/]*"),
s=Re(s).replace(/\*/gi,".*"),n=n.replace(/<1>/g,"?"),r=r.replace(new RegExp(Re(st)+"$"),it),t?(n=n.toLowerCase(),r=r.toLowerCase()):(n=At(n),r=At(r)),r+="(:[0-9]{1,5})?","^"+n+Re(ut)+r+s+"$"},pt=["protocol","hostname","origin"],ht=["port"],mt=["pathname"],ft=["search","hash"];let gt;const vt={protocol:"",origin:"",pathname:"",hostname:"",port:void 0,search:"",hash:""},_t=(e,t)=>{let n=Object.assign({},vt);if(null==e);else if(["data:","view-source:"].some(t=>e.startsWith(t))){n.origin="null"
;const t=e.indexOf(":");n.protocol=e.substr(0,t+1),n.pathname=e.substr(t+1)}else{const r=document.createElement("a");r.href=e;const s=document.body||document.documentElement||document;s.appendChild(r);const{protocol:o,origin:a,pathname:i,hostname:l,port:c,search:A,hash:u}=r;if(n={protocol:o,origin:a,pathname:i,hostname:l,port:parseInt(c)||void 0,search:A,hash:u},s.removeChild(r),!t&&o){if(0!==e.toLowerCase().indexOf(o))if(e.startsWith("//"))n.origin="",n.protocol="";else{
if(!["/","?","#"].includes(e[0]))return _t("/"+e);gt=gt||_t("",!0),[...ft,...mt].forEach(e=>{gt[e]===n[e]&&(n[e]="")}),pt.forEach(e=>{n[e]=""}),ht.forEach(e=>{n[e]=void 0})}["tampermonkey:"].includes(n.protocol)&&(n.pathname=((n.hostname?"/"+n.hostname:"")+(n.pathname||"")).replace(/^\/+/,"/"),n.hostname="")}}return 0===n.port&&(n.port=void 0),Object.defineProperties(n,{domain:{get:function(){const e=n.hostname.split("."),t=e.pop();let r=`${e.pop()}.${t}`;return yt(r)&&(r=`${e.pop()}.${r}`),r}}
}),n
},bt=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,wt=/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/
;let kt;const Rt=e=>{return!(!(t=e).match(bt)&&!t.match(wt)&&e.includes("."));var t},yt=e=>(kt=kt||new RegExp("^("+at.replace(/\./g,"\\.")+")$"),!!e.match(kt)),Et=(e,t,n)=>{let r=!1;const s=xt(e);let o=e;if(s)return"tampermonkey:"==s.protocol?s.pathname.includes("..")?r=!0:o=q.extension.getURL(e.replace(/^tampermonkey:\/\//,"")):s.protocol||t&&(o=St(e,t,n||["http:","https:"]))||(r=!0),r?null:o},xt=e=>{if(null==e)return;let t=lt.get(e);return t||(t=_t(e),lt.set(e,t),t)},St=(e,t,n)=>{let r,s,o
;if(e&&t&&(r=xt(e))&&(s=xt(t))&&s.protocol&&(!n||n.includes(s.protocol)||!e.includes(".."))){if(e.startsWith("//"))return s.protocol+"//"+r.hostname+(r.port?":"+r.port:"")+r.pathname+r.search;if("/"===e[0])o=r.pathname;else{if(t=Mt(s),!(s=xt(t+("/"===t[t.length-1]?"":"/")+e)))return;o=s.pathname}return s.protocol+"//"+s.hostname+(s.port?":"+s.port:"")+o+r.search}},Tt=(e,t)=>(t=t||{},
(["about:"].includes(e.protocol)?e.protocol:e.protocol+"//")+e.hostname+(e.port&&e.port>0?":"+e.port:"")+(t.nopath?"":e.pathname+(t.nosearch?"":e.search))),Mt=e=>{const t="string"==typeof e?xt(e):e;if(!t)throw new Error("invalid url");return Tt(t,{nosearch:!0})},Ut=e=>{const t="string"==typeof e?xt(e):e;if(!t)throw new Error("invalid url");return Tt(t)},Gt=e=>Object.entries(e).map(([e,t])=>void 0===t?null:encodeURIComponent(e)+"="+encodeURIComponent(t)).filter(e=>e).join("&");let It=[]
;const Ct={},Zt={},Ot=(e,t)=>{const n="string"==typeof e?[e]:e,r=()=>{n.every(e=>!!Ft[e])?t():It.push(r)};n.forEach(e=>{if(void 0===Ft[e]&&void 0===Ct[e]){const t=k(()=>{Zt[e]||(delete Ct[e],jt(e),Lt(q.extension.getURL(e+".js"),()=>{Nt(e)}))},0);Ct[e]=()=>{y(t),delete Ct[e]}}}),r()},Ft={},Bt={},jt=e=>{Zt[e]=!0},Nt=e=>{if(!Ft[e]){let t;Ft[e]=!0,delete Zt[e],(t=Ct[e])&&t(),(()=>{const e=It;It=[];for(const t of e)t()})()}},Lt=(e,t)=>{let n=1;const r=()=>{0==--n&&t&&t()}
;("string"==typeof e?[e]:e).forEach(e=>{n++;try{q.page.addScript(e,t=>{t||a.warn("registry: self.load "+e+" failed! "),r()})}catch(t){a.warn("registry: self.load "+e+" failed! ",t),r()}}),r()},Pt="en";let Dt={},Vt={},zt=null;const qt=[],Qt=(e,...t)=>{const n=[],r=e=>{for(let t=0;t<e.length;t++)Array.isArray(e[t])?r(e[t]):n.push(String(e[t]))};return r(t),q.i18n.getMessage(e,n)},Xt=e=>new Promise((t,n)=>{((e,t)=>{let n;if(void 0!==(n=Bt[e]))t&&t(n);else{const r=q.extension.getURL(e);try{
const s=new T;if(T.onlyasync){if(!t)return void a.warn("registry: async xhr without a callback!");s.open("GET",r),s.onload=()=>{t(s.responseText)},s.onerror=()=>{t()},s.send(null)}else s.open("GET",r,!1),s.send(null),n=s.responseText,n||a.warn("registry: content of "+e+" is null!"),t&&t(n)}catch(e){a.log("getRawContent "+e)}}})(`_locales/${e}/messages.json`,r=>{try{if(r)return t(JSON.parse(r))}catch(t){a.log("i18n: parsing locale "+e+" failed!")}n()})}),Ht=async e=>{e=e.concat(Pt)
;let t=-1,n=null;const r=async()=>{if(t++,t<e.length){const s=e[t];if(!s||!Kt.includes(s))return r();try{const e=await Xt(s);n=s,Dt=e}catch(e){return r()}if(!$t&&s!=Pt)try{const e=await Xt(Pt);Vt=e||{}}catch(e){}}};return await r(),n},Wt=e=>e?e.replace(/-/g,"_").split("_").map((e,t)=>t?e.toUpperCase():e.toLowerCase()).join("_"):e,Yt=(e,t)=>{let n,r;return t=t||(zt?[zt,zt.split("_")[0]].concat(qt).filter(e=>e):qt),xe(t,(t,s)=>{const o=Number(s);if(xe(e,(e,s)=>{
const a=Number(s),i=Wt(e),l=i.split(/_/)[0];if(i==t)return r=a,!1;l==t&&(void 0===n||o<n)&&(r=a,n=o)}),void 0!==r)return!1}),void 0===r?r:e[r]},Jt=[{name:"Arabic - ‎‫العربية‬‎",value:"ar"},{name:"Chinese (Simplified) - 中文（简体中文）",value:"zh_CN"},{name:"Chinese (Traditional) - 中文（繁體）",value:"zh_TW"},{name:"Croatian - hrvatski",value:"hr"},{name:"Czech - čeština",value:"cs"},{name:"Danish - dansk",value:"da"},{name:"English",value:"en"},{name:"French - français",value:"fr"},{name:"German - Deutsch",
value:"de"},{name:"Hindi - हिन्दी",value:"hi"},{name:"Hungarian - magyar",value:"hu"},{name:"Indonesian - Indonesia",value:"id"},{name:"Italian - italiano",value:"it"},{name:"Japanese - 日本語",value:"ja"},{name:"Korean - 한국어",value:"ko"},{name:"Norwegian - norsk",value:"nb"},{name:"Polish - polski",value:"pl"},{name:"Portuguese (Brazil) - português (Brasil)",value:"pt_BR"},{name:"Portuguese (Portugal) - português (Portugal)",value:"pt_PT"},{name:"Russian - русский",value:"ru"},{
name:"Serbian - српски",value:"sr"},{name:"Slovak - slovenčina",value:"sk"},{name:"Spanish - español",value:"es"},{name:"Turkish - Türkçe",value:"tr"},{name:"Ukrainian - українська",value:"uk"},{name:"Vietnamese - Tiếng Việt",value:"vi"}],Kt=Jt.map(e=>e.value),$t=!(void 0===q)&&q.i18n.native_support,en={init:async()=>{const e=async()=>{zt||$t||(zt=await Ht(qt))},t=Wt($t?q.i18n.getUILanguage():navigator.language);if(t){const e=[t],n=t.split(/_/);n[0]!==t&&e.push(n[0]),e.forEach(e=>{qt.unshift(e)
})}await e(),$t&&(await new Promise(e=>{q.i18n.getAcceptLanguages(t=>{t.forEach(e=>{qt.push(Wt(e))}),e()})}),await e())},getMessage:(e,...t)=>{let n;return zt&&(n=Dt[e]||Vt[e])?((e,t)=>{let n,r=e.message;return n=1==t.length&&Array.isArray(t[0])?t[0]:t,e.placeholders&&Object.entries(e.placeholders).forEach(([e,t])=>{try{const s=Number(t.content.replace(/^\$/,""))-1;let o;s<n.length?(o=n[s],
r=r.replace("$"+e+"$",o)):a.log('i18n: invalid argument count on processing "'+r+'" with args '+JSON.stringify(n))}catch(e){a.log('i18n: error processing "'+r+'" with args '+JSON.stringify(n))}}),r})(n,t):($t&&(n=Qt(e,...t))||(n=function(e,...t){let n=e;1==t.length&&Array.isArray(t[0])&&(t=t[0]);const r=new RegExp("(^|_)0[a-zA-Z]+0(_|$)");for(let e=0;e<t.length;e++){const s=n.match(r);if(!s){a.log("i18n: getMessage(): wrong argument count!!!");break}
n=n.replace(r,(s[1]?" ":"")+t[e]+(s[2]?" ":""))}return n.replace(/_/g," ")}(e,...t),a.warn("i18n: missing translation"+n)),n)},getOriginalMessage:Qt,normalizeLocale:Wt,getTranslation:(e,t)=>{let n;const r=e[t];if(e){let s=e[t+"_i18n"]||{};r&&(s={en:r,...s});const o=Yt(Object.keys(s));void 0!==o&&(n=s[o])}return n||r},setLocale:async e=>{let t=e;if("null"===e&&(t=null),t&&(t=Wt(t)),!t&&$t)zt=t;else if(t!==zt)return Ht([t,...qt,zt].filter(e=>e)).then(t=>{zt=t,
zt!=e&&a.log("i18n: retrieving locale "+t+" failed!")})},getLocale:()=>zt,getUiLocale:()=>Wt(zt||$t?q.i18n.getUILanguage():qt[0]||navigator.language||Pt),getBestLocale:Yt,supported:Jt};let tn={},nn=null;const rn=()=>{const e=Date.now(),t=tn;tn={};const n=Object.keys(t);n.forEach(n=>{const r=t[n];r&&e-r.ts<sn?tn[n]=r:r.com.reject({error:"timeout",please_close:!0})}),null!==nn&&0===n.length&&(E(nn),nn=null)},sn=15e3;let on=!1;const an=(e,t)=>{on||ln.init(),null===nn&&(nn=R(rn,5e3));const n=z()
;return((e,t)=>{const n=z();return void 0===t&&(t=!0),q.tabs.getSelected(null,r=>{const s=r?r.index+1:void 0;q.tabs.create({url:q.extension.getURL("ask.html")+"?aid="+e,active:t,index:s,parent:r},e=>{if(!e){const e="rea.tabs.create failed -> giving up now!";return a.error(e),void n.reject({error:e})}n.resolve({id:e.id,close:()=>q.tabs.remove(e.id)})})}),n.promise()})((e=>{const t=Ie();return tn[t]=e,t})({ts:Date.now(),com:n,preparat:t,type:e}),t.active).then(e=>n.promise().done(t=>{
(t.ok||t.aborted)&&e.close()}))},ln={init:()=>{on||(on=!0)},onMessage:e=>{const t=z(),n=e.aid,r=tn[n];if(r){if(r.aborter&&(y(r.aborter),delete r.aborter),"ping"==e.method)tn[n].ts=Date.now(),t.resolve({pong:!0});else if("preparat"==e.method)t.resolve({preparat:r.preparat,type:r.type});else if("install"==e.method){const s=e.message;r.com.resolve({ok:!0,message:s}),t.resolve({}),delete tn[n]}else if("import"==e.method){const s=e.message;r.com.resolve({ok:!0,message:s}),t.resolve({}),delete tn[n]
}else if("permission"==e.method){const s=e.message;r.com.resolve({ok:!0,message:s}),t.resolve({}),delete tn[n]}else if("unload"==e.method||"abort"==e.method){t.resolve({});const s=()=>{r.com.resolve({ok:!1,aborted:!0,message:void 0}),delete tn[n]};"abort"==e.method?s():r.aborter=k(s,3e3)}else if("connect"==e.method){const s=e.message;r.com.resolve({ok:!0,message:s}),t.resolve({}),delete tn[n]}}else t.reject({error:"unknown_id",please_close:!0});return t.promise()},install:e=>an("install",e),
import:e=>an("import",e),askForPermission:(e,t,n)=>{const r={permissions:e.permissions,origins:e.origins,title:t,message:n};return an("permission",r)},installError:e=>an("install_error",e),askForConnect:e=>an("connect",e)},cn=ln;let An,un,dn;const pn=()=>An||z.Pledge(),hn=e=>{q.permissions.supported&&(q.permissions.onAdded.addListener(t=>{e({added:t})}),q.permissions.onRemoved.addListener(t=>{e({removed:t})}))},mn=()=>{const e=z(),t=un={},n=dn={};return An=e.promise(),
q.permissions.supported?q.permissions.getAll(r=>{r.permissions&&Object.values(r.permissions).forEach(e=>t[e]=!0),r.origins&&Object.values(r.origins).forEach(e=>n[e]=!0),An=void 0,e.resolve()}):e.resolve(),e.promise()},fn={permDownloads:"downloads",has:e=>pn().then(()=>!q.permissions.supported||(un&&dn?!!un[e]||!!dn[e]:(hn(()=>{pn().then(()=>mn())}),mn().then(()=>fn.has(e))))),hasOrigin:e=>{const t=Ue(e);return pn().then(()=>{const e=z();return q.permissions.supported?q.permissions.contains({
origins:t},t=>{e.resolve(t)}):e.resolve(!0),e.promise()})},ask:(e,t,n)=>{const r=Ue(e),s=z();return q.permissions.supported?cn.askForPermission({permissions:r},t,n).done(({message:e})=>{const t=!!(null==e?void 0:e.granted);if(t){un||(un={});for(const e of r)un[e]=!0}s.resolve(t)}):s.resolve(!1),s.promise()},askOrigin:(e,t,n)=>{const r=Ue(e),s=z();return q.permissions.supported?cn.askForPermission({origins:r},t,n).done(({message:e})=>{const t=!!(null==e?void 0:e.granted);if(t){dn||(dn={})
;for(const e of r)dn[e]=!0}s.resolve(t)}):s.resolve(!1),s.promise()},remove:e=>pn().then(()=>{const t=z();return q.permissions.supported?(An=t.promise(),q.permissions.remove({permissions:[e]},n=>{An=void 0,un&&(un[e]=!1),t.resolve(n)})):t.resolve(!0),t.promise()}),addListener:hn},gn=fn,vn={},_n={},bn=(e,t)=>{let n;const r=t.key||"general",s=t.timeout||3e5,o=k(()=>{delete e[r]},s);(n=e[r])&&y(n.to),e[r]={ts:Date.now()+s,options:t,to:o}},wn=e=>{const t=Date.now();return Object.keys(e).map(n=>{
const r=e[n],s=Object.assign(r.options,{});let o;if(o=Math.max(0,r.ts-t))return s.timeout=o,s}).filter(e=>e)},kn={all:(e,t)=>{kn.actionPage(e,t),kn.optionsPage(e,t)},removeAll:e=>{delete vn[e],delete _n[e]},actionPage:(e,t)=>{const n=q.extension.getViews({type:"popup"});n&&n.length&&q.extension.sendMessage({method:e,options:t},()=>{}),t&&bn(vn,t)},optionsPage:(e,t)=>{const n=q.extension.getViews({type:"tab"});n&&n.length&&q.extension.sendMessage({method:e,options:t},()=>{}),t&&bn(_n,t)},
actionStatus:()=>wn(_n),optionsStatus:()=>wn(vn)},Rn=kn,yn=new class{constructor(){this.events={}}on(e,t){const{events:n}=this;let r=n[e];return r||(r=[],n[e]=r),r.push(t),()=>this.off(e,t)}once(e,t){const n=this.on(e,(...e)=>(n(),t.bind(this)(...e)));return n}off(e,t){const n=this.events[e];if(n){const e=n.indexOf(t);e>=0&&n.splice(e,1)}}emit(e,...t){const n=this.events[e];if(n)for(const e of n)if(e(...t))return!0;return!1}},En=q.FEATURES;let xn,Sn,Tn,Mn,Un={}
;const Gn="runtime_host_permissions",In=()=>z.sleep(1).then(()=>!q.permissions.supported||gn.has(En.PERMISSIONS.ALL_URLS).then(e=>e,()=>!0)).always(e=>{e?Rn.removeAll(Gn):(Rn.all("status",{key:Gn,id:Gn,class:"warning",text:en.getMessage("Limited_runtime_host_permissions_might_break_some_Tampermonkey_features_"),timeout:31536e6}),void 0===xn&&yn.on("onRequestRedirect",({url:e})=>{Zn(e,1e3)})),xn=e,Tn=void 0});let Cn;const Zn=(e,t)=>{if(Cn||(Cn=k(()=>{Cn=void 0,z.Pledge().then(()=>{
if(void 0===xn)return Sn||(gn.addListener(e=>{a.info("pcx: detected permission change",e),xn=void 0,Tn=In()}),Sn=!0),Tn=Tn||In(),Tn}).then(()=>Mn).then(()=>{const e=Object.values(Un);if(Un={},xn)return e;{const t={},n=e.map(e=>{const n=(e=>(e=>{const t="string"==typeof e?xt(e):e;if(!t)throw new Error("invalid url");return Tt(t,{nopath:!0})})(e)+"/*")(e.url);return gn.hasOrigin(n).then(e=>{e||(t[n]=!0)})});return Mn=z.sidebyside(n).then(()=>{const n=Object.keys(t)
;return n.length?(a.info("pcx: need to ask for some permissions",n),gn.askOrigin(n,en.getMessage("Cross_Origin_Request_Permission"),en.getMessage("Click_here_to_allow_TM_to_access_the_following_hosts_0host_list0",n.join("\n"))).then(()=>(Mn=void 0,e))):e}).always(()=>{Mn=void 0})}}).always(e=>{e&&e.forEach(e=>e.deferred.resolve()),Object.keys(Un).length&&Zn()})},t||100)),!e)return z.Pledge();if(Un[e])return Un[e].deferred.promise();const n=z(),r={url:e,deferred:n};return Un[e]=r,n.promise()
},On=(e,t,n,r)=>{let s,o;const a=t||{};return Zn(e.url).then(()=>{if(o){const e=Ye("aborted");return a.onabort&&a.onabort(e),void(a.ondone&&a.ondone(e))}(n=n||{}).internal=r,s=$e(e,a,n)}),{abort:function(){if(s)return s.abort();o=!0}}},Fn=(e,t,n)=>On(e,t,n,!0),Bn={protocol:"https:",www:"www",api:"api",domain:"userscript.zone"},jn=f({timeout:600,check_interval:300,retimeout_on_get:!0}).init();let Nn,Ln,Pn,Dn,Vn;const zn=()=>({utm_source:"ext",utm_medium:Dn.substr(0,3),
utm_campaign:q.runtime.short_id});let qn;const Qn=e=>{const t=(e=>Nn+"/api?"+Gt(Object.assign({l:Pn,q:e},zn())))(e),n=jn.get(t);if(n)return n;const r=z(),s=r.promise(),o=e=>{r.reject({error:e})};if(qn&&qn>Date.now())return o("rate limit or backoff"),s;if(!e.startsWith("http"))return o("unsupported url"),s;qn=void 0;let a=1;const i=Vn({url:t,headers:{Accept:"application/json, */*"},fetch:!0,responseType:"json"},{onload:e=>{if(200==e.status){const{count:t,url:n}=e.response,s=`${Nn}${n}`;a=1,
r.resolve({count:Number(t||0),url:s})}else if(429===e.status){const t=Ke(e.responseHeaders),n=Number(t["retry-after"]||15);a=1,n&&(qn=Date.now()+1e3*n,o("rate limit"))}else a=Math.min(2*a,300),qn=Date.now()+1e3*a,o(e.responseText||"unknown error")},onerror:e=>{o(e.responseText||e.statusText)},onabort:()=>{o("aborted")},ontimeout:()=>{o("timed out")}},{internal:!0});return s.abort=()=>null==i?void 0:i.abort(),jn.set(t,s),s},Xn=e=>((e,t)=>{let n,r="",s=""
;return"click"==Dn?(r="?"+Gt(Object.assign({l:Pn},zn())),s="#"+Gt(Object.assign({q:t})),n=e+"/"+r+s):(r="?"+Gt(Object.assign({l:Pn,q:t},zn())),n=e+"/search?"+r+s),n})(Ln,e),Hn=()=>{const e="?"+Gt(Object.assign({l:Pn},zn()));return Nn+"/privacy?"+e},Wn=q.FEATURES,Yn=[{name:"ECMAScript 5",
value:["// ==UserScript==","// @name         New Userscript","// @namespace    http://tampermonkey.net/","// @version      0.1","// @description  try to take over the world!","// @author       You","// @match        <$URL$>","// @icon         <$ICON$>","// @grant        none","// ==/UserScript==","","(function() {","    'use strict';","","    // Your code here...","})();"].join("\n")},{name:"ECMAScript 6",
value:["// ==UserScript==","// @name         New ES6-Userscript","// @namespace    http://tampermonkey.net/","// @version      0.1","// @description  shows how to use babel compiler","// @author       You","// @require      https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.18.2/babel.js","// @require      https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.16.0/polyfill.js","// @match        <$URL$>","// @icon         <$ICON$>","// ==/UserScript==","","var inline_src = (<><![CDATA[","","    // Your code here...","","]]></>).toString();",'var c = Babel.transform(inline_src, { presets: [ "es2015", "es2016" ] });',"eval(c.code);"].join("\n")
},{name:"CoffeeScript",
value:["// ==UserScript==","// @name         New Coffee-Userscript","// @namespace    http://tampermonkey.net/","// @version      0.1","// @description  shows how to use coffeescript compiler","// @author       You","// @require      http://coffeescript.org/browser-compiler/coffeescript.js","// @match        <$URL$>","// @icon         <$ICON$>","// ==/UserScript==","","var inline_src = (<><![CDATA[","","    // Your code here","","]]></>).toString();","var compiled = this.CoffeeScript.compile(inline_src);","eval(compiled);"].join("\n")
}],Jn={},Kn={enabled:!0,configMode:0,debug:!1,logLevel:0,showFixedSrc:!1,webrequest_modHeaders:"yes",webrequest_fixCSP:"yes",webrequest_fixContentCSP:"no",notification_showUpdate:"changelog",notification_silentScriptUpdate:!0,script_templates:Yn,scriptUpdateCheckPeriod:864e5,scriptUpdateHideNotificationAfter:15e3,scriptUpdateCheckDisabled:!1,scriptUrlDetection:"auto",script_file_access:Wn.RUNTIME.FIREFOX?"off":"externals",trash_mode:"on",trash_cleanup_after:6048e5,runtime_strict_mode:"byscript",
runtime_top_level_await:"default",runtime_inject_mode:"default",autoReload:!1,appearance_badges:"running",appearance_badge_color:["gcal","fcmf","firb","heif"].includes(q.runtime.short_id)?"#444":"#ee3131",appearance_badge_text_color:"#ffffff",context_menu_enabled:!0,context_menu_scripts:!0,context_menu_commands:!0,editor_enabled:!0,editor_fontSize:100,editor_theme:"default",editor_keyMap:"windows",editor_indentUnit:4,editor_tabSize:4,editor_indentWithTabs:"spaces",editor_tabMode:"indent",
editor_electricChars:!0,editor_autoSave:!1,editor_easySave:!0,editor_autoLint:!0,editor_autoLintMaxLen:1e6,editor_lineWrapping:!1,userscript_search_url:Bn,userscript_search_mode:"off",editor_highlightTrailingWhitespace:!0,editor_trimTrailingSpacesFromModifiedLines:!0,editor_highlightSelectionMatches:"cursor",editor_linter_config:null,favicon_service:"google",i18n:null,action_menu_columns:1,action_menu_scripts_hide_disabled:!1,action_menu_scripts_sort:"auto",incognito_mode:"temporary",
layout:"default",layout_user_css:"",sync_enabled:!1,sync_type:2,statistics_enabled:!Wn.RUNTIME.FIREFOX&&!Wn.RUNTIME.SAFARI||"firb"==q.runtime.short_id||null,default_tab_types:"incognito+normal",downloads_mode:"default",downloads_extension_whitelist:["/^[^\\.]*$/","/\\.(mp[34a]|m4[ab]|m3u|wma|wav|aac|og[ag]|cda|flac)$/","/\\.(avi|mkv|flv|divx|mpe?g|webm)$/","/\\.(ico|gif|png|jpe?g)/","/\\.(srt|sub|idx)$/",".txt",".iso",".zip","/\\.r(ar|[0-9]{2,2})$/"],external_update_interval:0,
external_connect:"all",require_timeout:2e4,require_blacklist:["/^https?:\\/\\/example.com(:[0-9]{1,5})?\\/.*/"],require_sri_mode:"supported",script_include_mode:"default",script_blacklist_server:[],script_blacklist_type:"server",script_blacklist_severity:4,connect_mode:"ask",page_filter_mode:"black",page_whitelist:["/https?:\\/\\/greasyfork\\.org\\/.*/","http://xkcd.com/970/"],
forbiddenPages:["*example.org/*","*paypal.tld/*","*stripe.com/*","https://*deutsche-bank-24.tld/*","https://*bankofamerica.tld/*","/^.*:\\/\\/apis\\.google\\.com\\/((?!render)([^\\/]+)\\/)+([^\\/]+)?$/","*://www.facebook.com/plugins/*","*://platform.twitter.com/widgets/*"]},$n={cloud_url:null,cloud_user:null,cloud_pass:null},er=e=>{let t,n=le.getValue(Wn.CONSTANTS.STORAGE.CONFIG,{});return n instanceof Object||(n={}),void 0!==(t=n[e])?t:"function"==typeof(t=Kn[e])?t():t},tr=(e,t)=>{
let n=le.getValue(Wn.CONSTANTS.STORAGE.CONFIG,{});n instanceof Object||(n={});const r=er(e);n[e]=t;const s=le.setValue(Wn.CONSTANTS.STORAGE.CONFIG,n),o=Jn[e];return o&&JSON.stringify(r)!=JSON.stringify(t)&&o.forEach(n=>{try{n(e,r,t,s)}catch(e){a.warn("config: changeListener error",e)}}),s};let nr={};(()=>{const e=Wn.HTML5.LOCALSTORAGE;let t;if(e&&(t=e.getItem(Wn.CONSTANTS.STORAGE.SESSION)))try{nr=JSON.parse(de(t))}catch(e){}})();const rr=e=>{let t;return void 0!==(t=nr[e])?t:$n[e]},sr=(e,t)=>{
const n=rr(e);void 0===t?delete nr[e]:nr[e]=t,Wn.HTML5.LOCALSTORAGE&&Wn.HTML5.LOCALSTORAGE.setItem(Wn.CONSTANTS.STORAGE.SESSION,ue(JSON.stringify(nr)));const r=Jn[e];return r&&JSON.stringify(n)!=JSON.stringify(t)&&r.forEach(r=>{try{r(e,n,t)}catch(e){a.warn("config: changeListener error",e)}}),z.Pledge()},or={initialized:!1,values:{},snapshot:{},init:()=>{const e={};return Object.defineProperty(or,"snapshot",{get:function(){return{...or.values}},enumerable:!0}),Object.keys(Kn).forEach(t=>{
Object.defineProperty(e,t,{get:function(){return er(t)},set:function(e){tr(t,e)},enumerable:!0})}),Object.keys($n).forEach(t=>{Object.defineProperty(e,t,{get:function(){return rr(t)},set:function(e){sr(t,e)},enumerable:!0})}),or.values=e,or.initialized=!0,z.Pledge()},defaultScripts:async()=>[],getValue:e=>$n.hasOwnProperty(e)?rr(e):er(e),setValue:(e,t)=>$n.hasOwnProperty(e)?sr(e,t):tr(e,t),getDefaults:()=>Kn,addChangeListener:(e,t)=>{Ue(e).forEach(e=>{let n=Jn[e];n||(n=Jn[e]=[]),n.push(t)})}
},ar=or,ir="mtm_visitor",lr="default",cr="pageview",Ar="script_update",ur="script",dr="cloud",pr="event",hr="pageview",mr="ping",fr="https://a.tampermonkey.net/matomo.php",gr=q.FEATURES.HTML5.LOCALSTORAGE;let vr,_r,br,wr=!1,kr=!1;const Rr=()=>({url:fr,siteId:4,tracker:{[lr]:{enabled:Zr(4,1)},[ur]:{enabled:!0},[Ar]:{enabled:Zr(4,10)},[dr]:{enabled:Zr(4,5e-4)}}}),yr=()=>({url:fr,siteId:5,tracker:{[lr]:{enabled:Zr(5,10)},[ur]:{enabled:!0},[Ar]:{enabled:Zr(5,10)},[dr]:{enabled:Zr(5,.001)}}
}),Er=()=>({url:fr,siteId:6,tracker:{[lr]:{enabled:Zr(6,50)},[ur]:{enabled:!0},[Ar]:{enabled:Zr(6,10)},[dr]:{enabled:Zr(6,.01)}}}),xr={default:yr,gcal:yr,iikm:Rr,fcmf:Rr,saap:()=>({url:fr,siteId:7,tracker:{[lr]:{enabled:!0},[ur]:{enabled:!0},[Ar]:{enabled:Zr(7,10)},[dr]:{enabled:Zr(7,.01)}}}),fire:Er,firb:Er,dhdg:()=>({url:fr,siteId:3,tracker:{[lr]:{enabled:Zr(3,1)},[ur]:{enabled:!0},[Ar]:{enabled:Zr(3,10)},[dr]:{enabled:Zr(3,5e-4)}}}),mfdh:yr,heif:()=>({
url:"http://a.userscript.grobilan:8081/matomo.php",siteId:2,tracker:{[lr]:{enabled:!0}}})};let Sr;const Tr=[{msg:"a disconnected port"},{msg:"Function.prototype.apply: Arguments list has wrong type",url:"event_bindings"},{msg:"Script error."}],Mr=e=>[...Array(e)].map(()=>Math.floor(16*Math.random()).toString(16)).join(""),Ur=e=>{if(!gr)return;const t=[e.uuid,e.createTs,e.visitCount,e.currentVisitTs,e.lastVisitTs].join(".");gr.setItem(ir,t)},Gr=e=>{
const t=e||lr,n=Sr.tracker[t]||Sr.tracker.default;return n.enabled?{url:Sr.url,siteId:Sr.siteId,options:n}:null},Ir=Mr(6),Cr=async(e,t,n)=>{if(!e)return;const r=(()=>{if(!gr)return;const e=gr.getItem(ir);if(!e)return;const t=e.split(".");if(t.length>=5){t.unshift("0");const[e,n,r,s,o,a]=t;return{createdNow:!1,newVisitor:e,uuid:n,createTs:r,visitCount:s,currentVisitTs:o,lastVisitTs:a}}})()||(()=>{const e=Math.floor(Date.now()/1e3).toString(),t={createdNow:!0,newVisitor:"1",uuid:Mr(16),createTs:e,
visitCount:"0",currentVisitTs:e,lastVisitTs:""};return Ur(t),t})();let s;const o=new Date,a={idsite:e.siteId,rec:1,action_name:document.title||q.runtime.short_id,url:location.href,_id:r.uuid,rand:Mr(4),apiv:1,h:o.getHours(),m:o.getMinutes(),s:o.getSeconds(),cookie:1,pv_id:Ir},i={...a,_idts:Number(r.createTs),_idvc:Number(r.visitCount),_viewts:Number(r.lastVisitTs),res:`${screen.width}x${screen.height}`};if(t==hr){const e=_r?{gt_ms:_r}:{},t={...a,...i,...e,new_visit:1};Ur((e=>{
const t=Math.floor(Date.now()/1e3).toString();return e.newVisitor="0",e.visitCount=(Number(e.visitCount)+1).toString(),e.lastVisitTs=e.currentVisitTs,e.currentVisitTs=t,e})(r)),s=t}else if(t==pr){if(!n)return;s={...a,ca:1,e_c:n.category,e_a:n.action,e_n:n.name,e_v:n.value}}else{if(t!=mr)return;s={...a,...i,ping:1}}s=Object.assign(a,s);const l=`${e.url}?${Gt(s)}`,c=document.createElement("img");c.src=l,c.onload=()=>{var e;null===(e=c.parentNode)||void 0===e||e.removeChild(c)},c.onerror=()=>{var e
;null===(e=c.parentNode)||void 0===e||e.removeChild(c)},(document.body||document.head||document.documentElement).appendChild(c)},Zr=(e,t)=>{let n=100*Math.random()<t;if(gr)try{let r,s;const o=["wsr",e,t].join("_"),a=Date.now(),i=864e7;if(r=gr.getItem(o)){try{s=JSON.parse(r)}catch(e){}(!s||s.ts+i<a)&&(s={ts:a,w:n})}else s={ts:a,w:n};n=s.w,gr.setItem(o,JSON.stringify(s))}catch(e){}return n},Or=e=>{wr&&(kr=e,kr?vr&&Fr&&(Fr(),Fr=void 0):br&&(clearInterval(br),br=void 0))};let Fr=()=>{Cr(Gr(cr),hr),
br=window.setInterval(()=>Cr(Gr(cr),mr),864e5)};const Br=(e,t,n)=>{if(!kr)return;void 0===n&&(t+=" "+window.location.href,n="");let r=!1;for(const n of Tr){if(!n.msg&&!n.url)return;n.msg&&-1==e.indexOf(n.msg)||n.url&&-1==t.indexOf(n.url)||(r=!0)}r||Cr(Gr("error"),pr,{category:"Error",action:e,name:t+":"+n})},jr=Or,Nr=(e,t,n)=>{if(!kr)return;let r="",s="";"init"===t?(s="Initialized",r=e):"error"===t&&(s="Error",r=e+" -> "+n),Cr(Gr(dr),pr,{category:"Cloud",action:s,name:r})},Lr=(e,t,n)=>{
if(!kr)return;const r=`${e}${n?` <${n}> `:""}`;let s="",o=null;if("i"===t)s="Installed";else if("u"===t)s="Updated",o=Gr(Ar);else if("m"===t)s="Revealed";else{if("r"!==t)return;s="Removed"}Cr(o||Gr(ur),pr,{category:"Script",action:s,name:r})},Pr=(e,t,n)=>{if(!kr)return;let r="",s="";"clicked"===e?(s="Click",r=t+":"+n):"button"===e?(s="Button",r=t||"?"):"dialog"===e&&(s="Dialog"),Cr(Gr("begging"),pr,{category:"Begging",action:s,name:r})};let Dr;const Vr={},zr=e=>{const t=null==e?void 0:e.keys,n={
keys:t,default:()=>[],set:(e,t)=>(e.push(t),e)};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n},qr=e=>{const t=null==e?void 0:e.keys,n={keys:t,default:()=>null,set:(t,n)=>{const r=(null==e?void 0:e.convert)?e.convert(n):n;return null===t?r:t}};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n},Qr=e=>{const t=null==e?void 0:e.keys,n={default:()=>null,set:()=>!0};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n},Xr=e=>{const t=null==e?void 0:e.keys,n={keys:t,
default:()=>({}),set:(t,n,r)=>{r=r?Wt(r):"default";const s=(null==e?void 0:e.convert)?e.convert(n):n;return t[r]=t[r]||s,t}};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n},Hr={name:Xr({convert:e=>null==e?void 0:e.replace(/\s\s+/g," ")}),version:qr({convert:e=>(null==e?void 0:e.replace(/\s/g,""))||e}),grants:zr({keys:["grant"]}),icon:qr({keys:["icon","iconURL","iconUrl","defaulticon"]}),icon64:qr({keys:["icon64","iconURL64"]}),supportURL:qr({keys:["supportURL","supportUrl"]}),
fileURL:qr(),downloadURL:qr({keys:["downloadURL","downloadUrl"]}),updateURL:qr({keys:["updateURL","updateUrl"]}),namespace:qr({convert:e=>""===e?null:e}),author:qr(),copyright:qr(),homepage:qr({keys:["homepage","homepageURL","homepageUrl","website","source"]}),description:Xr(),includes:zr({keys:["include"]}),excludes:zr({keys:["exclude"]}),matches:zr({keys:["match"]}),requires:zr({keys:["require"]}),resources:(e=>{const t=null==e?void 0:e.keys,n={keys:t,default:()=>({}),set:(t,n)=>{
const r=n.match(/^(\S*)\s+(.*)/);if(r&&void 0===t[r[1]]){const n=(null==e?void 0:e.convert)?e.convert(r[2]):r[2];t[r[1]]=n}return t}};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n})({keys:["resource"]}),noframes:Qr(),unwrap:Qr(),connects:zr({keys:["connect","connect-src","domain"]}),webRequest:zr(),"run-at":qr(),antifeatures:(e=>{const t=null==e?void 0:e.keys,n={keys:t,default:()=>({}),set:(t,n,r)=>{var s;r=r?Wt(r):"default";const o=n.match(/^(\S*)\s+(.*)/);if(o){
const n=t[s=o[1]]||(t[s]={}),a=(null==e?void 0:e.convert)?e.convert(o[2]):o[2];n[r]=a}return t}};return(null==t?void 0:t.length)&&t.forEach(e=>Vr[e]=n),n})({keys:["antifeature"]})},Wr={};Object.entries(Hr).forEach(([e,t])=>{t.keys?t.keys.forEach(t=>{Wr[t]=e}):Wr[e]=e});const Yr="==UserScript==",Jr="==/UserScript==",Kr=/(?:^|\n)\s*\/\/\x20*==UserScript==([\s\S]*?\n)\s*\/\/\x20*==\/UserScript==|$/,$r=()=>({...{...Object.fromEntries(Object.keys(Hr).map(e=>[e,Hr[e].default()]))}}),es=e=>{
const t=e.match(Kr),n=(t?t[1]:"")||"",r={};return n.replace(/(?:^|\n)\s*\/\/\s*(@\S+)(.*)/g,(e,t,n)=>{const[s,o]=t.slice(1).split(":"),a=Wr[s];let i;if(a&&(i=Vr[a]||Hr[a]||void 0)){const e=n.trim();let t=r[a];void 0===t&&(t=i.default()),r[a]=i.set(t,e,o)}return""}),{...$r(),...r}},ts=e=>{const{name:t,description:n,version:r,grants:s,fileURL:o,requires:a,resources:i,webRequest:l,namespace:c,noframes:A,unwrap:u,author:d,copyright:p,antifeatures:h}=e
;let{icon:m,icon64:f,updateURL:g,downloadURL:v,supportURL:_,homepage:b,includes:w,matches:k,excludes:R,connects:y}=e;const E=e["run-at"]||null,x=(e,{[e]:t,...n})=>n,S=s.filter(e=>e);m=m||null,f=f||null,g=g||null,v=v||null,_=_||null,b=b||null;const T=t.default,M=n.default||"",U=x("default",t),G=x("default",n);w=w.filter(e=>e),k=k.filter(e=>e),R=R.filter(e=>e),y=y.filter(e=>e);const I=Object.entries(i).map(([e,t])=>({name:e,url:t,loaded:!1})).filter(e=>e.url);return{name:T,description:M,
version:r||"0.0",grant:S,icon:m,icon64:f,supportURL:_,fileURL:o,downloadURL:v,updateURL:g,namespace:c,requires:a.filter(e=>e).map(e=>({url:e,loaded:!1,textContent:""})),includes:w,matches:k,excludes:R,homepage:b,resources:I,connects:y,webRequest:l.length?l.map(e=>{const t=JSON.parse(e);return Array.isArray(t)?t:[t]}).reduce((e,t)=>e.concat(t),[]):null,author:d,copyright:p,antifeatures:h,name_i18n:U,description_i18n:G,uuid:null,system:!1,enabled:!0,position:0,blockers:[],lastModified:0,sync:{},
options:{check_for_updates:!0,comment:null,compatopts_for_requires:!0,compat_wrappedjsobject:!1,compat_metadata:!1,compat_foreach:!1,compat_prototypes:!1,compat_powerful_this:null,noframes:A,unwrap:u,run_at:E,tab_types:null,override:{use_includes:[],orig_includes:[],merge_includes:!0,use_matches:[],orig_matches:[],merge_matches:!0,use_excludes:[],orig_excludes:[],merge_excludes:!0,use_connects:[],orig_connects:[],merge_connects:!0,use_blockers:[],orig_run_at:null,orig_noframes:null}},
textContent:null,header:null}},ns=(()=>{const e=e=>{const t=e.split(".");return t.slice(0,3).concat([t.slice(3).join(".")]).concat([0,0,0,0]).slice(0,4).map(e=>{const t=e.toString().match(/((?:-?[0-9]+)?)([^0-9-]*)((?:-?[0-9]+)?)(.*)/);return t?[Number(t[1]),t[2],Number(t[3]),t[4]]:[]}).reduce((e,t)=>e.concat(t))},t=(n,r)=>{const s=Array.isArray(n)?n:e(n),o=Array.isArray(r)?r:e(r);for(let e=0;e<16;e++){const n=s[e],r=o[e];if(e%2==1){if(!n&&r)return t.eNEWER;if(n&&!r)return t.eOLDER
;const e=n.match(/\w/g)||[],s=r.match(/\w/g)||[];for(let n=0;n<Math.min(e.length,s.length);n++){if(e[n].charCodeAt(0)>s[n].charCodeAt(0))return t.eNEWER;if(e[n].charCodeAt(0)<s[n].charCodeAt(0))return t.eOLDER}if(e.length>s.length)return t.eNEWER;if(e.length<s.length)return t.eOLDER}else{if(Number(n)>Number(r))return t.eNEWER;if(Number(n)<Number(r))return t.eOLDER}}return t.eEQUAL};return t.eERROR=-2,t.eOLDER=-1,t.eEQUAL=0,t.eNEWER=1,t})(),rs=e=>{const t=(e=>{const t=ke(e,Yr,Jr)
;if(!t)return null;const n=e.indexOf(Yr),r=e.indexOf("<html>"),s=e.indexOf("<body>");return r>0&&r<n||s>0&&s<n?null:["// ",Yr,t,Jr].join("")})(e);if(!t)return null;const n=ss(t);return n?(n.textContent=e,n.header=t,n.options.compat_wrappedjsobject=e!=Dr.unWrappedJsObjectify(e),n.options.compat_metadata=e!=Dr.unMetaDataify(e),n):null},ss=e=>{const t=(e=>es(e))(e=(e=(e=(e=(e||"").replace(/(\r\n|\n|\r)/gm,"\n")).replace(/\t/g,"    ")).replace(/\n\n+/g,"\n")).replace(/[^|\n][ \t]+\/\//g,"//"))
;if(t)return ts(t)},os=()=>ts($r()),as="try to take over the world!",is="This script was deleted from Greasy Fork, and due to its negative effects, it has been automatically removed from your browser.",ls=f({timeout:600,retimeout_on_get:!0}),cs={uso:{test:e=>{const t=e.match(new RegExp("https?://userscripts\\.org/scripts/(source|version)/([0-9]{1,9})\\.user\\.js"))||e.match(new RegExp("https?://userscripts-mirror\\.org/scripts/(source|version)/([0-9]{1,9})\\.user\\.js"))
;if(t&&3==t.length)return{id:t[2],token:"uso",meta_url:!0,url:"http://userscripts-mirror.org/scripts/show/"+t[2],code_url:"http://userscripts-mirror.org/scripts/review/"+t[2],issue_url:"http://contactbyweb.com/userscripts-mirror"}},updates:()=>!1},gf:{test:e=>{const t=e.match(new RegExp("https?://greasyfork\\.org/(?:[^/]+/)?scripts/([^/-]+).*/code.*\\.user\\.js"));if(t&&2==t.length){const e=t[1];return{id:e,token:"gf",meta_url:!0,url:"https://greasyfork.org/scripts/"+e,
issue_url:"https://greasyfork.org/scripts/"+e+"/feedback",code_url:"https://greasyfork.org/scripts/"+e+"/code"}}},convert:async e=>{let t,n=e;if(n){const e=n.description.trim();e===as?n.description="":e===is&&(n=null,t="deleted by hoster")}return{script:n,warning:t}},updates:e=>!e.match(new RegExp("https?://greasyfork\\.org/scripts/([^/]+)/code/.*\\.user\\.js.*version=[0-9]+.*"))},sf:{test:e=>{
const t=e.match(new RegExp("https?://sleazyfork\\.org/(?:[^/]+/)?scripts/([^/-]+).*/code.*\\.user\\.js"));if(t&&2==t.length){const e=t[1];return{id:e,token:"sf",meta_url:!0,url:"https://sleazyfork.org/scripts/"+e,issue_url:"https://sleazyfork.org/scripts/"+e+"/feedback",code_url:"https://sleazyfork.org/scripts/"+e+"/code"}}},convert:async e=>{let t,n=e;if(n){const e=n.description.trim();e===as?n.description="":e===is&&(n=null,t="deleted by hoster")}return{script:n,warning:t}},
updates:e=>!e.match(new RegExp("https?://sleazyfork\\.org/scripts/([^/]+)/code/.*\\.user\\.js.*version=[0-9]+.*"))},ouj:{test:e=>{const t=e.match(new RegExp("https?://openuserjs\\.org/install/([^/]+)+/(.+?)(?:\\.min)?\\.user\\.js"));if(t&&3==t.length)return t.shift(),{id:t.join("/"),token:"ouj",meta_header:!0,url:"https://openuserjs.org/scripts/"+t[0]+"/"+t[1],issue_url:"https://openuserjs.org/scripts/"+t[0]+"/"+t[1]+"/issues",code_url:"https://openuserjs.org/scripts/"+t[0]+"/"+t[1]+"/source"}},
convert:async e=>{const t=e;return t&&t.description.trim()===as&&(t.description=""),{script:t,warning:void 0}},updates:()=>!0},gh:{test:e=>{let t
;const n=e.match(new RegExp("https?://raw\\.githubusercontent\\.com/([^/]+)/([^/]+)/[^/]+/(.*)\\.user\\.js"))||e.match(new RegExp("https?://github\\.com/([^/]+)/([^/]+)/raw/[^/]+/(.*)\\.user\\.js"))||e.match(new RegExp("https?://raw.github\\.com/([^/]+)/([^/]+)/[^/]+/(.*)\\.user\\.js"))||e.match(new RegExp("https?://github\\.com/([^/]+)/([^/]+)/releases/download/[^/]+/(.*)\\.user\\.js")),r=e.match(new RegExp("https?://(([^\\.]+).github\\.io)/(.*)\\.user\\.js"))
;if(n&&4==n.length||r&&4==r.length){let e;if(n){n.shift();const[r,s,o]=n;e=[r,s].join("/"),t=[r,s].concat(s==o?[]:o).join("/")}else{if(!r)throw new Error("Should never happen!");{r.shift();const[n,s,o]=r;e=[s,n].join("/"),t=[s,n].concat(n==o?[]:o).join("/")}}return{id:t,token:"gh",url:"https://github.com/"+e,issue_url:"https://github.com/"+e+"/issues"}}},updates:()=>!0},gst:(()=>{const e=e=>{
const t=e.match(new RegExp("https?://gist\\.github\\.com/([^/]+)/([^/]+)/raw/(.*/)?.*\\.user\\.js"))||e.match(new RegExp("https?://gist\\.githubusercontent\\.com/([^/]+)/([^/]+)/raw/(.*/)?.*\\.user\\.js"));if(t&&(3==t.length||4==t.length)){const e=t[1],n=t[2];return{user:e,gistId:n,id:`${e}/${n}`,updates:4==t.length}}return{}};return{test:t=>{const{gistId:n,id:r,updates:s}=e(t);if(n&&r&&void 0!==s)return{id:r,token:"gst",url:"https://gist.github.com/"+r,
issue_url:`https://gist.github.com/${r}#new_comment_field`,code_url:"https://gist.github.com/"+r}},precheck:async t=>{const{gistId:n,user:r}=e(t);if(!n||!r)return null;const s=ls.get(r);let o;if(s){if(o=s.json,!o)return"cache error"}else{const e=await S(`https://api.github.com/users/${r}/gists`,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/vnd.github.v3+json"},redirect:"follow",referrerPolicy:"no-referrer"});if(200!==e.status){
a.warn(`Unable to load gists of "${r}" -> SKIPPING`);const e="unable to load gists of user";return ls.set(r,{error:e}),e}o=await e.json(),ls.set(r,{error:null,json:o})}return o?o.reduce((e,t)=>(e[t.id]=t.public,e),{})[n]?null:"secret gist":"unable to decode gists of user"},updates:t=>{const{updates:n}=e(t);return!!n}}})(),gl:{test:e=>{const t=e.match(new RegExp("https?://gitlab\\.com/([^/]+)/([^/]+)/(?:-/)?(?:raw|blob)/[^/]+/(.*)\\.user\\.js"));if(t&&4==t.length){t.shift()
;const[e,n,r]=t,s=[e,n].concat(n==r?[]:r).join("/"),o=[e,n].join("/");return{id:s,token:"gl",url:"https://gitlab.com/"+o,issue_url:"https://gitlab.com/"+o+"/issues"}}},updates:()=>!0},bb:{test:e=>{const t=e.match(new RegExp("https?://bitbucket\\.org/([^/]+)/([^/]+)/raw/[^/]+/(.*)\\.user\\.js"))||e.match(new RegExp("https?://bitbucket\\.org/([^/]+)/([^/]+)/downloads/(.*)\\.user\\.js"));if(t&&4==t.length){t.shift();const[e,n,r]=t,s=[e,n].concat(n==r?[]:r).join("/"),o=[e,n].join("/");return{id:s,
token:"bb",url:"https://bitbucket.org/"+o,issue_url:"https://bitbucket.org/"+o+"/issues"}}},updates:()=>!0},usty:{test:e=>{const t=e.match(new RegExp("https?://userstyles\\.org/styles/userjs/([^/]+)/.*\\.user\\.js"));if(t&&2==t.length)return t.shift(),{id:t[0],token:"usty",url:"https://userstyles.org/styles/"+t[0],issue_url:"https://forum.userstyles.org/post/discussion?Discussion/StyleID="+t[0]}},convert:async e=>{let t,n,r,s;const o=[{tag:"includes",
re:/(?: \|\| \(new RegExp\("\^)([^$]+)(?:\$"\)\)\.test\(document\.location\.href\))/g,idx:1,value:e=>"/^"+e.replace(/\\\\(.)/g,"\\$1")+"$/"},{tag:"includes",re:/(?: \|\| \(document\.location\.href\.indexOf\(")([^"]+)"(?:\) == 0\))/g,idx:1,value:e=>e+"*"},{tag:"matches",re:/(?: \|\| \(document\.domain == ")([^"]+)"(?: \|\| document\.domain\.substring\(document\.domain\.indexOf\("[^"]+"\) \+ 1\) == "[^"]+"\))/g,idx:1,value:e=>"*."+e
}],a=new RegExp("(?:if \\(false)("+o.map(e=>"(?:"+e.re.source+")").join("|")+")+","g");return e.textContent&&0===e.includes.length&&0===e.matches.length&&0===e.excludes.length&&e.options&&e.options.override&&e.options.override.orig_includes&&0===e.options.override.orig_includes.length&&e.options.override.orig_matches&&0===e.options.override.orig_matches.length&&(n=e.textContent.match(a))&&(n.forEach(t=>{o.forEach(n=>{for(;r=n.re.exec(t);)if(r.length>n.idx){const t=n.value(r[n.idx])
;e.options.override["orig_"+n.tag].push(t),e[n.tag].push(t),s=!0}})}),s&&(t="includes added")),0===e.grant.length&&(e.grant.push("GM_addStyle"),t="includes added"),{script:e,info:t}},updates:()=>!0},web:{test:e=>{const t=e.match(new RegExp("https://static\\.iitc\\.me/build/release/(plugins/)?(.*)\\.user\\.js"));if(t&&3===t.length){t.shift();const[e,n]=t,r="iitc-project/ingress-intel-total-conversion";return{id:[r].concat(e?[e,n]:[]).join("/").replace(/\/\//g,"/"),token:"gh",
url:"https://github.com/"+r,issue_url:"https://github.com/"+r+"/issues"}}const n=e.match(new RegExp("https://iitc\\.app/build/release/(plugins/)?(.*)\\.user\\.js"));if(n&&3===n.length){n.shift();const[e,t]=n,r="IITC-CE/ingress-intel-total-conversion";return{id:[r].concat(e?[e,t]:[]).join("/").replace(/\/\//g,"/"),token:"gh",url:"https://github.com/"+r,issue_url:"https://github.com/"+r+"/issues"}}return e.match(new RegExp("https?://socialfixer\\.com/socialfixer\\.user\\.js"))?{id:"socialfixer",
token:"web",url:"http://socialfixer.com",issue_url:"https://www.facebook.com/groups/SocialFixerUsersSupport/"}:e.match(new RegExp("https?://www\\.fbpurity\\.com/.*\\.user\\.js"))?{id:"fbpurity",token:"web",url:"https://www.fbpurity.com/",issue_url:"https://www.facebook.com/fluffbustingpurity"}:void 0},updates:()=>!0}},As=e=>{if(e)for(const t of Object.values(cs)){const n=t.test(e);if(n)return n}},us=q.FEATURES,ds=[],ps=(e,t,n)=>{const r={title:e.join("\n\n")
},s=t?"_"+t:"",o=q.extension.getURL("images/icon"+s+".png");a.warn(e.join("\n")),q.browserAction.setIcon({path:o}),q.browserAction.setTitle(r),n||q.extension.onMessage.addListener((t,n,r)=>{const s={name:"1",id:"1",sub_menu_item:!0,pos:"left",items:[]};s.items.push({name:e[0],image:"info"}),e.length>1&&s.items.push({name:e[1]}),r({items:[s],options:{enabled:!1}})})},hs=ps,ms=[{name:en.getMessage("Default"),layout:"default",value:"default"},{name:en.getMessage("Default_Light"),layout:"default",
theme:"light",value:"default#light"},{name:en.getMessage("Default_Dark"),layout:"default",theme:"dark",value:"default#dark"},{name:en.getMessage("Default_Darker"),layout:"default",theme:"darker",footer:'Theme by <a href="https://github.com/narcolepticinsomniac" target="blank">narcolepticinsomniac</a> from the <a href="https://github.com/openstyles/stylus" target="blank">Stylus</a> project.',value:"default#darker"}],fs={default:en.getMessage("Default"),monokai:"Monokai",solarized:"Solarized",
"mdn-like":"MDN-like",eclipse:"Eclipse",railscasts:"RailsCasts",zenburn:"ZenBurn"},gs=e=>({
unknown:"data:image/png;base64,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",
uso:"data:image/png;base64,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",
gf:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3ggEBCQHM3fXsAAAAVdJREFUOMudkz2qwkAUhc/goBaGJBgUtBCZyj0ILkpwAW7Bws4yO3AHLiCtEFD8KVREkoiFxZzX5A2KGfN4F04zMN+ce+5c4LMUgDmANYBnrnV+plBSi+FwyHq9TgA2LQpvCiEiABwMBtzv95RSfoNEHy8DYBzHrNVqVEr9BWKcqNFoxF6vx3a7zc1mYyC73a4MogBg7vs+z+czO50OW60Wt9stK5UKp9Mpj8cjq9WqDTBHnjAdxzGQZrPJw+HA31oulzbAWgLoA0CWZVBKIY5jzGYzdLtdE9DlcrFNrY98zobqOA6TJKHW2jg4nU5sNBpFDp6mhVe5rsvVasUwDHm9Xqm15u12o+/7Hy0gD8KatOd5vN/v1FozTVN6nkchxFuI6hsAAIMg4OPxMJCXdtTbR7JJCMEgCJhlGUlyPB4XfumozInrupxMJpRSRtZlKoNYl+m/6/wDuWAjtPfsQuwAAAAASUVORK5CYII=",
gh:"data:image/png;base64,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F/8VFRf/FRUX/xMTFKsAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRMTFKsVFRf/FRUX/xUVF/8VFRf/FRUX/xUVF/8TExT1AAAADQ4OFFkVFRf/FRUX/xUVF/8VFRf/FRUX/xUVF/8TExOPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMTE48VFRf/FRUX/xUVF/8VFRf/FRUX/xUVF/8ODhRZExMTnRUVF/8VFRf/FRUX/xUVF/8VFRf/EREU0QAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBERFNEVFRf/FRUX/xUVF/8VFRf/FRUX/xMTE50RERTQFRUX/xUVF/8VFRf/FRUX/xUVF/8SEhJeAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEhISXhUVF/8VFRf/FRUX/xUVF/8VFRf/EREU0BISFPIVFRf/FRUX/xUVF/8VFRf/FRUX/wAAABYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFRUX/xUVF/8VFRf/FRUX/xUVF/8SEhTyFRUX/xUVF/8VFRf/FRUX/xUVF/8SEhTyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASEhTyFRUX/xUVF/8VFRf/FRUX/xUVF/8VFRf/FRUX/xUVF/8VFRf/FRUX/xMTFNsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMTFNwVFRf/FRUX/xUVF/8VFRf/FRUX/xMTFPYVFRf/FRUX/xUVF/8VFRf/FBQU4QAA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AAAAAAAADAwMFA8PD2MRERSkFBQU0hMTFPMVFRf/FRUX/xMTFPMUFBTSEREUpA8PD2MMDAwUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",
gl:"data:image/png;base64,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",
bb:"data:image/png;base64,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",
ouj:"data:image/x-icon;base64,AAABAAEAQEAAAAEACAAoFgAAFgAAACgAAABAAAAAgAAAAAEACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwTwoAclEOAHVWAABzUhAAdlcAAHdYAAB0UxIAdVQTAHhZAgB2VRUAe1sJAH1dDgB3XB0AeF0eAHpfIQB7YCIAfGEjAH1iJAB+YyYAf2QnAIFmKQCEah8AgmcrAIVpLgCHbSQAhmovAIhuJQCJbyYAh3EzAIhyNACJczYAi3U4AIx2OQCNdzoAjng7AI95PACQej0Aknw/AJN9QQCXgUUAlYROAJaFTwCXhlAAnItWAKCPWgChkFsAo5FcAJ2RYQCekmIAn5NjAKKWZgCkmGgAp5pyAKqdbQCrnXUArJ52AK+hegCpoX4AraWCALOqhwC0q4gAtayJALatigC3r4sAuLCMALmxjQC3tJQAuLWVALm2lgC7uJgAvbqaAL67mwC/vJwAwb6eAMbBqQDHwqoAwsOuAMXGsgDHyLQAyMm1AM7PugDP0LsA0NG8ANLTvwDT1MAAztXEANDWxQDR18YA0tnHANTbyQDV3MoA19zTANfezQDZ4M8A2t/VANvg1gDc4dcA3eLYAN7j2QDf5NoA4OXbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjYl9dXFlZWVlcXV9iY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY2FcVU9JQDo2NDQ2OkBJTlVcYWNkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRiXVZMPTIpIRoUDg0NDhQaISgyPUxWXWJkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGNfVEk0JxgLCAIDAQAAAAABAwIFCxgnNElTX2NkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJZSzQkEQUDAQAAAAAAAAAAAAAAAAEDBREjNEpZYmRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY2BSPykUBQEAAAAAAAAAAAAAAAAAAAAAAAABBBMoP1JfY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY11NNB0MAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAADDB00TV1jZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY11MMBYEAQAAAAAAAAEDBwIJBAQJAgcDAQAAAAAAAAEEFC5MW2NkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY11MLBMHAAAAAAABAwcIERccHyIiHxwXEQgHAwEAAAAAAAcTLExdY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGBNMBMHAAAAAAABCQ4YJi84PURGRkQ+OC8mGA4JAQAAAAAABxMuTV9kZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJSNBYHAAAAAAEDChgqOEVNUlhcW1tcWFJNRTkqGAoGAQAAAAAHFjRRYmRkZGRkZGRkZGRkZGRkZGRkZGRkZGNZPx0EAAAAAAECDyM0SFBcYGJiY2RkY2JiYFxRSTQjDwIBAAAAAAQdP1ljZGRkZGRkZGRkZGRkZGRkZGRkZGRfSykMAQAAAAEEFCk7TlphY2RkZGRkZGRkZGRjYVpPPCkUBAEAAAABDChKX2RkZGRkZGRkZGRkZGRkZGRkZGRiVDQUAwAAAAECFCtDUl5iZGRkZGRkZGRkZGRkZGRiXlNDKxQCAQAAAAMTNFNiZGRkZGRkZGRkZGRkZGRkZGRkXUkkBQAAAAADDypDVGBjZGRkZGRkZGRkZGRkZGRkZGNgVUMqEAYAAAAABSRJXWRkZGRkZGRkZGRkZGRkZGRkY1Y1EgMAAAABCiM8UmBjZGRkZGRkZGRkZGRkZGRkZGRkY2BTPCMKAQAAAAERNFZjZGRkZGRkZGRkZGRkZGRkZGFMJwgAAAABCRg0Tl5jZGRkZGRkZGRkZGRkZGRkZGRkZGRjXk80GAkBAAAABSdMYWRkZGRkZGRkZGRkZGRkZGRcPRgHAAAAAw4qSFpiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJaSCoOAwAAAAMYPVxkZGRkZGRkZGRkZGRkZGRjVTMOAQAAAAcYOFBhZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYVE5GAcAAAABCzJVY2RkZGRkZGRkZGRkZGRkYk8pCAAAAAEIJkVaYmRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGNcRSYIAQAAAAgpTmJkZGRkZGRkZGRkZGRkZGBJIgQAAAADES1NX2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYE0vEQMAAAACIUlfZGRkZGRkZGRkZGRkZGRdQRsHAAAABhc4UmJkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJSOBcHAAAABxpAXWRkZGRkZGRkZGRkZGRkXDoUAwAAAAccPVdiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRiWD4cAgAAAAEUOlxkZGRkZGRkZGRkZGRkZFo2DwEAAAACH0RcY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY1xEIAkAAAABDjZZZGRkZGRkZGRkZGRkZGRZNA0BAAAACSJGW2NkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRbRiIJAAAAAA00WWRkZGRkZGRkZGRkZGRkWTQNAQAAAAkiRltjZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkW0YiCQAAAAANNFlkZGRkZGRkZGRkZGRkZFo3DwEAAAACH0RcY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY1xEIAkAAAABDzZZZGRkZGRkZGRkZGRkZGRcOhQDAAAABxw9V2JkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJYPRwCAAAAARQ6XGRkZGRkZGRkZGRkZGRkXUEbBwAAAAYXOFJiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRiUjgXBwAAAAcaQF1kZGRkZGRkZGRkZGRkZGBJIgQAAAADES1NX2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYE0vEQMAAAACIklfZGRkZGRkZGRkZGRkZGRiTykIAAAAAQgmRVpiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY1xFJggBAAAACClOYmRkZGRkZGRkZGRkZGRkY1UzDgEAAAAHGDhQYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGFQORgHAAAAAQsyVWNkZGRkZGRkZGRkZGRkZGRcPhoHAAAAAQ4qSFpiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGJaSCoOAwAAAAMYPVxkZGRkZGRkZGRkZGRkZGRkYUwnCAAAAAEJGTROXmNkZGRkZGRkZGRkZGRkZGRkZGRkZGNeTjQYCQEAAAAFJ0xhZGRkZGRkZGRkZGRkZGRkZGNWNRIDAAAAAQgjO1JgY2RkZGRkZGRkZGRkZGRkZGRkZGNgUzwjCgEAAAABETRWY2RkZGRkZGRkZGRkZGRkZGRkXUkkBQAAAAADDylCVGBjZGRkZGRkZGRkZGRkZGRkZGNgVEMpDwMAAAAABSRJXWRkZGRkZGRkZGRkZGRkZGRkZGJUNRQDAAAAAQIUK0NSXmJkZGRkZGRkZGRkZGRkZGJeUkMrFAIBAAAAAxM0VGJkZGRkZGRkZGRkZGRkZGRkZGRkX0spDAEAAAABBBQpO05aYWJkZGRkZGRkZGRkYmFaTjspFAQBAAAAAQwoS19kZGRkZGRkZGRkZGRkZGRkZGRkZGNZQB4EAAAAAAECDyI0R1BaYGJiY2NjY2JiYFxQSDQjDwIBAAAAAAQdP1ljZGRkZGRkZGRkZGRkZGRkZGRkZGRkYlI0FQIAAAAAAQMIGCo4RU1SV1xbW1xXUk1FOSoYCAMBAAAAAAcWNFJiZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRgTTEUBwAAAAAAAQkOGSUtOD1ERkZEPTgvJhgOCQEAAAAAAAcTME1gZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY15MLxQHAAAAAAABAwcIERccHyIiHxwXEQgHAwEAAAAAAAcTLExeY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjXUwxFQUBAAAAAAAAAQMGBwIJCQIHBgMBAAAAAAAAAQQWMExdY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGNeTTQeDAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwwdNE1dY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY2BSQCkUBQMAAAAAAAAAAAAAAAAAAAAAAAADBRMpP1JgY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYllLNSQSCAcBAAAAAAAAAAAAAAAAAQcIEiQ0SlliZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjX1RJNScaDggCBwMBAQEBAwcCCA4aJzVJVF9jZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRiXVZMPjMqIhsUDwsLDxQbIikzPkxWXWJkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjYVxVT0lBOjc0NDc6QElPVVxhY2RkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY2JgXVxaWVlaXF1gYmNkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
usty:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHRpdGxlPjlDMzAwNDI3LTg4Q0QtNDI2RC05QkZELUFEMUU2RUI2RjRDNjwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTAgNS42MjNBNS42MjMgNS42MjMgMCAwIDEgNS42MjMgMGgxMi43NTRBNS42MjMgNS42MjMgMCAwIDEgMjQgNS42MjN2MTIuNzU0QTUuNjIzIDUuNjIzIDAgMCAxIDE4LjM3NyAyNEg1LjYyM0E1LjYyMyA1LjYyMyAwIDAgMSAwIDE4LjM3N1Y1LjYyM3oiIGlkPSJhIi8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHVzZSBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZmlsbD0iIzJFQ0M3MSIgbWFzaz0idXJsKCNiKSIgZD0iTTExLjI1IDB2MTQuNjI1SDBWMHoiLz48cGF0aCBmaWxsPSIjRTc0QzNDIiBtYXNrPSJ1cmwoI2IpIiBkPSJNMjQgMHY3Ljg3NUgxMi43NVYweiIvPjxwYXRoIGZpbGw9IiNGMzlDMTIiIG1hc2s9InVybCgjYikiIGQ9Ik0xMS4yNSAxNi4xMjVWMjRIMHYtNy44NzV6Ii8+PHBhdGggZmlsbD0iIzM0OThEQiIgbWFzaz0idXJsKCNiKSIgZD0iTTI0IDkuNTYzdjE0LjYyNEgxMi43NVY5LjU2M3oiLz48L2c+PC9zdmc+"
}["gst"==e?"gh":e]),vs=e=>"data:image/svg+xml,"+encodeURI({
tampermonkey:"<?xml version='1.0' encoding='utf-8'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 400'><g id='XMLID_273_'><g id='XMLID_78_'><path id='XMLID_83_' class='st0' d='M304.8,0H95.2C42.6,0,0,42.6,0,95.2v209.6C0,357.4,42.6,400,95.2,400h209.6 c52.6,0,95.2-42.6,95.2-95.2V95.2C400,42.6,357.4,0,304.8,0z M106.3,375C61.4,375,25,338.6,25,293.8c0-44.9,36.4-81.3,81.3-81.3 c44.9,0,81.3,36.4,81.3,81.3C187.5,338.6,151.1,375,106.3,375z M293.8,375c-44.9,0-81.3-36.4-81.3-81.3 c0-44.9,36.4-81.3,81.3-81.3c44.9,0,81.3,36.4,81.3,81.3C375,338.6,338.6,375,293.8,375z'/></g><g id='XMLID_67_' class='st2'><path id='XMLID_74_' class='st3' d='M304.8,0H95.2C42.6,0,0,42.6,0,95.2v209.6C0,357.4,42.6,400,95.2,400h209.6 c52.6,0,95.2-42.6,95.2-95.2V95.2C400,42.6,357.4,0,304.8,0z M106.3,375C61.4,375,25,338.6,25,293.8c0-44.9,36.4-81.3,81.3-81.3 c44.9,0,81.3,36.4,81.3,81.3C187.5,338.6,151.1,375,106.3,375z M293.8,375c-44.9,0-81.3-36.4-81.3-81.3 c0-44.9,36.4-81.3,81.3-81.3c44.9,0,81.3,36.4,81.3,81.3C375,338.6,338.6,375,293.8,375z'/></g></g></svg>",
webdav:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 512'><path d='M537.585 226.56C541.725 215.836 544 204.184 544 192c0-53.019-42.981-96-96-96-19.729 0-38.065 5.954-53.316 16.159C367.042 64.248 315.288 32 256 32c-88.366 0-160 71.634-160 160 0 2.728.07 5.439.204 8.133C40.171 219.845 0 273.227 0 336c0 79.529 64.471 144 144 144h368c70.692 0 128-57.308 128-128 0-61.93-43.983-113.586-102.415-125.44z'/></svg>",
yandex:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 512'><path d='M153.1 315.8L65.7 512H2l96-209.8c-45.1-22.9-75.2-64.4-75.2-141.1C22.7 53.7 90.8 0 171.7 0H254v512h-55.1V315.8h-45.8zm45.8-269.3h-29.4c-44.4 0-87.4 29.4-87.4 114.6 0 82.3 39.4 108.8 87.4 108.8h29.4V46.5z'/></svg>",
firefox:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 496 512'><path d='M496 262.5C497.6 380.8 388.9 504 248 504c-106.7 0-190.9-62.5-229.8-151.7-43-97.7-5.7-251.6 70.3-320.3l-2.7 69.7c3.9-5 32.5-6.4 37.1 0C139 71 190.7 48 232.1 47.2c-15.8 13.3-52.2 61.6-49.2 86.2 20.2 6.4 51.1 6.6 67.4 7.7 5 2.8 4.1 19.6-5.8 33.4 0 0-13 18-48.1 24.3l2.7 41.1-37-7.4c-12.4 31.5 17.4 59.4 48.4 54.2 34.3-5.8 45.9-32 70-30.6 23.8 1.4 33.2 14.6 30.1 27.1 0 0-3.9 14.9-29.6 12.4-21.8 34.5-50.4 53.5-97.3 49.4 71.3 59.1 168.3 5.5 192.6-42.8 24.3-48.1 8-122.1-16.3-142.3 28.7 12.4 43.7 27.6 54.2 55.5 5.5-61.9-22.9-132.1-73.8-173.3C436 70.1 494.3 144.2 496 262.5z'/></svg>",
chrome:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 496 512'><path d='M131.5 217.5L55.1 100.1c47.6-59.2 119-91.8 192-92.1 42.3-.3 85.5 10.5 124.8 33.2 43.4 25.2 76.4 61.4 97.4 103L264 133.4c-58.1-3.4-113.4 29.3-132.5 84.1zm32.9 38.5c0 46.2 37.4 83.6 83.6 83.6s83.6-37.4 83.6-83.6-37.4-83.6-83.6-83.6-83.6 37.3-83.6 83.6zm314.9-89.2L339.6 174c37.9 44.3 38.5 108.2 6.6 157.2L234.1 503.6c46.5 2.5 94.4-7.7 137.8-32.9 107.4-62 150.9-192 107.4-303.9zM133.7 303.6L40.4 120.1C14.9 159.1 0 205.9 0 256c0 124 90.8 226.7 209.5 244.9l63.7-124.8c-57.6 10.8-113.2-20.8-139.5-72.5z'/></svg>",
onedrive:"<svg xmlns='http://www.w3.org/2000/svg' id='Layer_1' data-name='Layer 1' viewBox='0 0 24 24'><title>Artboard 1</title><g id='Templates'><path d='M17,10.57a3,3,0,0,1,1.18.23,3.11,3.11,0,0,1,1,.64,2.82,2.82,0,0,1,.65,1,3,3,0,0,1-1.6,3.95,3.08,3.08,0,0,1-1.16.23H8a4,4,0,0,1-1.56-.31,4,4,0,0,1,0-7.38A4,4,0,0,1,8,8.57a3.54,3.54,0,0,1,.73.07,4.63,4.63,0,0,1,.72-.87,4.72,4.72,0,0,1,.89-.65,4.58,4.58,0,0,1,1-.41,4.79,4.79,0,0,1,1.13-.14,4.37,4.37,0,0,1,1.64.3,4.55,4.55,0,0,1,1.36.84,4.39,4.39,0,0,1,1,1.27A4.66,4.66,0,0,1,17,10.57Z'/></g></svg>",
gdrive:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path d='M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z'/></svg>",
dropbox:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><path d='M256 87.2l-151.9 93.9L0 97.5 150.6 0 256 87.2zM0 265.3l150.6 98.3 105.4-88L104.1 181 0 265.3zm256 10.3l105.4 88L512 265.3l-104.1-84.2L256 275.6zM512 97.5L361.4 0 256 87.2l151.9 93.9L512 97.5zM256.3 294.6l-105.7 87.7-45.2-29.5V385l150.9 90.5L407.2 385v-32.2L362 382.3l-105.7-87.7z'/></svg>",
instagram:"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='5 4 44 44' style='enable-background:new 5 4 44 44;' xml:space='preserve'><style type='text/css'>.st0{fill:none;}</style><g><rect x='-0.2' y='0.1' class='st0' width='53.8' height='53.4'/><path d='M48.1,26.3c0,4.3,0,7.2-0.1,8.8c-0.2,3.9-1.3,6.9-3.5,9s-5.1,3.3-9,3.5c-1.6,0.1-4.6,0.1-8.8,0.1c-4.3,0-7.2,0-8.8-0.1 c-3.9-0.2-6.9-1.3-9-3.5c-2.1-2.1-3.3-5.1-3.5-9c-0.1-1.6-0.1-4.6-0.1-8.8s0-7.2,0.1-8.8c0.2-3.9,1.3-6.9,3.5-9 c2.1-2.1,5.1-3.3,9-3.5c1.6-0.1,4.6-0.1,8.8-0.1c4.3,0,7.2,0,8.8,0.1c3.9,0.2,6.9,1.3,9,3.5s3.3,5.1,3.5,9 C48,19.1,48.1,22,48.1,26.3z M28.8,8.7c-1.3,0-2,0-2.1,0c-0.1,0-0.8,0-2.1,0c-1.3,0-2.3,0-2.9,0c-0.7,0-1.6,0-2.7,0.1 c-1.1,0-2.1,0.1-2.9,0.3c-0.8,0.1-1.5,0.3-2,0.5c-0.9,0.4-1.7,0.9-2.5,1.6c-0.7,0.7-1.2,1.5-1.6,2.5c-0.2,0.5-0.4,1.2-0.5,2 s-0.2,1.7-0.3,2.9c0,1.1-0.1,2-0.1,2.7c0,0.7,0,1.7,0,2.9c0,1.3,0,2,0,2.1s0,0.8,0,2.1c0,1.3,0,2.3,0,2.9c0,0.7,0,1.6,0.1,2.7 c0,1.1,0.1,2.1,0.3,2.9s0.3,1.5,0.5,2c0.4,0.9,0.9,1.7,1.6,2.5c0.7,0.7,1.5,1.2,2.5,1.6c0.5,0.2,1.2,0.4,2,0.5 c0.8,0.1,1.7,0.2,2.9,0.3s2,0.1,2.7,0.1c0.7,0,1.7,0,2.9,0c1.3,0,2,0,2.1,0c0.1,0,0.8,0,2.1,0c1.3,0,2.3,0,2.9,0 c0.7,0,1.6,0,2.7-0.1c1.1,0,2.1-0.1,2.9-0.3c0.8-0.1,1.5-0.3,2-0.5c0.9-0.4,1.7-0.9,2.5-1.6c0.7-0.7,1.2-1.5,1.6-2.5 c0.2-0.5,0.4-1.2,0.5-2c0.1-0.8,0.2-1.7,0.3-2.9c0-1.1,0.1-2,0.1-2.7c0-0.7,0-1.7,0-2.9c0-1.3,0-2,0-2.1s0-0.8,0-2.1 c0-1.3,0-2.3,0-2.9c0-0.7,0-1.6-0.1-2.7c0-1.1-0.1-2.1-0.3-2.9c-0.1-0.8-0.3-1.5-0.5-2c-0.4-0.9-0.9-1.7-1.6-2.5 c-0.7-0.7-1.5-1.2-2.5-1.6c-0.5-0.2-1.2-0.4-2-0.5c-0.8-0.1-1.7-0.2-2.9-0.3c-1.1,0-2-0.1-2.7-0.1C31.1,8.7,30.1,8.7,28.8,8.7z  M34.4,18.5c2.1,2.1,3.2,4.7,3.2,7.8s-1.1,5.6-3.2,7.8c-2.1,2.1-4.7,3.2-7.8,3.2c-3.1,0-5.6-1.1-7.8-3.2c-2.1-2.1-3.2-4.7-3.2-7.8 s1.1-5.6,3.2-7.8c2.1-2.1,4.7-3.2,7.8-3.2C29.7,15.3,32.3,16.3,34.4,18.5z M31.7,31.3c1.4-1.4,2.1-3.1,2.1-5s-0.7-3.7-2.1-5.1 c-1.4-1.4-3.1-2.1-5.1-2.1c-2,0-3.7,0.7-5.1,2.1s-2.1,3.1-2.1,5.1s0.7,3.7,2.1,5c1.4,1.4,3.1,2.1,5.1,2.1 C28.6,33.4,30.3,32.7,31.7,31.3z M39.9,13c0.5,0.5,0.8,1.1,0.8,1.8c0,0.7-0.3,1.3-0.8,1.8c-0.5,0.5-1.1,0.8-1.8,0.8 s-1.3-0.3-1.8-0.8c-0.5-0.5-0.8-1.1-0.8-1.8c0-0.7,0.3-1.3,0.8-1.8c0.5-0.5,1.1-0.8,1.8-0.8S39.4,12.5,39.9,13z'/></g></svg>",
facebook:"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 30 30' style='enable-background:new 0 0 30 30;' xml:space='preserve'><style type='text/css'>.f{}.c{fill:none;}</style><g><circle class='c' cx='15' cy='15' r='13' stroke='black' stroke-width='3'/><path class='f' d='M16.4,23.9v-8.1h2.7l0.4-3.2h-3.1v-2c0-0.9,0.3-1.5,1.6-1.5l1.7,0V6.2c-0.3,0-1.3-0.1-2.4-0.1c-2.4,0-4.1,1.5-4.1,4.2v2.3h-2.7v3.2h2.7v8.1H16.4z'/></g></svg>"
}[e]).replace(/%20/g," "),_s=f({timeout:10800,check_interval:300,retimeout_on_get:!0}).init(),bs=m({threads:5}),ws={},ks=async e=>{let t,n;const r=ws[e];if(r)return await r;const s=bs.add(async()=>(n=_s.get(e),n&&(t=await n.toBlob()),t||(t=await Rs(e)),t&&(n||(n=new Pe({blob:t}),_s.set(e,n))),delete ws[e],n));return ws[e]=s,await s},Rs=async e=>{if(/^data:image\/svg|^chrome:|\.svgz?([#?].*)?$/.test(e))return new n(t=>{const n=new Image;n.crossOrigin="anonymous",n.src=e,n.onload=()=>{
const e=document.createElement("canvas"),r=e.getContext("2d");r?(e.width=n.naturalWidth,e.height=n.naturalHeight,r.drawImage(n,0,0),e.toBlob(e=>{t(e||void 0)},"image/png",.75)):t(void 0)},n.onerror=()=>t(void 0)});try{const t=await S(e);if(t.ok)return await t.blob()}catch(e){}},ys=q.FEATURES,Es=(()=>{const e={};let t,n=null;return{create:(r,s,o,i)=>{let l=0;return(()=>{if(t)return t;const r=z(),s=e=>{n=e||"unknown",a.log("notify: chronos level",e),r.resolve()}
;return q.notifications.supported?(q.notifications.getPermissionLevel(s),q.notifications.onPermissionLevelChanged.addListener(s),q.notifications.onClicked.addListener(t=>{a.log("notify: chronos click",t);const n=e[t];if(!n)return;const r=n.cb;r&&r.click&&r.click(),n.cancel(),delete e[t]}),q.notifications.onClosed.addListener(t=>{a.log("notify: chronos close",t);const n=e[t];if(!n)return;const r=n.cb;r&&r.close&&r.close(),delete e[t]})):s("unsupported"),t=r.promise()})().then(()=>{const t=z()
;let c=10;const A=()=>{if(n)if("granted"==n){const n={},c={cb:n,on:(e,t)=>{n[e]=t},cancel:()=>{},show:()=>{const n={type:"basic",title:s||"",message:o||""};n.iconUrl=0==l?r:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",(ys.RUNTIME.CHROME&&ys.RUNTIME.BROWSER_VERSION>=70||ys.RUNTIME.SAFARI)&&void 0!==i.silent&&(n.silent=i.silent),ys.RUNTIME.CHROME&&ys.RUNTIME.BROWSER_VERSION>=50&&(n.requireInteraction=!0);const A=Ie();q.notifications.create(A,n,()=>{
if(q.runtime.lastError){if(l<1)return a.log("notify: chronos creating failed, retry...",q.runtime.lastError),l++,void c.show();a.log("notify: chronos creating finally failed",q.runtime.lastError),t.reject()}else a.log("notify: chronos created",A),c.cancel=()=>{e[A]&&q.notifications.clear(A,()=>{})},e[A]=c})}};t.resolve(c)}else t.resolve();else{const e=()=>{n?A():c--?k(e,200):t.resolve()};e()}};return A(),t.promise()})}}})(),xs=(()=>{const e={};let t,n=null;return{create:(r,s,o,i)=>{
return(t||(l=I?I.permission:"unsupported",n=l||"unknown",a.log("notify: notification level",l),t=z.Pledge())).then(()=>{const t=z(),l=()=>{if("granted"==n||"default"==n){const n={cb:{},on:(e,t)=>{n.cb[e]=t},cancel:()=>{},show:()=>{const t={body:o||"",icon:r};ys.RUNTIME.CHROME&&(ys.RUNTIME.BROWSER_VERSION>=43&&void 0!==i.silent&&(t.silent=i.silent),t.requireInteraction=!0);const l=Ie(),c=new I(s||"",t);c.onclick=()=>{a.log("notify: notification click",l);const t=e[l]
;t&&(t.cb&&t.cb.click&&t.cb.click(),t.cancel(),delete e[l])},c.onclose=c.onerror=t=>{a.log("notify: notification close",l,t);const n=e[l];n&&n.cb&&n.cb.close&&n.cb.close(),delete e[l]},n.cancel=()=>{e[l]&&c.close()},e[l]=n}};t.resolve(n)}else if("denied"==n)t.resolve();else if("unsupported"==n)t.resolve();else{const e=e=>{n="granted"==e?"granted":"denied",l()};ys.RUNTIME.SAFARI?I.requestPermission(e):I.requestPermission().then(e)}};return l(),t.promise()});var l}}})(),Ss={notify:(e,t,n,r,s)=>{
const o=(r=r||{}).timeout;let i,l=null,c=!1,A=null;const u=()=>{A&&y(A),!c&&s&&s({})},d=()=>{c=!0,s&&s({clicked:c}),l&&l.cancel()};return n=n||q.extension.getURL("images/icon128.png"),ks(n).then(e=>null==e?void 0:e.toDataUri()).then(e=>(i=e||n,z.Pledge())).then(()=>Es.create(i,e,t,r)).then(n=>n||((e,t,n)=>{let r=void 0;if(M)try{const s=M.createNotification(e,t||"",n||"");r={on:(e,t)=>{s["on"+e]=t},cancel:()=>{closed||s.cancel()},show:()=>{s.show()}}}catch(e){
a.warn("notify: webkitNotifications creation failed with: "+e.message)}return z.Pledge(r)})(i,e,t)).then(n=>n||xs.create(i,e,t,r)).then(n=>n||((e,t,n,r)=>{const s={cb:{},on:(e,t)=>{s.cb&&(s.cb[e]=t)},cancel:()=>{},show:()=>{r.informational||k(()=>{const e=P((t?t+"\n\n":"")+n);s.cb&&(e?s.cb.click&&s.cb.click():s.cb.close&&s.cb.close())},1)}};return z.Pledge(s)})(0,e,t,{informational:!s})).then(r=>{r&&(l=r,r.on("close",u),r.on("click",d),A=k(()=>{A=null,r.cancel()},o||6e5),
a.log("notify:",e,t,n,o),r.show&&r.show())}),{cancel:()=>{l&&l.cancel()}}},showUpdate:(e,t,n,r)=>Ss.notify(e,t,n,{timeout:3e5},r),show:(e,t,n,r,s)=>Ss.notify(e,t,n,r,s),highlight:(e,t)=>{q.tabs.highlight({tabs:e},t)}},Ts=q.FEATURES;let Ms;const Us={newV:q.extension.manifest.version,oldV:void 0,first_run:!1,active:!1},Gs=()=>{if(!c.late)return void c.registerLateCallback(Gs);let e,t="version="+Us.newV+"&ext="+q.runtime.short_id+"&updated=true"
;if(Us.first_run?(e="https://www.tampermonkey.net/installed.php?"+t,Us.active=!0):(t+="&old="+Us.oldV,e="https://www.tampermonkey.net/changelog.php?"+t),"off"==ar.values.notification_showUpdate);else if("notification"==ar.values.notification_showUpdate)Ss.showUpdate(en.getMessage("Updated_to__0version0",Us.newV),en.getMessage("Click_here_to_see_the_recent_changes"),vs("tampermonkey"),t=>{if(t.clicked){const t={url:e};q.tabs.create(t,()=>{})}
});else if("changelog"==ar.values.notification_showUpdate){Us.active||(e+="&intr=true"),Us.active=!0;const t={url:e,active:Us.active};q.tabs.create(t,()=>{})}},Is=(()=>{const e=z(),t=()=>{const t=Date.now(),n=le.getValue(Ts.CONSTANTS.STORAGE.LAST_START,0),r=Math.round((t-n)/1e3),s=r<=Ts.MISC.DISTURBANCE_ALLOWED;a.log("upd: restart?",s,"(",r,"seconds ago)"),e.resolve(s)};return c.late?t():c.registerLateCallback(t),e.promise()})(),Cs=()=>{let e=!1,t=!1;(()=>{let e,t;const n=z(),r=()=>{
t&&(t=void 0,n.resolve(!!e))};return t=k(r,300),q.idle.queryState(Ts.MISC.IDLE_TIMEOUT,t=>{e="active"==t,r()}),n.promise()})().then(e=>(t=e,Is)).then(t=>{e=t}).always(()=>{Us.active=!t||e,Gs(),Bs=!0})};let Zs=!1;const Os="extentsion_update_available";let Fs,Bs;const js={scheduleNotification:(e,t)=>{Bs||(Us.oldV=e||void 0,Us.first_run||(Us.first_run=t),Fs&&y(Fs),Fs=k(Cs,1e3))},updateAvailable:()=>Ms,onInstalled:()=>{js.scheduleNotification(void 0,!0)},onUpdated:e=>{js.scheduleNotification(e,!1)},
onUpdateAvailable:e=>{Zs||(a.info("An update to version",e.version,"is available"),Ms=e.version,Rn.all("status",{key:Os,id:Os,class:"info",text:en.getMessage("0name0_0version0_is_available__Please_re_start_your_browser_to_update_",q.extension.manifest.name,e.version),timeout:864e5}),Zs=!0)}};c.registerLateCallback(()=>{le.setValue(Ts.CONSTANTS.STORAGE.LAST_START,Date.now())});const Ns=js,Ls=q.FEATURES,Ps=(e,t)=>{
if(!e||-1!=e.search(/#bypass=true/)||-1!=e.search(Ls.REQUESTS.GET_INTERNAL_PAGE_REGEXP())||!["https:","http:","file:","ftp:"].some(t=>e.startsWith(t)))return!1;const n=t?e:e.split(/[?#$]/)[0],r=-1!=n.search(/[^/]{1}\.user\.(js#|js\?|js$)/)||-1!=n.search(/[^/]{1}\.tamper\.(js#|js\?|js$)/);return r?!(-1!=n.search(/^htt[ps]{1,2}:\/\/code\.google\.com/)||-1!=n.search(/^htt[ps]{1,2}:\/\/(github|gitlab)\.com/)&&!As(n)||-1!=n.search(/^htt[ps]{1,2}:\/\/bitbucket\.org/)&&!As(n)):r},Ds=(e,t)=>{
const n=z(),r=xt(e);if(r&&["file:"].concat(Ls.REQUESTS.INTERNAL_PAGE_PROTOCOLS).includes(r.protocol))q.file.get(e,e=>{n.resolve(e)},e=>{n.reject(e)});else{const r={method:"GET",retries:Ls.XMLHTTPREQUEST.RETRIES,timeout:1e3*Ls.SCRIPT_DOWNLOAD.TIMEOUT,revalidate:!0,headers:null==t?void 0:t.headers,responseType:"arraybuffer",url:e};Fn(r,{onload:t=>{4!=t.readyState||200!=t.status&&0!=t.status||t.error?(a.verbose("getScriptFromUrl: "+e+" req.status = "+t.status),
n.reject(t.responseText||"request error")):n.resolve(t.response)},onerror:e=>n.reject(e.responseText||"request error"),ontimeout:()=>n.reject("timeout")})}return n.promise()},Vs=e=>{const t=z();return Ds(e,{headers:{Accept:"text/x-userscript, */*"}}).then(e=>{me(e,{encoding:"UTF-8"}).then(e=>{t.resolve(e)},e=>{t.reject(e.message||"charset issue")})}),t.promise()},zs=()=>{const e=z();return q.tabs.getSelected(null,t=>{t?e.resolve(t):e.reject()}),e.promise()},qs=(e,t)=>{let n,r;try{
t||"/"!=e.substr(0,1)?t?(r=dt(e),n=new RegExp(r)):(r=(e=>{let t;if("*"==e)t="^(https?|file)://.*";else{t=e;const n=ct.exec(t);if(n){let[,e,r,s]=n;e=e?Re(e).replace(/\*/gi,"[^:]*"):"",r=r?Re(s?r.replace(/\.\*$/,st):r).replace(/\*+/g,(e,t)=>1==e.length&&(s||!t&&r.length>1&&(r.match(/\*/g)||[]).length>1&&r.replace(/\*\./g,"").length>0)?"[^/]*":".*"):r||"",s=s?Re(s).replace(/\*/gi,".*"):"",t="^"+[e,r,s].join("")+"$"}else t="^"+Re(t)+"$",t=t.replace(/\*/gi,".*"),
t=t.replace(/(\^|:\/\/)\.\*/,"$1([^?#])*");t=t.replace(Re(".tld/"),it+"/")}return t})(e),n=new RegExp(r,"i")):(r=("^"==e.substr(1,1)?"":".*")+e.replace(/^\//g,"").replace(/\/$/g,"")+("$"==e.substr(-2,1)?"":".*"),r=r.replace(/(\.\*){1,}/g,".*"),n=new RegExp(r,"i"))}catch(t){return void a.warn("scriptman: invalid regexp ",e)}return n},Qs=(e,t)=>""===e.replace(t,""),Xs=(e,t)=>{let n=[],r=[];const s=(e,t)=>e&&e.length?e.map(e=>qs(e,t)).filter(e=>void 0!==e):[],{inc:o,match:a,exc:i}=e
;return n=s(o).concat(s(a,!0)),r=s(i),{rinc:n.length||t?n:void 0,rexc:r.length||t?r:void 0}},Hs=(e,t,n)=>{let r=!1;if(t.rinc){if(t.rinc.every(t=>!Qs(e,t)||(a.debug('scriptman: @include "'+t+'" matched'+(n?" ("+n+")":'"')),r=!0,!1)),!r)return r}else r=!0;return t.rexc&&t.rexc.every(t=>!Qs(e,t)||(a.debug('scriptman: @exclude "'+t+'" matched'+(n?" ("+n+")":'"')),r=!1,!1)),r},Ws=f({timeout:5,check_interval:10,retimeout_on_get:!0}).init(),Ys=f({timeout:300,check_interval:120,retimeout_on_get:!0
}).init(),Js=q.FEATURES;let Ks;const $s=m({threads:1}),eo=(e,t)=>{const n=(e?e.split("/"):[]).concat(t?[t]:[]).join("/");return n?("/"==n.substr(0,1)?"":"/")+n:""},to=e=>{const t={type:e,request:e=>{const t=()=>{const t=z(),n=e=>{a.log("rest service: request failed",e),t.reject(e)},r="xml"===e.responseType,s="headers"===e.responseType;return(r||s)&&delete e.responseType,$e(e,{onload:o=>{if([200,201,204,207].includes(o.status)){let n
;n=r?e.anonymous||e.fetch||null===o.responseXML?(new O).parseFromString(o.responseText||"","text/xml"):o.responseXML:s?Ke(o.responseHeaders):o.response,t.resolve({result:n})}else n(o)},onerror:n,ontimeout:()=>n("timed out"),onprogress:e=>t.notify(e)},{internal:!0}),t.promise()};return e.no_queue?t():$s.add(t)},error:t=>{const n=t;let r;if(void 0!==n.status){r=n.status.toString();try{r=r+" | "+n.responseText}catch(e){}}else r=t;Nr(e,"error","request: "+r)},
wait:e=>(...t)=>e(...t).then(e=>e,e=>(e=>z.Breach(e?e.responseText||e.statusText:void 0))(e)),changes:(()=>{let e;return{listen:()=>(e||(e=z(),t.watch&&t.watch.start()),e.promise()),notify:t=>{e.notify(t)}}})()};return t},no=e=>{const t=Object.assign({},e),n=t.type;if(void 0===n)throw new Error("Internal error");let r,s=[];const o=Object.assign(e,{...t,config:{...t.config,auth_prefix:"Bearer",storage_key:""},credentials:{},request:e=>(e.no_auth||(e.headers=e.headers||{},
e.headers.Authorization=o.config.auth_prefix+" "+o.credentials.access_token),t.request(e)),oauth:(()=>{let e;const t={run:()=>{if(r)return r;let s=z();const a=r=s.promise();e="!!"+n+"-"+Ie();let i=o.credentials?o.credentials.refresh_token:null;const l=(e,t)=>{o.credentials=t,null==s||s.resolve(),s=void 0,e&&e.close()};return(()=>{if(!o.config.refresh_supported||!i)return z.Pledge();const e=z(),r=()=>{i=null,delete o.credentials.refresh_token};return $e({url:t.getRefreshUrl(i),
fetch:!Js.RUNTIME.SAFARI},{onload:e=>{if(!e.finalUrl)return Nr(n,"error","auth refresh token: !finalUrl"),void r();const s=t.onUrl(e.finalUrl);s&&(s.error||!s.access_token?(Nr(n,"error","auth refresh token: "+(s.error||"!access_token")),r()):l(null,s))},onerror:r,ondone:()=>e.resolve()}),e.promise()})().then(()=>{if(!s)return;if(!o.config.refresh_supported)return z.Pledge();const e=z(),r=Ks({url:t.getRefreshUrl()});return r.promise.progress(e=>{let a
;s&&(a=t.onUrl(e.url))&&(a.error||!a.access_token?(Nr(n,"error","auth refresh: "+(a.error||"!access_token")),o.config.refresh_supported=!1):l(r,a))}).always(e.resolve),e.promise()}).then(()=>{if(!s)return;const e=z(),r=Ks({url:t.getAuthUrl()});return r.promise.progress(e=>{let o;s&&(o=t.onUrl(e.url))&&(o.error||!o.access_token?Nr(n,"error","auth: "+(o.error||"!access_token")):l(r,o))}).always(e.resolve),e.promise()}).done(()=>{r=void 0,s&&s.reject("auth_failed")}),a},
getAuthUrl:()=>o.config.request_uri+"?"+Gt({response_type:o.config.response_type,client_id:o.config.client_id,redirect_uri:o.config.redirect_uri,state:e,scope:o.config.scope}),getRefreshUrl:t=>{const n={client_id:o.config.client_id,redirect_uri:o.config.redirect_uri,state:e,scope:o.config.scope,refresh_token:t};return o.config.redirect_uri+"?"+Gt(n)},onUrl:t=>{let n,r
;if(t&&0===t.indexOf(o.config.redirect_uri)&&(r=xt(t))&&("string"!=typeof(s=r)&&(s=s.search?s.search.substring(1):s.hash?s.hash.substring(1):""),n=s.split("&").reduce((e,t)=>{const n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e},{}))&&(n.access_token||n.error)&&n.state===e)return{uid:n.uid,access_token:n.access_token,refresh_token:n.refresh_token,error:n.error};var s}};return t})(),wait:e=>t.wait((...t)=>{if(o.credentials.access_token)return e(...t);{const n=z()
;return s.push(()=>n.consume(e(...t))),o.oauth.run().done(()=>{s.forEach(e=>e()),s=[]}).fail(e=>{n.reject(e)}),n.promise()}})}),a=Js.HTML5.LOCALSTORAGE;let i;return Object.defineProperty(o,"credentials",{get:()=>{if(void 0===i){if(Nr(n,"init"),a)try{const e=JSON.parse(a.getItem(o.config.storage_key)||"");i={uid:e.uid,access_token:e.access_token,refresh_token:e.refresh_token}}catch(e){}i=i||{}}return i},set:e=>{if(a)try{a.setItem(o.config.storage_key,JSON.stringify({uid:e.uid,
access_token:e.access_token,refresh_token:e.refresh_token}))}catch(e){}i=e},enumerable:!1}),o},ro=e=>{let t,n,r,s,o,i,l,c,u,d=null,p=null;const h=Object.assign({},e),m=e=>{var t;let n;return e&&(n=(null===(t=e.firstChild)||void 0===t?void 0:t.nextSibling)?e.firstChild.nextSibling:e.firstChild),n},f=e=>h.wait((...t)=>w.init().then(()=>e(...t))),g=(e,t)=>{let n,r;if((n=e.getElementsByTagNameNS("*",t)[0])&&(r=n.firstChild))return r.nodeValue||void 0},v=e=>{
const s=[],o=e.getElementsByTagNameNS("*","response");for(let e=0;e<o.length;e++){const a=o[e];let i=g(a,"href");if(null==i)continue;i=i.replace(/\/$/,"");const l=a.getElementsByTagNameNS("*","propstat")[0].getElementsByTagNameNS("*","prop")[0],c=g(l,"getlastmodified"),A=g(l,"getetag"),u=parseInt(g(l,"getcontentlength")||""),d=l.getElementsByTagNameNS("*","resourcetype")[0].getElementsByTagNameNS("*","collection")[0],p=i.replace(new RegExp("^("+[Re(n+t)+"/?",Re(r+t)+"/?"].join("|")+")"),"")
;let h;try{h=U(p)}catch(e){h=p}if(d);else{const e={etag:A,name:h,id:p,modifiedTime:new Date(c||0).getTime(),size:u>=0?u:void 0,removed:-1==u};s.push(e)}}return s},_=e=>g(e,"td:cursor"),b=(e,t)=>{const n=t||{};return n.set_current_list&&(o={}),w.request({method:"PROPFIND",url:e,headers:{"Content-Type":"text/xml; charset=UTF-8",Depth:void 0!==n.depth?n.depth:1},responseType:"xml"}).then(e=>{const t=e.result;let r;if(null===t||!(r=m(t))||!r.childNodes)return z.Breach();const s=v(r)
;if(n.set_current_list){const e=_(r);e&&(i=e),s.forEach(e=>{o[e.id]=e})}return s})},w=Object.assign(e,{...e,config:{...e.config,watch_interval:36e5,root:void 0,path:void 0},request:e=>(e.headers=e.headers||{},e.headers["User-Agent"]="Tampermonkey",e.headers.Cookie="",h.request(e).then(e=>e,t=>{var n;const r=(null===(n=t)||void 0===n?void 0:n.status)||-1;return!t||[403,500].includes(r)?(e.backoff=2*(e.backoff||1e3),A(e.backoff).then(()=>w.request(e))):404==r?z.Pledge(t):(w.error(t),z.Breach(t))
})),init:()=>{if(s)return s;t=eo(w.config.root,w.config.path),n=w.config.url||"","/"==n.slice(-1)&&(n=n.slice(0,-1));const e=xt(n);if(!e)return z.Breach("invalid url");r=e.pathname,"/"==r.slice(-1)&&(r=r.slice(0,-1));const o=z();s=o.promise();const a=n+t;return w.request({method:"OPTIONS",url:n,responseType:"headers"}).done(e=>{const t=e.result;let n;t&&(n=t["access-control-allow-methods"])&&n.includes("EDITOR")&&(u=!0)}).always(()=>{b(a,{depth:0}).done(()=>o.resolve()).fail(()=>{const e=[]
;z.onebyone(t.split("/").filter(e=>e).map(t=>{e.push(t);const r=e.join("/");return()=>w.request({method:"MKCOL",url:n+"/"+r,headers:{"Content-Type":"text/xml; charset=UTF-8"},responseType:"xml"})})).done(()=>o.resolve()).fail(o.reject)})}),s},list:f(e=>b(n+t,{set_current_list:!0}).then(t=>{const n={};return t.map(t=>{if(!e){if(n[t.id])return;n[t.id]=!0}return{name:t.name,id:t.id,size:t.size||0,etag:t.etag,modified:t.modifiedTime,precision:1e3,removed:t.removed}}).filter(e=>e)})),get:f(e=>{
const r=e.id||e;return w.request({method:"GET",url:n+eo(t,r),headers:{"Content-Type":"text/xml; charset=UTF-8"},responseType:"arraybuffer"}).then(e=>{const t=e.result;return new Blob([t])})}),put:f((e,r,s)=>{const o=e.id||e;let i,l,c;const A={"Content-Type":"application/octet-stream"};let u=!1;return s&&s.lastModified&&(u=null===p,i=s.lastModified,c=new Date(s.lastModified).toISOString(),l=s.lastModified/1e3,(p||u)&&(A["X-OC-Mtime"]=l)),w.request({method:"PUT",url:n+eo(t,o),headers:A,
data_type:"typified",data:{type:"raw",value:r},responseType:"headers"}).then(e=>{const r=e.result;if(r&&u){let e;p=!("accepted"!=r["x-oc-mtime"]&&(!r.date||!(e=new Date(r.date).getTime())||e!=i&&e!=Math.floor(l)))}if(!p&&!d&&c)return w.request({method:"PROPPATCH",url:n+eo(t,o),headers:{"Content-Type":"text/xml; charset=UTF-8"},responseType:"xml",
data:`\n                            <?xml version="1.0"?>\n                            <d:propertyupdate xmlns:d="DAV:">\n                                <d:set>\n                                    <d:prop>\n                                        <d:getlastmodified>${c}</d:getlastmodified>\n                                    </d:prop>\n                                </d:set>\n                            </d:propertyupdate>\n                        `}).then(e=>{var t;const n=e.result
;let r,s,o;n&&(r=n.childNodes[0])&&(s=r.getElementsByTagNameNS("*","status")[0])&&(o=null===(t=s.firstChild)||void 0===t?void 0:t.nodeValue)&&-1!=o.search(/HTTP\/[0-9.]+ 403/)&&(a.warn("WebDAV: no way to set file modification date! This might cause redundant up and downloads."),d=!0)},()=>(a.warn("WebDAV: no way to set file modification date! This might cause redundant up and downloads."),d=!0,z.Pledge()))})}),delete:f(e=>{const r=e.id||e;return w.request({method:"DELETE",url:n+eo(t,r),headers:{
"Content-Type":"text/xml; charset=UTF-8"}})}),watch:{start:()=>{if(l)return;l=!0;let e=null;const r=()=>{if(c=void 0,l)if(!1===e){const e=o;b(n+t,{set_current_list:!0}).then(()=>{e&&(Object.keys(e).forEach(t=>{const n=o[t],r=e[t];n?r.modifiedTime!=n.modifiedTime&&h.changes.notify({time:n.modifiedTime,name:n.name,id:n.id}):h.changes.notify({time:Date.now(),name:r.name,id:r.id,removed:!0})}),Object.keys(o).forEach(t=>{if(!e[t]){const e=o[t];h.changes.notify({time:e.modifiedTime,name:e.name,id:e.id
})}}))}).fail(e=>{a.warn("WebDAV: file changes check failed",e)}).always(()=>{c=k(r,w.config.watch_interval)})}else{let s=100;((e,t)=>{const n={"Content-Type":"text/xml; charset=UTF-8",Depth:1,Timeout:90};return t&&(n.Cursor=t),w.request({method:"SUBSCRIBE",url:e,headers:n,responseType:"xml",no_queue:!0}).then(e=>{const t=e.result;let n;return null===t?z.Pledge({changes:[],cursor:i}):(n=m(t))&&n.childNodes?{changes:v(n),cursor:_(n)}:z.Breach()})})(n+t,i).then(e=>{const t=e.changes;i=e.cursor,
s=1,t.forEach(e=>{h.changes.notify({time:e.modifiedTime,name:e.name,id:e.id,removed:e.removed})})},()=>{if(null!==e)return s*=2,A(s);e=!1}).always(r)}};f(()=>l?(r(),z.Pledge()):z.Breach())()},stop:()=>{l=!1,c&&(y(c),c=void 0)}},getRemoteUrl:e=>{if(u)return n+eo(t,e)+"?method=editor#bypass=true"},getRemoteDomains:()=>{var e;return[((null===(e=xt(n))||void 0===e?void 0:e.origin)||"").replace(/^.*:\/\//,"")]}});return w},so={drive:()=>{let e,t
;(e=Js.HTML5.LOCALSTORAGE)&&(t=parseInt(e.getItem("dropbox_poll_interval")||""))||(t=18e5);const n=no(to("drive")),r=Object.assign({},n),s="appDataFolder";let o,i;const l=Object.assign(n,{...n,config:{...n.config,redirect_uri:"https://auth.tampermonkey.net/oauth.php",refresh_supported:!0,request_uri:"https://accounts.google.com/o/oauth2/v2/auth",client_id:"408438522028-3cgn3t3jas3fak7isbnfod1q4h15g2fv.apps.googleusercontent.com",storage_key:"gd_config",
scope:"https://www.googleapis.com/auth/drive.appdata",response_type:"token",watch_interval:t},request:e=>r.request(e).then(e=>e,t=>{var n;const r=(null===(n=t)||void 0===n?void 0:n.status)||-1;if(!t||[403,500].includes(r))return e.backoff=2*(e.backoff||1e3),A(e.backoff).then(()=>l.request(e));if([400,401].includes(r)){if(a.warn("Google Drive: authentication error",t),delete l.credentials.access_token,!e.retry_auth)return e.retry_auth=!0,l.oauth.run().then(()=>l.request(e))
}else if(404==r)return z.Pledge(t);return l.error(t),z.Breach(t)}),list:r.wait(e=>{let t=[];const n=z(),r=e=>"https://www.googleapis.com/drive/v3/files?"+Gt({spaces:s,pageToken:e,orderBy:"modifiedTime desc",fields:"nextPageToken, files(id, size, name, modifiedTime, md5Checksum)",pageSize:500}),o=e=>{l.request({method:"GET",url:e,headers:{"Content-Type":"application/json"}}).then(e=>{const s=e.result,a=s?JSON.parse(s):{files:[]};if(t=t.concat(a.files),a.nextPageToken)return o(r(a.nextPageToken))
;n.resolve(t)})};return o(r()),n.promise().then(t=>{const n={};return t.map(t=>{if(!e){if(n[t.name])return;n[t.name]=!0}return{name:t.name,size:t.size||0,id:t.id,md5:t.md5Checksum,modified:new Date(t.modifiedTime).getTime()}}).filter(e=>e)})}),get:r.wait(e=>{const t=e.id||e;return l.request({method:"GET",url:"https://www.googleapis.com/drive/v3/files/"+t+"?"+Gt({spaces:s,alt:"media"}),responseType:"arraybuffer"}).then(e=>{const t=e.result;return new Blob([t])})}),put:r.wait((e,t,n)=>{
const r=e,o=r.name||e,a=r.id,i=Ie();return z.Pledge().then(()=>{if(t)return _e(t)}).then(e=>{const t=n&&n.lastModified?new Date(n.lastModified).toISOString():void 0,r=[];return r.push("--"+i),r.push("Content-Type: application/json"),r.push(""),r.push(JSON.stringify({name:o,parents:a?void 0:[s],modifiedTime:t})),r.push("--"+i),e&&(r.push("Content-Type: application/octet-stream"),r.push("Content-Transfer-Encoding: base64"),r.push(""),r.push(ue(e)),r.push("--"+i+"--")),r.push(""),l.request({
method:a||!e?"PATCH":"POST",url:"https://www.googleapis.com/"+(e?"upload/":"")+"drive/v3/files"+(a?"/"+a:"")+"?"+Gt({uploadType:"multipart"}),headers:{"Content-Type":"multipart/related; boundary="+i},data:r.join("\r\n")})})}),delete:r.wait(e=>{const t=e.id||e;return l.request({method:"DELETE",url:"https://www.googleapis.com/drive/v3/files/"+t+"?"+Gt({spaces:s}),headers:{"Content-Type":" application/json"}})}),revoke:r.wait(()=>{const e=l.credentials.access_token;return e?r.request({method:"GET",
url:"https://accounts.google.com/o/oauth2/revoke?"+Gt({token:e})}):z.Breach()}),compare:(e,t)=>{const n=z();let r;return(r=e.md5)&&r==fe(t,"utf-8")?n.resolve(!0):n.resolve(!1),n.promise()},watch:{start:()=>{if(o)return;let e;o=!0;const t=()=>{i=null,o&&l.request({method:"GET",url:"https://www.googleapis.com/drive/v3/changes/?"+Gt({pageToken:e,spaces:"appDataFolder",pageSize:1e3,includeRemoved:!0}),headers:{"Content-Type":" application/json"}}).then(t=>{const n=t.result;if(!o)return z.Breach()
;const r=n?JSON.parse(n):{};if(!(e=r.newStartPageToken))return a.warn("Google Drive: watch token error",n),l.watch.stop();r.nextPageToken&&a.warn("Google Drive: too much changes",n),(r.changes||[]).forEach(e=>{let t;const n=e.file;"file"===e.type&&n&&(t=Date.parse(e.time),isNaN(t)&&(t=Date.now()),l.changes.notify({id:n.id,time:t,name:n.name,removed:e.removed}))})}).fail(e=>{a.warn("Google Drive: file changes check failed",e)}).always(()=>{i=k(t,l.config.watch_interval)})}
;r.wait(()=>o?l.request({method:"GET",url:"https://www.googleapis.com/drive/v3/changes/startPageToken",headers:{"Content-Type":" application/json"}}).then(n=>{const r=n.result,s=r?JSON.parse(r):{};if(!(e=s.startPageToken))return a.warn("Google Drive: watch token error",r),l.watch.stop();t()}):z.Breach())()},stop:()=>{o=!1,i&&(y(i),i=null)}},getRemoteUrl:void 0});return l},dropbox:e=>{const t=e.path||"",n=Js.HTML5.LOCALSTORAGE;let r
;n&&(r=parseInt(n.getItem("dropbox_poll_interval")||""))||(r=18e5);const s=no(to("dropbox")),o=Object.assign({},s);let i,l,c,u,d=!0;const p=e=>{let n=[];const r=z(),s=e=>{h.request({method:"POST",url:"https://api.dropboxapi.com/2/files/list_folder"+(e?"/continue":""),headers:{"Content-Type":" application/json"},data:{path:e?void 0:eo(t),cursor:e}}).then(e=>{const t=e.result,o=t?JSON.parse(t):{entries:[]};if(n=n.concat(o.entries),o.has_more&&o.cursor)return s(o.cursor);r.resolve({list:n,
cursor:o.cursor})}).fail(r.reject)};return d?(d=!1,h.put(".version",new Blob([q.extension.manifest.version])).then(()=>{s(e)}).fail(r.reject)):s(e),r.promise()},h=Object.assign(s,{...s,config:{...s.config,redirect_uri:"https://auth.tampermonkey.net/oauth.php",request_uri:"https://www.dropbox.com/oauth2/authorize",client_id:"gq3auc9yym0e21y",storage_key:"db_config",response_type:"token",watch_interval:r?Number(r):0},request:e=>o.request(e).then(e=>e,t=>{var n
;const r=(null===(n=t)||void 0===n?void 0:n.status)||-1;return!t||[500,429].includes(r)?(e.backoff=2*(e.backoff||1e3),A(e.backoff).then(()=>h.request(e))):[401].includes(r)&&(a.warn("Dropbox: authentication error",t),delete h.credentials.access_token,!e.retry_auth)?(e.retry_auth=!0,h.oauth.run().then(()=>h.request(e))):(h.error(t),z.Breach(t))}),list:o.wait(e=>p().then(t=>{const n={};return l=t.cursor,t.list.map(t=>{if(!e){if(n[t.name])return;n[t.name]=!0}return{name:t.name,size:t.size,
dropbox_hash:t.content_hash,modified:new Date(t.client_modified).getTime(),precision:1e3}}).filter(e=>e)}).always(()=>{i&&l&&(i(),i=null)})),get:o.wait(e=>{const n=e.name||e;return h.request({method:"POST",url:"https://content.dropboxapi.com/2/files/download",headers:{"Dropbox-API-Arg":JSON.stringify({path:eo(t,n)})},responseType:"arraybuffer"}).then(e=>{const t=e.result;return new Blob([t])})}),put:o.wait((e,n,r)=>{
const s=e.name||e,o=r&&r.lastModified?(new Date(r.lastModified).toISOString().match(/[^:]*:[^:]*:[^:.a-zA_Z]*/)||"")[0]+"Z":void 0;return h.request({method:"POST",url:"https://content.dropboxapi.com/2/files/upload",headers:{"Dropbox-API-Arg":JSON.stringify({path:eo(t,s),client_modified:o,mode:"overwrite"}),"Content-Type":"application/octet-stream"},data_type:"typified",data:{type:"raw",value:n}})}),delete:o.wait(e=>{const n=e.name||e;return h.request({method:"POST",
url:"https://api.dropboxapi.com/2/files/delete",headers:{"Content-Type":" application/json"},data:{path:eo(t,n)}})}),compare:(e,t)=>{const n=z();if(D){const r=4194304,s=he(t,{encoding:"utf-8"}),o=[],i=s.byteLength;let l=1;const c=(e,t)=>{const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},A=()=>{if(0==--l){let t=new ArrayBuffer(o.map(e=>(null==e?void 0:e.byteLength)||0).reduce((e,t)=>e+t,0));o.forEach(e=>{
e&&(t=c(t,e))}),D.subtle.digest("SHA-256",t).then(t=>{const r=Array.from(new Uint8Array(t)).map(e=>("00"+e.toString(16)).slice(-2)).join("");n.resolve(r==e.dropbox_hash)})}};for(let e=0,t=0;t<i;t+=r,e++)(e=>{o.push(null),l++,D.subtle.digest("SHA-256",s.slice(t,t+Math.min(r,i-t))).then(t=>{o[e]=t,A()},()=>{a.warn("Dropbox: unable to calculate SHA-256 hashes"),n.reject()})})(e);A()}else a.warn("Dropbox: unable to calculate SHA-256 hashes"),n.reject();return n.promise()},watch:{start:()=>{
if(c)return;c=!0;let e=0;const t=()=>{if(u=null,e=0,c)return l?void h.request({method:"POST",url:"https://notify.dropboxapi.com/2/files/list_folder/longpoll",headers:{"Content-Type":" application/json"},no_auth:!0,no_queue:!0,data:{cursor:l,timeout:180}}).then(t=>{const n=t.result;if(!c)return z.Breach();const r=n?JSON.parse(n):{};return r.backoff&&(e=1e3*r.backoff),r.changes?A(6e4).then(()=>p(l)).then(e=>(l=e.cursor)?e.list:(a.warn("Dropbox: watch token error",n),h.watch.stop())):null
}).then(e=>{e&&e.forEach(e=>{let t;const n=e[".tag"];["file","deleted"].includes(n)&&(t=Date.parse(e.server_modified),h.changes.notify({id:e.id,time:t,name:e.name,removed:"deleted"==n}))})}).fail(e=>{a.warn("Dropbox: file changes check failed",e)}).always(()=>{u=k(t,e+h.config.watch_interval)}):(a.warn("Dropbox: watch token error",l),h.watch.stop())};o.wait(()=>c?(l?t():i=t,z.Pledge()):z.Breach())()},stop:()=>{c=!1,u&&(y(u),u=null)}},getRemoteDomains:()=>["dropbox.com","dropboxapi.com"],
getRemoteUrl:void 0});return h},onedrive:e=>{const t=e.path||"";let n,r,s;(n=Js.HTML5.LOCALSTORAGE)&&(r=parseInt(n.getItem("onedrive_poll_interval")||""))||(r=18e5);const o=no(to("onedrive")),i=Object.assign({},o);let l,c;const u=e=>{const n=z();let r=[];const o=a=>{d.request({method:"GET",url:a||"https://api.onedrive.com/v1.0/drive/special/approot:"+eo(t)+":/children",headers:{"Content-Type":" application/json"}}).then(t=>{const a=t.result,i=a?JSON.parse(a):{value:[]}
;if(r=r.concat(i.value.map(e=>{var t,n,r;const s=(null===(t=null==e?void 0:e.fileSystemInfo)||void 0===t?void 0:t.lastModifiedDateTime)||0,o=(null===(r=null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.hashes)||void 0===r?void 0:r.sha1Hash)||void 0;return{id:e.id,name:e.name,size:e.size,sha1:o,modified:new Date(s).getTime()}})),i["@odata.nextLink"])return o(i["@odata.nextLink"]);e.set_current_list&&(s=r),n.resolve(r)}).fail(e=>n.reject(e))};return o(),n.promise()},d=Object.assign(o,{...o,
config:{...o.config,redirect_uri:"https://auth.tampermonkey.net/oauth.php",request_uri:"https://login.live.com/oauth20_authorize.srf",client_id:"000000004C1A3122",storage_key:"od_config",response_type:"token",scope:"onedrive.appfolder",watch_interval:r},request:e=>i.request(e).then(e=>e,t=>{var n;const r=(null===(n=t)||void 0===n?void 0:n.status)||-1;if(!t||[403,500].includes(r))return e.backoff=2*(e.backoff||1e3),A(e.backoff).then(()=>d.request(e));if([401].includes(r)){
if(a.warn("OneDrive: authentication error",t),delete d.credentials.access_token,!e.retry_auth)return e.retry_auth=!0,d.oauth.run().then(()=>d.request(e))}else if(404==r)return z.Pledge(t);return d.error(t),z.Breach(t)}),list:i.wait(()=>u({set_current_list:!0})),get:i.wait(e=>{const n=e.name||e;return d.request({method:"GET",url:"https://api.onedrive.com/v1.0/drive/special/approot:"+eo(t,G(n))+":/content",responseType:"arraybuffer"}).then(e=>{const t=e.result;return new Blob([t])})}),
put:i.wait((e,n,r)=>{const s=e.name||e,o=G(s.replace(/[#%<>:"|?*/\\]/g,"-"));return d.request({method:"PUT",url:"https://api.onedrive.com/v1.0/drive/special/approot:"+eo(t,o)+":/content",headers:{"Content-Type":"application/octet-stream"},data_type:"typified",data:{type:"raw",value:n}}).then(e=>{const t=r&&r.lastModified?new Date(r.lastModified).toISOString():void 0;if(!t)return e;const n=e.result,s=JSON.parse(n);return d.request({method:"PATCH",
url:"https://api.onedrive.com/v1.0/drive/items/"+s.id,headers:{"Content-Type":"application/json"},data:JSON.stringify({fileSystemInfo:{lastModifiedDateTime:t}})})})}),delete:i.wait(e=>{const n=e.name||e;return d.request({method:"DELETE",url:"https://api.onedrive.com/v1.0/drive/special/approot:"+eo(t,G(n))})}),watch:{start:()=>{if(l)return;l=!0;const e=()=>{if(c=null,!l)return;const t=s;u({set_current_list:!0}).then(()=>{if(!t)return;const e={},n={};s.forEach(t=>{e[t.id]=t}),t.forEach(e=>{
n[e.id]=e}),Object.keys(n).forEach(t=>{const r=e[t],s=n[t];r?s.modified!=r.modified&&d.changes.notify({time:r.modified,name:r.name}):d.changes.notify({time:Date.now(),name:s.name,removed:!0})}),Object.keys(e).forEach(t=>{if(!n[t]){const n=e[t];d.changes.notify({time:n.modified,name:n.name})}})}).fail(e=>{a.warn("OneDrive: file changes check failed",e)}).always(()=>{c=k(e,d.config.watch_interval)})};i.wait(()=>l?(e(),z.Pledge()):z.Breach())()},stop:()=>{l=!1,c&&(y(c),c=null)}},
getRemoteDomains:()=>["onedrive.live.com"],getRemoteUrl:void 0});return d},yandex:()=>{let e,t;(e=Js.HTML5.LOCALSTORAGE)&&(t=parseInt(e.getItem("yandex_poll_interval")||""))||(t=18e5);const n=no(to("yandex")),r=ro(n),s=Object.assign({},r);let o;const i=Object.assign(r,{...n,...r,config:{...r.config,root:"/Programs/Tampermonkey",url:"https://webdav.yandex.ru",redirect_uri:"https://auth.tampermonkey.net/oauth.php",refresh_supported:!0,request_uri:"https://oauth.yandex.com/authorize",
client_id:"a591fcd2ccd248f0baa84222898065f4",storage_key:"ya_config",response_type:"token",auth_prefix:"OAuth",watch_interval:t},init:()=>{if(o)return o;const e=z();return o=e.promise(),i.request({method:"GET",url:"https://cloud-api.yandex.net/v1/disk/"}).done(e=>{const t=e.result,n=t?JSON.parse(t):{}
;n.total_space&&n.used_space&&(n.used_space+5e7>n.total_space?a.warn("Yandex: low disk space warning, only "+(n.total_space-n.used_space)+" bytes available"):a.log("Yandex: "+(n.total_space-n.used_space)+" bytes on disk available!"))}).always(()=>{e.consume(s.init())}),o},getRemoteDomains:()=>["disk.yandex.com"],getRemoteUrl:void 0,list:e=>s.list(e).then(e=>e.map(e=>(e.md5=e.etag,e))),request:e=>(()=>{const t=e.headers=e.headers||{};if(t["X-Requested-With"]="XMLHttpRequest",
"PUT"==e.method&&e.data&&"raw"==e.data.type&&e.data.value){const n=z();return _e(e.data.value).then(e=>{t.Etag=fe(e),t.Sha256=w(e,"ASCII")}).always(n.resolve),n.promise()}return z.Pledge()})().then(()=>s.request(e)).then(e=>e,t=>{var n;const r=(null===(n=t)||void 0===n?void 0:n.status)||-1;return[401].includes(r)&&(a.warn("Yandex: authentication error",t),delete i.credentials.access_token,!e.retry_auth)?(e.retry_auth=!0,i.oauth.run().then(()=>s.request(e))):t}),compare:(e,t)=>{const n=z();let r
;return(r=e.md5)&&r==fe(t,"utf-8")?n.resolve(!0):n.resolve(!1),n.promise()}});return i},webdav:e=>{let t,n;(t=Js.HTML5.LOCALSTORAGE)&&(n=parseInt(t.getItem("webdav_poll_interval")||""))||(n=18e5);const r=e.url;if(r){const t=r.toLowerCase();t.startsWith("webdav")?e.url=r.replace(/^webdav/i,"http"):t.startsWith("http")||(e.url="http://"+r)}const s=ro((e=>{const t=Object.assign({},e),n=t.type;if(void 0===n)throw new Error("Internal error");const r=Object.assign(e,{...t,config:{...t.config},
credentials:{},request:e=>r.credentials.basic_auth?(e.no_auth||(e.headers=e.headers||{},e.headers.Authorization="Basic "+r.credentials.basic_auth),t.request(e)):z.Breach("Authentication failed"),wait:e=>t.wait((...t)=>e(...t))});let s;return Object.defineProperty(r,"credentials",{get:()=>(void 0===s&&(Nr(n,"init"),s={basic_auth:r.config.basic_auth}),s),set:e=>{s=e},enumerable:!1}),r})(to("webdav")));return Object.assign(s,{...s,config:{...s.config,root:"Tampermonkey",watch_interval:n,...e}})}
},oo="PageFilter",ao=e=>{let t=!1,n=!1;const r=(il()||[]).map(e=>`*://${e}/*`),s=ar.values.forbiddenPages.concat(r),o=s.length>0,a=ar.values.page_whitelist.length>0;switch(ar.values.page_filter_mode){case"black":n=o;break;case"off":break;case"white":t=a;break;default:t=a,n=o}let i=Ys.get(oo);return i||(i=Xs({inc:t?ar.values.page_whitelist:void 0,exc:n?s:void 0}),Ys.set(oo,i)),!n&&!t||Hs(e,i)},io=q.FEATURES,lo=()=>{const e=le.getValue(io.CONSTANTS.STORAGE.UPDATE,{})||{};let{scripts:t,black:n}=e
;return null==n&&(n=Object.assign({},{version:0,last:0})),null==t&&(t=0),{black:n,scripts:t}},co=function(e){e&&le.setValue(io.CONSTANTS.STORAGE.UPDATE,e)},Ao=q.FEATURES,uo="https://blacklist.tampermonkey.net/get.php",po=(e,t)=>{let n=!1;if(t.length){if("/"==t.substr(0,1)){const r=qs(t);if(!r)return;n=Qs(e,r)}else n=-1!=e.indexOf(t);return n&&a.log('black: entry "'+t+'" matched'),n}},ho={SEVERITY_MAX:10,SEVERITY_MANUALLY_DEFINED:11,SEVERITY_FOISTED_SCRIPT:12,init:()=>{const e=z(),t=()=>{
"server"===ar.values.script_blacklist_type&&k(ho.checkUpdate,2e4)};return t(),ar.addChangeListener("script_blacklist_type",t),e.resolve(),e.promise()},getWarningsFor:e=>{const t=[];return e&&xe(ar.values.script_blacklist_server,n=>{if(!n)return;let r=!1;if(xe(n.rules,t=>(r=r||!!po(e,t),1!=r)),r)if(n.reasons){const e=en.getBestLocale(Object.keys(n.reasons));t.push(n.reasons[e||"en"])}else n.reason&&t.push(n.reason)}),t},getEvilnessOf:e=>{if("off"===ar.values.script_blacklist_type)return 0
;if(!e)return 0;let t=!1,n=0;return xe(ar.values.require_blacklist,n=>(t=t||!!po(e,n),1!=t)),t?n=ho.SEVERITY_MANUALLY_DEFINED:"server"===ar.values.script_blacklist_type&&xe(ar.values.script_blacklist_server,r=>{if(r)return xe(r.rules,n=>(t=t||!!po(e,n),1!=t)),t?(n=r.severity,!1):void 0}),Number(n)},checkUpdate:e=>{const t=z();let n,r=lo();if(e||Date.now()-r.black.last>6048e5){const s=(e,t)=>{const n=z(),r={method:"GET",url:e,nocache:t,retries:Ao.XMLHTTPREQUEST.RETRIES,
overrideMimeType:"text/plain; charset=x-user-defined"};return Fn(r,{ondone:e=>n.resolve(e)}),n.promise()};s(uo+"?version=get").then(t=>{if(4==t.readyState&&200==t.status){try{const e=JSON.parse(t.responseText);n=e.version}catch(e){a.warn("black: unable to parse version response! "+t.responseText)}if(a.info("black: local version: "+r.black.version+" remote: "+n),n>r.black.version||e)return s(uo,!0)}}).then(e=>{if(e&&4==e.readyState&&200==e.status)try{const t=JSON.parse(e.responseText)
;t&&t.blacklist&&1==t.version&&(ar.values.script_blacklist_server=t.blacklist),a.info("black: updated blacklist to ",t)}catch(t){a.warn("black: blacklist update failed! ",e.responseText)}}).always(()=>{r=lo(),r.black.last=Date.now(),r.black.version=n||r.black.version,co(r),t.resolve()})}else t.resolve();return t.promise()}},mo=ho,fo=["md5","sha256","sha1","sha384","sha512"],go=(()=>{const e=e=>{const t=[],n=new DataView(e);for(let e=0;e<n.byteLength;e+=4){
const r="00000000",s=(r+n.getUint32(e).toString(16)).slice(-r.length);t.push(s)}return t.join("")},t=t=>{try{return e(he(de(t)))}catch(e){return null}},n={md5:(e,t)=>z.Pledge(fe(e,t)),sha256:(e,t)=>z.Pledge(w(e,t))},r={};["SHA-1","SHA-384","SHA-512"].forEach(t=>{const n=t.toLowerCase().replace("-","");r[n]=()=>{const n=(n,r)=>{const s=z();return D.subtle.digest(t,he(n,{encoding:r})).then(t=>{s.resolve(e(t))},()=>{s.reject()}),s.promise()};try{
return n("").then(e=>e&&e.substr(0,4).toLowerCase().match(/[0-9a-f]{4,4}/)?n:z.Breach())}catch(e){return z.Breach()}}});const s=e=>Object.keys(n).includes(e),o=e=>(...t)=>{if(!1!==i){const n=z();return i.push(()=>n.consume(e(...t))),n.promise()}return e(...t)};let i=[];return{init:()=>(a.get()>=60&&Object.keys(n).forEach(e=>a.log("sri:",e,"is supported")),z.sidebyside(Object.keys(r).map(e=>r[e]().done(t=>{a.log("sri:",e,"is supported"),n[e]=t}).fail(()=>{a.log("sri:",e,"is unsupported")
}))).always(()=>{if(!1===i)return;const e=i;i=!1,e.forEach(e=>e())})),isSupported:o(e=>z.Pledge(s(e))),getHash:o((e,n)=>{const r=z(),o="string"==typeof e?xt(e):e;if(o&&o.hash){let e;const a=o.hash.replace(/^#/,"").split(/,|;/g);for(let n=0;n<a.length;n++){const r=a[n].match(/([^=|:|-]+)[=|:|-](.+)/);if(!r||3!=r.length||!s(r[1]))continue;let o=r[2];/^[0-9a-fA-F]+$/.exec(o)||(o=t(U(o))||o);const i=r[1];fo.includes(i)&&(e={type:i,value:o})}r.resolve(e||(n?e:{type:"unsupported",value:""}))
}else r.resolve();return r.promise()}),check:o((e,t,r)=>t&&e&&s(e.type)?n[e.type](t,r).then(t=>t===e.value?z.Pledge(!0):z.Breach({type:e.type,value:t})):z.Breach())}})(),vo=q.FEATURES,_o={content:"",error:void 0,forbidden:void 0,sri:void 0,determined:void 0,meta:void 0,name:void 0,blacklisted:void 0},bo=(e,t)=>vo.CONSTANTS.PREFIX.EXTERNAL+[e,t?fe(t):null].filter(e=>e).join(":"),wo={list:e=>{const t=new RegExp("^"+e);return le.listValues().filter(e=>-1!=e.search(t))},set:(e,t,n,r)=>{
const s=bo(e,t),{content:o,meta:a,name:i,forbidden:l,blacklisted:c,error:A,determined:u,sri:d}=n,p={base:be(o),meta:a,name:i,forbidden:l,blacklisted:c,error:A,determined:u,sri:d},h={ts:Date.now(),url:t,resource:p,modified:r};le.setValue(s,h)},get:(e,t)=>{const n=bo(e,t),r=le.getValue(n);let s;if(r&&r.resource){const{resource:e,ts:t,url:n,modified:o}=r,{base:a,meta:i,name:l,forbidden:c,blacklisted:A,error:u,determined:d,sri:p}=e;s={ts:t,url:n,data:{content:we(a),meta:i,name:l,forbidden:c,
blacklisted:A,error:u,determined:d,sri:p},modified:o}}return s},clean:(e,t)=>{const n=bo(e,t);le.deleteValue(n)},cleanAll:(e,t)=>{let n;const r=wo.list(bo(e));if(t){const s={};xe(t,t=>{const n=bo(e,t);s[n]=!0}),n=[],xe(r,e=>{s[e]||n.push(e)})}else n=r;n.forEach(e=>{le.deleteValue(e)})}},ko=Me(9e3),Ro=(e,t,n,r)=>{const s=z(),o=!1;let i;return((e,t)=>{const n=z(),r=r=>{let s,o="";if(4!=r.readyState||200!=r.status&&0!=r.status||r.error){const e={..._o,content:o,meta:s};n.reject(e)}else{let a,i
;const l=Ke(r.responseHeaders)["content-type"];l&&l.match(/^\s*(image\/|text\/)([-.a-zA-Z0-9]+)\s*$/)&&(a=l.trim()),a||((i=e.match(/.*\.(ico|jpg|jpeg)+($|\?|#).*/))?a="image/x-icon":(i=e.match(/.*\.(gif|png)+($|\?|#).*/))?a="image/"+i[1]:-1!=e.search(/.*\.(js)+($|\?|#).*/)?a="text/javascript":(i=e.match(/.*\.(css|html|xml)+($|\?|#).*/))?a="text/"+i[1]:(e=>{const t="background.js";let n=q.extension.getURL(t);return n=n.replace(t,"")+"images/",e.length>=n.length&&n==e.substr(0,n.length)
})(e)&&(a="image/x-icon")),s=a,o=pe(r.response,t.encoding)||"";const c={..._o,content:o,meta:s};n.resolve(c)}},s=({error:e})=>{n.reject({..._o,error:e})},o=xt(e);if(o)if(["file:"].concat(vo.REQUESTS.INTERNAL_PAGE_PROTOCOLS).includes(o.protocol))if("file:"!=o.protocol||vo.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS&&["externals","all"].includes(ar.values.script_file_access))q.file.get(e,e=>{r({readyState:4,status:0,response:e,statusText:"",responseHeaders:""})},e=>{s({error:e})});else{
const t="Access to this or all local files is forbidden!";a.warn("externals:",t,"Loading the following @resource failed:",e,"-> more info:","https://www.tampermonkey.net/faq.php#Q204"),s({error:t})}else{const t={method:"GET",url:e,retries:vo.XMLHTTPREQUEST.RETRIES,nocache:!1,responseType:"arraybuffer"};t.timeout=ar.values.require_timeout,Fn(t,{onload:r,onerror:e=>s({error:e.responseText||e.statusText||"unknown error"}),ontimeout:()=>s({error:"timed out"})})}else s({error:"unable to parse url"})
;return n.promise()})(t,{encoding:r.encoding}).done(a=>{n&&(a.sri=n);const l=n=>{const r=xt(t);r&&r.protocol&&!["file:"].concat(vo.REQUESTS.INTERNAL_PAGE_PROTOCOLS).includes(r.protocol)&&wo.set(e,t,n)};n&&["supported","given"].includes(ar.values.require_sri_mode)?go.check(n,a.content,r.encoding).done(()=>{i=a,l(i),s.resolve({sync:o,resource:i})}).fail(e=>{i={..._o,forbidden:!0,sri:{mode:ar.values.require_sri_mode,type:n.type,value:"invalid"},determined:e},l(i),s.reject({sync:o,resource:i})
}):(i=a,l(i),s.resolve({sync:o,resource:i}))}).fail(n=>{a.log("externals: get.failed",e,t,n),i={..._o,error:n.error||"internal error"},s.reject({sync:o,resource:i})}),s.promise()},yo=(e,t,n)=>{const r=z(),s=xt(t),o=n.sync;let i,l;return t&&s?mo.getEvilnessOf(t)>=ar.values.script_blacklist_severity?(i={..._o,blacklisted:!0},r.reject({sync:o,resource:i})):go.getHash(s,"supported"==ar.values.require_sri_mode).done(c=>{
if("enforce"!=ar.values.require_sri_mode||c)if("file:"!==s.protocol&&(l=wo.get(e,t))){const s=bo(e,t),A=Date.now();ar.values.external_update_interval>0&&A-l.ts>ar.values.external_update_interval&&(ko.is(s)||(ar.values.external_update_interval>1&&ko.add(s),l.modified?a.log("externals: resource is not updated due to user modifications",t,new Date(l.ts).toISOString(),new Date(A).toISOString()):(a.log("externals: resource needs update",t,new Date(l.ts).toISOString(),new Date(A).toISOString()),
k(()=>{Ro(e,t,c,n)},3e3)))),i=l.data,i.forbidden||i.blacklisted?r.reject({sync:o,resource:i}):r.resolve({sync:o,resource:i})}else r.consume(Ro(e,t,c,n));else i={..._o,forbidden:!0,sri:{mode:ar.values.require_sri_mode,type:"unsupported",value:""}},r.reject({sync:o,resource:i})}):(i={..._o,forbidden:!0},r.reject({sync:o,resource:i})),r.promise()},Eo={setElement:(e,t,n,r)=>wo.set(e,t,n,r),getElement:(e,t)=>wo.get(e,t),cleanElement:(e,t)=>wo.clean(e,t),dropAll:e=>(wo.cleanAll(e),z.Pledge()),
dropAllBut:(e,t)=>(wo.cleanAll(e,t),z.Pledge()),loadResources:(e,t)=>{const n=z();return Eo.getResources(e,t).always(()=>{n.resolve()}),n.promise()},loadRequires:(e,t)=>{const n=z();return Eo.getRequires(e,t).always(()=>{n.resolve()}),n.promise()},getResources:(e,t)=>{const n=z(),r=[],s=[],o={sync:!0};return t.forEach(t=>{const n=t.url||t.unsafe_url&&Et(t.unsafe_url,t.abs_url)||"",i=t.name;let l,c,A;const u=z();yo(e,n,o).done(e=>{const t=e.resource;l=t.content,c=t.meta||"application"}).fail(e=>{
if(e.resource){const{forbidden:n,sri:r,blacklisted:s,error:o}=e.resource;n?A=r?`can't load @resource '${t.name}' from URL '${t.unsafe_url}' due to a SRI error`:`can't load @resource '${t.name}' from forbidden URL '${t.unsafe_url}'`:s?A=`can't load @resource '${t.name}' from blacklisted URL '${t.unsafe_url}'`:o&&(A=`can't load @resource '${t.name}' from URL '${t.unsafe_url}': ${o}`)}A||(A=`can't load @resource '${t.name}' from URL '${t.unsafe_url}'`),a.warn("externals: "+A)}).always(e=>{
o.sync=o.sync&&(!e||e.sync),r.push({name:i,url:n,error:A,content:l,meta:c}),u.resolve()}),s.push(u.promise())}),z.when(s).always(()=>{n.resolve({elements:r,sync:o.sync})}),n.promise()},getRequires:(e,t)=>{const n=[],r=z(),s=[],o={encoding:"UTF-8",sync:!0};return t.forEach((t,r)=>{const i=t.url||t.unsafe_url&&Et(t.unsafe_url,t.abs_url)||"";let l="";const c=z();yo(e,i,o).done(e=>{l=e.resource.content||""}).fail(e=>{let n;if(e.resource){const{forbidden:r,sri:s,blacklisted:o,error:a}=e.resource
;r?n=s?`couldn't load @require from URL '${t.unsafe_url}' due to a SRI error`:`couldn't load @require from forbidden URL '${t.unsafe_url}'`:o?n=`couldn't load @require from blacklisted URL '${t.unsafe_url}'`:a&&(n=`couldn't load @require from URL '${t.unsafe_url}': ${a}`)}n||(n=`couldn't load @require from URL '${t.unsafe_url}'`),l=(e=>'console.warn("@require: " + decodeURIComponent("'+G(e)+'"));')(n)+"\n",a.warn("externals: "+n)}).always(e=>{o.sync=o.sync&&(!e||e.sync),n[r]={textContent:l},
c.resolve()}),s.push(c.promise())}),z.when(s).always(()=>{r.resolve({elements:n.filter(e=>e),sync:o.sync})}),r.promise()}},xo=Eo;let So,To;const Mo={},Uo=e=>e&&e.includes("*"),Go=()=>{const e=e=>{for(let t=0;t<Co.length;t++)if(Co[t].tabId===e)return Co.splice(t,1)[0];return Co.pop()};let t;zs().then(n=>{for(;!Io&&(t=e(n.id));)t.fn()})};let Io,Co=[];const Zo=(e,t,n,r)=>{const s=((e,t)=>{const n=e=>e?e.map(e=>{let n=e;if(n.match(/^'?self'?$/)){const e=xt(t.url);n=(null==e?void 0:e.hostname)||null
}else if("'none'"==n)n="none";else{if(["none","localhost","*"].includes(n))return n;if(Rt(n))return n;if(0===n.indexOf("."))return null;if(1===(n.match(/\./g)||[]).length&&yt(n))return null}return n}).filter(e=>e):[];return{connects:e.options.override.merge_connects&&"paranoid"!=ar.values.connect_mode?n(e.connects):[],userconnects:n(e.options.override.use_connects),blockers:n(e.options.override.use_blockers)}})(e,t);return(e=>{const t=z();return ao(e)?t.resolve({allowed:!0}):t.resolve({
allowed:!1}),t.promise()})(n).then(r=>{if(!0!==r.allowed)return z.Breach("URL is blacklisted");let o,a;return(o=xt(n))&&o.origin&&(a=xt(t.url))&&a.origin&&o.origin===a.origin?z.Pledge({permitted:!0}):((e,t,n)=>{const r=z(),s=()=>{r.resolve({permitted:!0})},o=e=>{r.resolve({permitted:!1,reason:e})},a=()=>{r.resolve({unknown:!0})};let i,l;const c=e=>Uo(e)?s:null,A=(e,t)=>{let n=null;const r=Rt(e);return t.every(({a:t,blocker:a})=>{if(!t)return!0
;for(const i of t)if(i&&(r||Rt(i)?i===e:-1!=e.search(new RegExp("(^|.+\\.)"+ye(i)+"$"))))return n=a?o:s,!1;return!0}),n};return"off"==ar.values.connect_mode||n.startsWith("data:")||n.startsWith("blob:")?s():(i=xt(n))&&i.hostname?(l=A(i.hostname,[{a:Mo[e.uuid]
}]))||(l=c(Mo[e.uuid]))?l():0===t.connects.length&&0===t.userconnects.length&&0===t.blockers.length?"casual"==ar.values.connect_mode?s():"strict"==ar.values.connect_mode?o("No @connects given, but strict mode enabled"):a():t.connects.includes("none")?o("None value found"):("casual"==ar.values.connect_mode&&!Uo(t.blockers)&&(l=c(t.connects))||(l=c(t.userconnects))||(l=A(i.hostname,[{a:t.blockers,blocker:!0},{a:t.connects},{a:t.userconnects}])||a),l()):o("URL can not be parsed"),r.promise()
})(e,s,n)}).then(o=>{var i;if(!1===o.permitted)return z.Breach("URL is not permitted"+(o.reason?": "+o.reason:""));if(!0===o.permitted)return z.Pledge();if(0===s.connects.length||Uo(s.connects)){if(["ask","paranoid"].includes(ar.values.connect_mode)){if(Uo(s.blockers))return z.Breach("URL was permanently blocked by the user");if(Io){a.log('cor: queuing access permission check from "'+e.name+'" to',n,t);const s=z();return Co.push({tabId:null===(i=null==t?void 0:t.tab)||void 0===i?void 0:i.id,
fn:()=>{s.consume(Zo.apply(void 0,[e,t,n,r]))}}),s.promise()}return((e,t,n,r,s)=>{const o=z(),i=()=>{o.resolve({approved:!0})},l=()=>{o.resolve({forbidden:!0})};a.log('cor: "'+e.name+'" is asking for permission to access',r,t);const c=xt(r);if(c&&c.hostname){const o=(e=>{if(Rt(e))return;const t=e.split(".");if(t.length<3)return e;const n=yt(t.slice(-2).join("."))?-3:-2;return t.slice(n).join(".")})(c.hostname),A=t.tab?t.tab.id:null;Io=!0,zs().then(a=>cn.askForConnect({src_url:t.url,
hostname:c.hostname,domain:o,all_domains:Uo(n.connects),tabid:A,active:A===a.id,timeout:s,url:r,settings_url:q.extension.getURL("options.html")+"#nav="+e.uuid+"+settings",connect_url:"https://www.tampermonkey.net/documentation.php#_connect",script:{name:en.getTranslation(e,"name"),uuid:e.uuid,icon:e.icon64||e.icon||gs("unknown")}})).done(({message:t})=>{let n;if(!t)return a.log("cor: unexpected response",t),void l();const r=t.whole_domain?o:c.hostname
;if(!r)return a.log("cor: internal error",t,o),void l();t.allow?t.once?(a.log('cor: allowing "'+e.name+'" to access',r,"once"),i()):t.temporary?(a.log('cor: allowing "'+e.name+'" to access',r,"temporarily"),void 0===Mo[e.uuid]&&(Mo[e.uuid]=[]),Mo[e.uuid].includes(r)||Mo[e.uuid].push(r),i()):(n=i,t.all_domains?(a.log('cor: allowing "'+e.name+'" to access all domains always'),e.options.override.use_connects.push("*")):(a.log('cor: allowing "'+e.name+'" to access',r,"always"),
e.options.override.use_connects.push(r),n=i)):t.once||t.aborted?(a.log('cor: denying "'+e.name+'" to access',r,"once"),l()):(e.options.override.use_blockers||(e.options.override.use_blockers=[]),n=l,t.all_domains?(a.log('cor: denying "'+e.name+'" to access any domains (additional) domain'),e.options.override.use_blockers.push("*")):(a.log('cor: denying "'+e.name+'" to access',r,"always"),e.options.override.use_blockers.push(r))),n&&So(e.uuid,e,!1).always(n)}).fail(l).always(()=>{Io=!1,
Co.length&&k(Go,1)})}else l();return o.promise()})(e,t,s,n,r).then(e=>!0===e.approved?z.Pledge():z.Breach("Request was blocked by the user"))}return z.Breach()}return z.Breach("URL is not a part of the @connect list")})},Oo=e=>{Co=Co.filter(t=>t.tabId!==e)},Fo=(e,t,n,r,s)=>{let o,i,l,c,A,u,d,p=e.url;const h=[],m=Math.max(Math.min(e.timeout||0,6e4),2e4),f=()=>{let e;for(;!d&&(e=h.shift());)e()},g=(t,n)=>{
const r='Refused to connect to "'+(n||e.url)+'": '+(t||"Blocked by @connect CORS check"),o=Ye(r);["onerror","ondone"].forEach(e=>{const t=s[e];t&&t({response:o,exception:r})})};if(n&&n.url&&n.tab&&e.url&&t&&(i=To(t))&&({script:l,cond:c}=i)&&l&&c&&!l.deleted)return Zo(l,n,e.url,m).done(()=>{if(u)return;const t={};for(const[e,r]of Object.entries(s)){if(!r)continue;const s=(e,...t)=>{if(A)return;if(d)return void h.push(()=>s(e,...t));const i=e;(i&&i.finalUrl&&p!==i.finalUrl?(d=!0,
Zo(l,n,i.finalUrl,m).fail(()=>{u||A||(o&&o.abort(),A=!0,g("Request was redirected to a not whitelisted URL",i.finalUrl),a.warn("cor: request to",p,"was redirect to a not whitelisted URL",i.finalUrl))}).always(()=>{p=i.finalUrl,d=!1,h.length&&k(f,1)})):z.Pledge()).always(()=>{A||r({response:i})})};t[e]=s}o=((e,t,n)=>On(e,t,n,!1))(e,t,r)}).fail(e=>{u||(g(e),a.warn("cor: access to",p,"was denied"))}).always(()=>{if(u){const e={response:Ye("aborted"),exception:"Aborted by user"}
;s.onabort&&s.onabort(e),s.ondone&&s.ondone(e)}}),{abort:()=>{o?o.abort():u=!0}};g()},Bo=q.FEATURES,jo={DEFAULT:"default",OFF:"off",NATIVE:"native",CHROME:"chrome",NOT_ENABLED:"not_enabled",NOT_WHITELISTED:"not_whitelisted",NOT_PERMITTED:"not_permitted",NOT_SUPPORTED:"not_supported",NOT_SUCCEEDED:"not_succeeded"};let No,Lo=jo.OFF,Po=[],Do=!1;const Vo={};let zo=!1;const qo=m({threads:3}),Qo=m({threads:6});let Xo=()=>{const e=z();return Ot(["vendor/saveas/filesaver"],()=>{Xo=z.Pledge,e.resolve()
}),e.promise()};const Ho=()=>void 0!==No?z.Pledge(No):!q.permissions.supported&&q.downloads.supported?(No=!0,z.Pledge(No)):gn.has(gn.permDownloads).then(e=>(No=e,a.log("downs: permission to use rea.downloads ->",e),Ho())),Wo=(e,t,n)=>{const r=e[t];r&&(r("function"==typeof n?n():n),delete e[t])};let Yo=0;const Jo=(e,t,n)=>{const r=z();let s;if($o(),Bo.RUNTIME.FIREFOX&&Bo.RUNTIME.BROWSER_VERSION<52){const{name:t,url:n}=e;s={filename:t,url:n}}else{
const{name:t,url:n,method:r,saveAs:o,data:i,headers:l}=e;s={filename:t,url:n,method:r,saveAs:o,body:i},l&&(Array.isArray(l)?a.warn("downs: invalid type of headers property",l):s.headers=Object.entries(l).map(([e,t])=>({name:e,value:t})))}const o=Vo[t.download_id]={download_id:t.download_id,callbacks:{onprogress:n.onprogress,onload:e=>{r.resolve(),i("onload",e)},onerror:e=>{r.reject(e),i("onerror",e)}},url:e.url,name:e.name},i=(e,t)=>Wo(n,e,t);if(q.downloads.download(s,(e,t)=>{
if(void 0===e)return r.reject(t),void i("onerror",{error:t});o.browser_download_id=e;const n=t=>{q.downloads.cancel(e,()=>{s(),t&&t()})},s=()=>{q.downloads.search({id:e},t=>{const n=t[0];n?Ko(n):a.warn("downs: unable to query download ID",e)})};!0===o.cancel?n():(o.cancel=n,o.interval=R(s,1e3))}),q.runtime.lastError){const e=q.runtime.lastError.message;r.reject(e),i("onerror",{error:e})}return r.promise()},Ko=e=>{var t;const{item:n,key:r}=(e=>{let t,n;return Object.keys(Vo).every(r=>{
const s=Vo[r];return!s||s.browser_download_id!=e||(n=r,t=s,!1)}),{item:t,key:n}})(e.id);if(n&&r){const s=n.callbacks,o=(e,t)=>Wo(s,e,t),i=()=>{n.interval&&(E(n.interval),delete n.interval),delete Vo[r]},l=(null===(t=e.state)||void 0===t?void 0:t.current)||e.state,{totalBytes:c,bytesReceived:A}=e;e.error||"interrupted"==l?(a.warn(`downs: download of ${n.name} (${n.url}) failed`,e.error),o("onerror",{error:jo.NOT_SUCCEEDED,details:e.error}),
i()):e.endTime||"complete"==l?(a.log(`downs: download of ${n.name} (${n.url}) finished`),o("onload",{}),i()):void 0===c&&void 0===A||o("onprogress",{loaded:A,total:c,estimatedEndTime:e.estimatedEndTime})}},$o=()=>{No&&!zo&&q.downloads.supported&&(q.downloads.onChanged.addListener(Ko),zo=!0)},ea=e=>{Lo=e,Lo==jo.CHROME&&Ho().done(e=>{e||gn.has(gn.permDownloads).then(e=>{const t=z();return Do||e?t.resolve({permission:e,asked:!1
}):gn.ask(gn.permDownloads,en.getMessage("Browser_API_Downloads"),en.getMessage("Click_here_to_allow_TM_to_start_downloads")).done(e=>{t.resolve({permission:e,asked:!0})}),Do=!0,t.promise()}).done(e=>{e.permission&&e.asked&&q.page.reload()})})},ta=e=>{Po=Ue(e)},na=e=>{for(const t of Po)if(t&&t.length)try{let n;if("/"===t[0]){let e=t.replace(/^\//g,"").replace(/\/$/g,"");"$"!==e[e.length-1]&&(a.log("downs: patching $ into "+e),e+="$"),n=new RegExp(e,"i")}else if("."===t[0]){
const e=[ye(t),"$"].join("");n=new RegExp(e,"i")}else a.warn(`downs: invalid file extension: "${t}" starts neither with "." nor with "/"`);if(n&&-1!==e.search(n))return a.log(`downs: ${t} matched @${e}`),!0}catch(e){a.warn("downs: can't process "+t,e)}return!1},ra={init:()=>{const e=()=>{ea(ar.values.downloads_mode),ta(ar.values.downloads_extension_whitelist)};e(),ar.addChangeListener(["downloads_extension_whitelist","downloads_mode"],e)},start:(e,t,n)=>{
const r=n||{},s=(++Yo).toString(),o=(e,n)=>Wo(t,e,n);let i,{name:l,from:{tfd:c,url:u}}=e;if(a.log("downs: start",e),!r.internal){if(Lo==jo.OFF)return a.warn("downs: feature is not enabled"),void o("onerror",{error:jo.NOT_ENABLED});if(!l||!na(l))return a.warn("downs:",l,"is not whitelisted"),void o("onerror",{error:jo.NOT_WHITELISTED});if(!q.downloads.supported&&Lo==jo.CHROME)return a.warn("downs: this download mode is not supported"),void o("onerror",{error:jo.NOT_SUPPORTED})}if(c){
if(i=Pe.fromTransferableData(c),!i)return a.warn("downs: invalid transferable"),void o("onerror",{error:jo.NOT_SUPPORTED});u=i.tryObjectUrl||i.tryDataUri||u}Vo[s]={download_id:s,url:u,name:l};const d=()=>{const e=Vo[s];if(e&&e.cancel)return o("onerror",{error:"aborted"}),z.Breach("aborted")},p=l;let h;return p&&(l=((e,t,n)=>{void 0===n&&(n="-");return e.replace(/[:<>|~?*\x00-\x1F\uFDD0-\uFDEF"]/g,n)})(p),p!=l&&a.warn(`downs: changed file name from ${p} to ${l} for safety`)),z.Pledge().then(()=>{
if(q.downloads.supported&&(r.internal||Lo==jo.CHROME||Lo==jo.DEFAULT))return Ho().then(e=>h=e).then(d);h=!1}).then(()=>{if(i&&i.tryBlob)return i.tryBlob;if(u){const n=xt(u);if(n&&"data:"==n.protocol)return ge(u);if(!h||!r.internal&&Lo==jo.DEFAULT)return((e,t,n)=>Qo.add(()=>{const r=z(),s=n||{},o=(e,t)=>Wo(s,e,t);e.responseType="blob",e.method=e.method||"GET";const a=$e(e,{onload:t=>{if(4!=t.readyState||200!=t.status&&0!=t.status||t.error){const e=t.error||t.statusText||"xhr_failed";r.reject(e),
o("onerror",{error:e})}else{const n=Ke(t.responseHeaders)["content-type"],s=new Blob([t.response],{type:e.overrideMimeType||n||"binary/octet-stream"});r.resolve(s),o("onload",{})}},onerror:e=>{r.reject(),o("onerror",e)},onabort:()=>{r.reject(),o("onerror",{error:"aborted"})},ontimeout:()=>{r.reject(),o("ontimeout",{error:"timeout"})},onprogress:s.onprogress},{internal:t.internal}),i={name:e.name,url:e.url,download_id:t.download_id,cancel:a?a.abort:()=>{}};return Vo[t.download_id]=i,r.promise()
}))({url:u,...e,name:l},{internal:r.internal,download_id:s},{onerror:t.onerror,ontimeout:t.ontimeout,onprogress:t.onprogress})}}).then(n=>{if(n&&h){let r;return z.Pledge().then(()=>{if(Bo.RUNTIME.SHARED_OBJECT_URLS||Bo.RUNTIME.FIREFOX)return r=URL.createObjectURL(n);{const e=z();return ve(n).then(t=>{void 0===t?(o("onerror",{error:"failed"}),e.reject()):e.resolve(t)}),e.promise()}}).then(n=>Jo({url:n,name:l,saveAs:e.saveAs},{download_id:s},{onerror:t.onerror,onload:t.onload}).always(()=>{
r&&URL.revokeObjectURL(r)}))}return n?(l=l||"File.download",Xo().then(async()=>{const e=_.saveAs;if(e)return qo.add(async()=>{e(n,l),await A(500),o("onload",{})});a.warn("Unable to load saveAs!")})):u&&h?Jo({url:u,...e,name:l},{download_id:s},t):void(u&&!r.internal&&Lo==jo.CHROME?(a.warn("downs: download permission is missing"),o("onerror",{error:jo.NOT_PERMITTED})):(a.warn("downs: download failed"),o("onerror",{error:"failed"})))}).always(()=>{delete Vo[s],k(()=>o("ondone",{}),1)}),s},
cancel:e=>{const t=Vo[e];return!!t&&(t.cancel?"function"==typeof t.cancel&&t.cancel():t.cancel=!0,!0)},set_mode:ea,set_whitelist:ta,is_whitelisted:na,remove_permission:()=>gn.remove(gn.permDownloads),staticVars:jo},sa=q.FEATURES,oa={run:(e,t)=>{let n=1;const r=()=>{0==--n&&(t&&t(),q.page.reload())};if("config"==e){const e=le.listValues();for(const t of e){
if(-1!=t.indexOf(sa.CONSTANTS.PREFIX.SCRIPT)||-1!=t.indexOf(sa.CONSTANTS.PREFIX.COND)||-1!=t.indexOf(sa.CONSTANTS.PREFIX.STORE)||-1!=t.indexOf(sa.CONSTANTS.PREFIX.META))return;n++,le.deleteValue(t).always(r)}}else"factory"==e&&(n++,ra.remove_permission().done(r),n++,le.factoryReset().always(r));r()},reset:e=>{oa.run(void 0,e)},factoryReset:e=>{oa.run("factory",e)},configReset:e=>{oa.run("config",e)}},aa=oa,ia=q.FEATURES,la=e=>(e.sort((e,t)=>e.position-t.position),e),ca=e=>{let t
;void 0===e.ask&&(e.ask=!0),e.url||(e.url=""),""===e.force_url&&delete e.force_url;const n={errors:[],info:[],warnings:[],flags:{}},r=z(),s=Date.now(),o=e.save&&!e.ask&&ar.values.editor_easySave;let i;const l=rs(e.src)||void 0;if(!l||!l.name||null==l.version)return n.errors.push(en.getMessage("Invalid_UserScript__Sry_")+"\n\n"),e.name&&n.errors.push(en.getMessage("Script_name_0name0",e.name)+"\n\n"),e.url&&n.errors.push(en.getMessage("Downloaded_from_0url0",e.url)),
a.warn("scriptman: invalid userscript",n,l),z.Breach({messages:n});const{antifeatures:c,connects:A,name:u,namespace:d,textContent:p,version:h}=l;let m,f,g,{downloadURL:v,enabled:_,excludes:b,fileURL:w,includes:k,lastModified:R,matches:y,options:E,sync:x,position:S,uuid:T,updateURL:M,system:U}=l;return z.Pledge().then(()=>{let n=e.uuid;if(e.replace&&!n&&(n=pl.getUidsByName(u,d)[0]),n){const e=pl.getByUid(n);e.cond&&e.script&&(t=e.script)}else if(T)n=T;else{
if(!e.replace)return a.warn("scriptman: neither UUID, @uuid nor replace option set"),z.Breach();n=Ie()}return n&&""===n.replace(/[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}/,"")?(T=n,z.Pledge(T)):(a.warn("scriptman: invalid UUID",n),z.Breach())}).then(()=>{if(!e.clean&&!e.defaultscript&&t&&t.system)return z.Breach()}).then(()=>{if(e.clean&&e.name&&e.name!=u||-1!=u.indexOf("\n"))return n.errors.push(en.getMessage("Invalid_UserScript_name__Sry_")),z.Breach()}).then(()=>{
if(t){if(t.name!=u&&(n.flags.renamed=!0),e.internal||t.evilness!=mo.SEVERITY_FOISTED_SCRIPT||(n.warnings.push(en.getMessage("This_is_a_possibly_foisted_script_and_a_modification_will_enable_it_")),n.flags.forceAsk=!0),t.lastModified&&void 0!==e.lastModTime&&t.lastModified!==e.lastModTime){let e=en.getMessage("some_secs");try{const n=Math.max(1,Math.floor((s-t.lastModified)/1e3));isNaN(n)||(e=n)}catch(e){}n.warnings.push(en.getMessage("CONFLICT__This_script_was_modified_0t0_seconds_ago_",e)),
n.flags.forceAsk=!0}h==t.version&&(e.save?n.flags.modification=!0:n.flags.reset=!0),e.clean&&(n.flags.factory=!0),i=!e.internal}else n.flags.first_install=!0,i=!e.internal||e.save;k.length||y.length||o||e.internal||n.warnings.push(en.getMessage("This_script_does_not_provide_any__include_information_")),c&&!e.internal&&Object.keys(c).forEach(e=>{const r=c[e];let s;s=en.getMessage("ads"==e?"Antifeature_ads":"miner"==e?"Antifeature_miner":"tracking"==e?"Antifeature_tracking":"Antifeature_other")
;const a=r[en.getBestLocale(Object.keys(r))||"default"]||r.en||en.getMessage("Antifeature_no_details");let i,l;t&&t.antifeatures&&(l=t.antifeatures[e])&&(i=l[en.getBestLocale(Object.keys(l))||"default"]||l.en||en.getMessage("Antifeature_no_details")),o&&i&&a===i||n.warnings.push(en.getMessage("Antifeature__0name0__0description0",s,a))}),n.flags.sync=!!e.sync,n.flags.internal=e.internal,n.flags.ask=e.ask,n.flags.save=e.save,n.flags.whitewash=e.whitewash}).then(()=>{if(U=e.defaultscript,
m=pa.getEvilness(l),S=pa.determineLastPosition()+1,R=s,e.force_meta){let t;(t=e.force_meta.fileURL)&&(w=t),(t=e.force_meta.lastModified)&&(R=t)}n.flags.factory||n.flags.reset?t&&(R=t.lastModified):(e.force_url&&(M=null,v=e.force_url),t&&(E.override=Te(t.options.override,{}),E.comment=t.options.comment,e.save&&p!=t.textContent?E.check_for_updates=!1:E.check_for_updates=t.options.check_for_updates)),E.override.orig_includes=k,E.override.orig_excludes=b,E.override.orig_matches=y,
E.override.orig_connects=A,E.override.orig_noframes=E.noframes,E.override.orig_run_at=E.run_at||"document-idle",E.noframes=null,E.run_at=null}).then(()=>{if(t&&(w=t.fileURL,t.deleted||(S=t.position),t.sync&&(x=t.sync),!n.flags.factory&&!n.flags.reset)){_=t.enabled,E.noframes=t.options.noframes,E.run_at=t.options.run_at;const{compatopts_for_requires:r,compat_wrappedjsobject:s,compat_metadata:a,compat_foreach:i,compat_prototypes:l,compat_powerful_this:c}=t.options;E={...E,
compatopts_for_requires:r,compat_wrappedjsobject:s,compat_metadata:a,compat_foreach:i,compat_prototypes:l,compat_powerful_this:c},e.save&&!e.force_url&&(v=t.downloadURL||v);const u=pa.determineSourceURL(t),d=pa.determineSourceURL({fileURL:w,downloadURL:v,updateURL:M}),p=u?Ut(u):u||en.getMessage("_not_set_"),h=d?Ut(d):d||en.getMessage("_not_set_");if(p==h||o||e.internal||n.warnings.push(en.getMessage("The_update_url_has_changed_from_0oldurl0_to__0newurl0",[p,h])),!e.save){
const e=t.options.override.orig_includes||t.includes,r=t.options.override.orig_matches||t.matches,s=t.options.override.orig_excludes||t.excludes;Ge(e,k,"notinfirst").length+Ge(r,y,"notinfirst").length+Ge(b,s,"notinfirst").length&&n.warnings.push(en.getMessage("At_least_one_of_the_include_match_or_exclude_statements_was_changed_")),Ge(t.connects||[],A||[],"notinfirst").length&&n.warnings.push(en.getMessage("At_least_one_new_connect_statement_was_added_"))}}}).then(()=>{
if(t&&!n.flags.factory&&h==t.version){if(e.defaultscript)return z.Breach();if(e.noreinstall)return z.Breach()}}).then(()=>{t?(n.flags.factory||n.flags.reset?(n.flags.reset?(n.heading=en.getMessage("You_are_about_to_reinstall_a_UserScript_"),n.flags.reinstall=!0):(n.heading=en.getMessage("You_are_about_to_install_a_UserScript_"),n.flags.install=!0),
e.internal||n.warnings.splice(0,0,en.getMessage("All_script_settings_will_be_reset_"))):n.flags.modification?n.heading=en.getMessage("You_are_about_to_modify_a_UserScript_"):ns(h,t.version)==ns.eOLDER?(n.heading=en.getMessage("You_are_about_to_downgrade_a_UserScript"),n.flags.downgrade=!0,o||e.internal||n.warnings.splice(0,0,en.getMessage("The_downgraded_script_might_have_problems_to_read_its_stored_data_"))):(n.heading=en.getMessage("You_are_about_to_update_a_UserScript_"),n.flags.update=!0),
n.info.push({label:en.getMessage("Installed_Version_"),value:"v"+t.version})):(n.heading=en.getMessage("You_are_about_to_install_a_UserScript_"),o||e.internal||(n.info.splice(0,0,en.getMessage("Malicious_scripts_can_violate_your_privacy_")),mo.getWarningsFor(pa.determineSourceURL({fileURL:w,downloadURL:v,updateURL:M})).forEach(e=>{n.warnings.splice(0,0,e)})),n.flags.install=!0),
n.flags.whitewash?n.action=en.getMessage("Enable"):n.flags.install?n.action=en.getMessage("Install"):n.flags.reinstall?n.action=en.getMessage("Reinstall"):n.flags.modification?n.action=en.getMessage("Modify"):n.flags.downgrade?n.action=en.getMessage("Downgrade"):n.flags.update&&(n.action=en.getMessage("Update"))}).then(()=>{if(e.url&&(w=e.url),e.sync&&(x=e.sync),e.force_options&&Te(e.force_options,E,os().options,!0),e.force_settings){const{enabled:t,position:n}=e.force_settings
;void 0!==t&&(_=t),void 0!==n&&(S=n)}({options:E,includes:k,excludes:b,matches:y}=pa.mergeCludes({options:E,includes:k,excludes:b,matches:y}))}).then(()=>{const e=w?w.split("/").slice(0,-1).join("/"):void 0;f=l.requires.map(({url:t})=>({unsafe_url:t,abs_url:e})),g=l.resources.map(({name:t,url:n})=>({unsafe_url:n,abs_url:e,name:t}))}).then(async()=>{var t;const{compatopts_for_requires:r,compat_wrappedjsobject:s,compat_metadata:o,compat_foreach:i,compat_prototypes:c}=E
;(r||s||o||i||c)&&n.info.push({label:en.getMessage("Note"),value:en.getMessage("A_recheck_of_the_GreaseMonkey_FF_compatibility_options_may_be_required_in_order_to_run_this_script_")});let A,u,d={...l,downloadURL:v,enabled:_,excludes:b,fileURL:w,includes:k,lastModified:R,matches:y,options:E,sync:x,position:S,uuid:T,updateURL:M,system:U};if((A=pa.determineOrigin(d))&&(u=null===(t=cs[A.token])||void 0===t?void 0:t.convert)){const t=await u(d)
;if(t.info&&("includes added"===t.info?n.info.push(en.getMessage("Automatically_added_user_includes_for_compatibility_reasons_")):a.warn("scriptman: unknown script convert info",t.info)),t.warning){let r;"deleted by hoster"===t.warning&&(r=en.getMessage("This_script_was_deleted_by_the_hoster_")),r?e.internal?n.info.push(r):n.warnings.push(r):a.warn("scriptman: unknown script convert warning",t.warning)}d=t.script||d}return{...d,uuid:T,textContent:p,evilness:m,requires:f,resources:g}}).done(e=>{
const s={script:e,oldscript:t,messages:n,trigger_sync:!!i,short_info:[{label:en.getMessage("Author"),prop:"author"},{label:en.getMessage("Description"),prop:"description",i18n:!0},{label:en.getMessage("Source"),prop:"fileURL"}],hints:[]};r.resolve(s)}).fail(()=>{r.reject({messages:n})}),r.promise()},Aa=e=>{const t=z(),n=e.messages,r=e.script,s=n.warnings.length||n.flags.ask,o=e.trigger_sync,a=()=>{n.flags.modification||xo.dropAll(r.uuid),t.notify();const e=pa.doModify(r.uuid,r,o)||{}
;return n.flags.save||!n.flags.install&&!n.flags.update||n.flags.factory||n.flags.reset||Lr(r.name,n.flags.install?"i":"u",r.fileURL||""),(n.flags.first_install||n.flags.factory)&&pl.setStorageByUid(r.uuid,{ts:Date.now(),data:{}}),e},i={uuid:r.uuid,lastModified:void 0,installed:!0,renamed:n.flags.renamed};if(s){if(q.extension.inIncognitoContext&&"temporary"==ar.values.incognito_mode){const t={globalhint:!0,options:{id:"incognito",image:"critical",
text:en.getMessage("All_modifications_are_only_kept_until_this_incognito_session_is_closed_")}};e.hints.push(t)}cn.install(e).done(({ok:e,aborted:n})=>{e&&a(),t.resolve({installed:e,aborted:n})}).fail(()=>{t.reject()})}else k(()=>{a(),t.resolve(i)},1);return t.promise()},ua=(e,t)=>{const n=t||{};return Object.values(e).map(t=>{let r,s,o
;t.evilness&&(t.evilness==mo.SEVERITY_FOISTED_SCRIPT?r=en.getMessage("The_origin_of_this_script_cant_be_determined_"):t.evilness>=Math.min(mo.SEVERITY_MAX,ar.values.script_blacklist_severity)&&(s=en.getMessage("This_script_is_blacklisted_"))),t.evilness&&(o=mo.getWarningsFor(ha.determineSourceURL(t)));const a=n.options_page,i={userscript:!0,foisted:r,blacklisted:s,warnings:o,icon:t.icon64||t.icon||void 0};if(a){const{textContent:r,requires:s,resources:o,...a}=t,c=(e,r)=>{
const s=e.url||Et(e.unsafe_url,e.abs_url),o=xo.getElement(t.uuid,s);let a,i,l,c,A,u=0,d=null,p=null;return o&&o.data&&(o.data.content&&(A=o.data.content,u=A.length),p=o.data.sri,d=o.ts,a=o.modified,c=o.data.meta||"text/plain",l=r||/text\/.*|application\/(?:x-)?(?:java|ecma)script/.test(c),i=!0),{display_url:e.url||e.unsafe_url,abs_url:e.abs_url,unsafe_url:e.unsafe_url,url:s,data:{length:u,content:n.externals?A:void 0},sri:p||void 0,ts:d,mimetype:c,editable:i,viewable:l,modified:a}
},A=s.map(e=>c(e,!0)),u=o.map(e=>c(e)),d=ha.determineOrigin(t),p=ha.isContexter(t),h=(l=t.uuid,Mo[l]||[]),m=pl.getStorageByUid(t.uuid),f=Object.keys(m.data).length,g=ll(t),v=t.deleted,_=t.lastUpdated,b=t.downloadURL||t.fileURL||void 0,w=e.length;return{...a,...i,requires:A,resources:u,...n.referrer?{referrer:n.referrer,length:r.length}:{code:r},origin:d,contexter:p,temp_connects:h,...n.storage?{storage:m}:{},storage_key_count:f,remote_url:g,deleted:v,lastUpdated:_,file_url:b,positionof:w}}var l
;{const e=ha.determineOrigin(t),r=n.active_urls||{},s=n.active_counts||{},o=n.all_time_active_counts||{};return{...i,name:t.name,name_i18n:t.name_i18n,uuid:t.uuid,nnew:!1,system:t.system,support:!!t.supportURL||e&&!!e.issue_url,abuse:void 0,active_urls:r[t.uuid],active_count:s[t.uuid],all_time_active_count:o[t.uuid],referrer:n.referrer,contexter:ha.isContexter(t),enabled:t.enabled,position:t.position,deleted:t.deleted,options:t.options}}})},da=Me(1e3),pa={determineSourceURL:e=>{
if(e)return[e.downloadURL,e.fileURL].filter(e=>{var t;if(!e||"file:"!==(null===(t=xt(e))||void 0===t?void 0:t.protocol))return e})[0]||void 0},determineMetaURL:e=>{if(!e)return;let t;const n=pa.determineOrigin(e);return n&&n.meta_header?t=e.fileURL:!e.fileURL||n&&!n.meta_url||(t=e.fileURL.replace(".user.js",".meta.js"),e.fileURL==t&&(t=e.fileURL.replace(".tamper.js",".meta.js")),e.fileURL==t&&(t=null)),[e.updateURL,e.downloadURL,t].filter(e=>{var t
;if(!e||"file:"!==(null===(t=xt(e))||void 0===t?void 0:t.protocol))return e})[0]||void 0},mergeCludes:e=>{let t,n;const r=e.options.override;if(["includes","excludes","matches"].forEach(t=>{const n="merge_"+t,s="orig_"+t;e[t]=r[n]&&r[s]?r[s].slice():[]}),r.use_includes)for(t=0;t<r.use_includes.length;t++)n=e.excludes.indexOf(r.use_includes[t]),n>=0&&e.excludes.splice(n,1),e.includes.push(r.use_includes[t])
;if(r.use_matches)for(t=0;t<r.use_matches.length;t++)n=e.excludes.indexOf(r.use_matches[t]),n>=0&&e.excludes.splice(n,1),e.matches.push(r.use_matches[t]);if(r.use_excludes)for(t=0;t<r.use_excludes.length;t++)e.excludes.push(r.use_excludes[t]);return e},doSave:e=>ca(e).then(Aa),doRemove:(e,t)=>{if(t)pl.removeByUid(e),pl.setStorageByUid(e,void 0),xo.dropAll(e);else if(pl.softRemoveByUid(e,!0),"off"==ar.values.trash_mode)return pa.doRemove(e,!0);return z.Pledge()},
doModify:(e,t,n)=>(void 0===n&&(n=!0),pl.setByUid(e,t,n),n?xo.loadResources(e,t.resources).then(()=>xo.loadRequires(e,t.requires)).then(()=>{const n=[].concat(t.resources).concat(t.requires).map(e=>Et(e.unsafe_url,e.abs_url)).filter(e=>e);return xo.dropAllBut(e,n)}):z.Pledge()),exportToJson:(e,t)=>{const n=z();let r=pa.determineScriptsToRun();r=r.filter(e=>!e.deleted),e&&(r=r.filter(t=>e[t.uuid]));const{storage:s,externals:o,global_settings:a}=t||{},i={scripts:ua(r,{options_page:!0,storage:s,
externals:o})};return a&&(i.global_settings=le.getValue(ia.CONSTANTS.STORAGE.CONFIG,{})),n.resolve(i),n.promise()},importFromJson:e=>{if(!e||!e.scripts||!e.scripts.length)return z.Breach("invalid json");const t={},n=[],r=[],s=[],o={},i={};for(const l of e.scripts)try{const e=z(),c=l.uuid||Ie();if("new-user-script"==c)continue;l.storage&&(o[c]=l.storage);for(const e of["resources","requires"]){const t=l[e];t&&t.length&&(i[c]=i[c]||{},i[c][e]=t)}const A=l.file_url||l.update_url;ca({uuid:l.uuid,
name:l.name,src:l.source,force_settings:{enabled:l.enabled,position:l.position},force_options:l.options,force_meta:{lastModified:l.lastModified},replace:!0,url:A,ask:!1}).done(n=>{const o=Ie();t[o]=n,l.storage&&l.storage.data&&Object.keys(l.storage.data).length&&r.push(o),i[c]&&s.push(o),e.resolve()}).fail(t=>{a.warn("import: Error @ script",l.name,t),e.resolve()}),n.push(e.promise())}catch(e){a.warn("import: Error while importing script",l.name,e)}const l=(()=>{const e=z()
;return z.when(n).always(()=>{e.resolve()}),e.promise()})().then(()=>cn.import({scripts:t,storage_ids:r,externals_ids:s,global_settings:!!e.global_settings,hints:q.extension.inIncognitoContext&&"temporary"==ar.values.incognito_mode?[{globalhint:!0,options:{id:"incognito",image:"critical",text:en.getMessage("All_modifications_are_only_kept_until_this_incognito_session_is_closed_")}}]:[]})).then(({message:e,ok:n,aborted:r})=>{const s=z(),a=[],l=[]
;if(r)return z.Breach(en.getMessage("Aborted_by_user"));if(!e)return z.Breach("invalid response");if(n)for(let n,r=0;n=e.import_ids[r];r++)(()=>{const r=n;if(t[r]){t[r].messages.warnings=[];const n=t[r].script.uuid,s=Aa(t[r]).progress(()=>{if(!e.externals_ids.includes(r))return;const t=i[n];["resources","requires"].forEach(e=>{let r;t&&(r=t[e])&&r.length&&r.forEach(e=>{xo.setElement(n,e.url,{content:e.content||"",meta:e.mimetype||"text/javascript"},e.modified)})})}).done(()=>{let t
;e.storage_ids.includes(r)&&o[n]&&(t=pl.setStorageByUid(n,{data:o[n].data||{},ts:Date.now()}),l.push(t))});a.push(s)}})();return z.when(a).always(()=>{pa.reorderScripts(),z.when(l).always(()=>{s.resolve(e)})}),s.promise()},e=>e.error).then(t=>{if(e.global_settings&&t.global_settings){const t=le.setValue(ia.CONSTANTS.STORAGE.CONFIG,e.global_settings).then(()=>(l.done(()=>{k(aa.reset,1)}),z.Pledge({global_settings:!0})));return le.setTemporary(!0),t}return z.Pledge({})});return l},
installFromUrl:(e,t,n)=>{const r=z(),s={messages:{info:[],errors:[en.getMessage("Unable_to_load_script_from_url_0url0",e)],warnings:[],flags:{}}};t=t||{};const o=n||{},i=["url",e,JSON.stringify(t)].join("_");if(da.is(i))return a.debug("scriptman: de-bounced installFromUrl",e),z.Breach(s);da.add(i);const l=xt(e)
;return l&&l.protocol.match(/(https?|file):/)?("file:"!=l.protocol||ia.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS||a.warn("scriptman: Access to local files is forbidden! Loading the following script for installation may fail:",e,"-> more info:","https://www.tampermonkey.net/faq.php#Q204"),Vs(e).then(n=>{const s={url:e,ask:!0,replace:!0,...t};r.consume(pa.installFromSource(n,s,o))}).fail(e=>{let t;e?(t=s,
"file:"!=l.protocol||ia.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS||t.messages.warnings.unshift(en.getMessage("Tampermonkey_has_no_file_access_permission_")),t.heading=en.getMessage("You_are_about_to_install_a_UserScript_"),o.silent_fail?r.reject(t):cn.installError(t).always(e=>{r.reject(e)})):r.reject()}),r.promise()):(a.warn("scriptman: can't install from ",e),z.Breach(s))},installFromSource:(e,t,n)=>{const r=z();t=t||{};const s=n||{},o={src:e,ask:!0,replace:!0,...t};return pa.doSave(o).done(e=>{
r.resolve(!!e.installed)}).fail(e=>{e?(e.heading=en.getMessage("You_are_about_to_install_a_UserScript_"),s.silent_fail?r.reject(e):cn.installError(e).always(()=>r.reject())):r.reject()}),r.promise()},determineLastPosition:()=>{let e=0;return pl.getUidList().forEach(t=>{const n=pl.getByUid(t);n.script&&n.cond?n.script.position&&n.script.position!=Number.MAX_SAFE_INTEGER&&n.script.position>e&&(e=n.script.position):a.warn("scriptman: inconsistent script entry",t)}),e},getEvilness:e=>{let t=0
;return e.fileURL&&(t=mo.getEvilnessOf(e.fileURL))||e.downloadURL&&(t=mo.getEvilnessOf(e.downloadURL))||e.updateURL&&(t=mo.getEvilnessOf(e.updateURL))?(a.debug("scriptman: found blacklisted script",e),t):0},blackCheckAll:()=>{const e=pl.getUidList().map(e=>{const t=pl.getByUid(e),{script:n,cond:r}=t;if(!n||!r)return;const s=pa.getEvilness(n);return s!==n.evilness?(n.evilness=s,pa.doModify(e,n,!1)):void 0}).filter(e=>e);return z.when(e).then(()=>{})},reorderScripts:(e,t)=>{const n=t||0
;let r=pa.determineScriptsToRun();if(e)for(let t=0;t<r.length;t++){const s=r[t];if(s.uuid==e){const e=s.position<n?.5:-.5;s.position=n+e}}r=la(r);let s=1;const o=r.map(e=>(e.deleted?e.position=Number.MAX_SAFE_INTEGER:e.position=s++,pa.doModify(e.uuid,e,!1)));return z.when(o).then(()=>{})},scriptWillRun:(e,t)=>{if(!t||!e)return;let n=Ys.get(e);if(!n){const t=le.getValue(ia.CONSTANTS.PREFIX.COND+e,null);if(!t)return;const{match:r,inc:s,exc:o}=t;let a;switch(ar.values.script_include_mode){
case"off":a={match:r,exc:o};break;case"match":a={match:(r||[]).concat((s||[]).filter(e=>"/"!==e[0])),exc:o};break;case"unsafe":case"default":a={match:r,inc:s,exc:o}}n=Xs(a,!0),Ys.set(e,n)}return!!Hs(t,n,e)},determineScriptsToRun:(e,t,n)=>{const r=[];return a.log("scriptman: determineScriptsToRun @"+e),pl.getUidList().forEach(s=>{let o=!0,i=0;const l=pl.getByUid(s);if(void 0===n||!l.script||l.script.enabled===n){if(e){const t=Date.now();o=!!pa.scriptWillRun(s,e),i=Date.now()-t}
if(l.script&&l.cond){if(t&&i>1e3&&(a.warn("scriptman: checking "+l.script.name+"'s ("+s+") includes and excludes took "+i+"ms!"),Rn.all("status",{key:"slowdown",class:"warning",text:en.getMessage("Script_0name0_is_slowing_down_some_page_loads_",en.getTranslation(l.script,"name")),timeout:3e5})),!o)return;a.verbose("scriptman: determineScriptsToRun: found script ",l),r.push(l.script)}else a.warn("scriptman: inconsistent script entry",s,l)}}),la(r)},
isContexter:e=>e.options&&("context-menu"===e.options.run_at||null===e.options.run_at&&"context-menu"===e.options.override.orig_run_at),determineOrigin:e=>{const t=e.fileURL||e.downloadURL||e.updateURL;return t?As(t):void 0},clean:e=>{const t=Date.now();pl.getUidList().forEach(n=>{const r=pl.getByUid(n);if(r.script&&r.cond){if(!r.script.deleted)return;{const e="on"===ar.values.trash_mode,s=Math.floor((r.script.deleted+ar.values.trash_cleanup_after-t)/1e3)
;if(e&&s>=0)return void a.log(`scriptman: script entry in trash ${n} will be cleaned in ${s}s`,r);a.log(`scriptman: script entry in trash ${n} will be cleaned now`,r)}}else a.warn(`scriptman: inconsistent script entry ${n} will be cleaned now`,r);e||pa.doRemove(n,!0)})}},ha=pa,ma=ha,fa=q.FEATURES,ga=(e,t)=>(fa.RUNTIME.FPI?void 0!==t&&(e.firstPartyDomain=e.firstPartyDomain||t):delete e.firstPartyDomain,e);let va;const _a={getAll:e=>{const t=z();return q.cookies.getAll(ga(e,null),e=>t.resolve(e)),
t.promise()},remove:e=>{const t=z();return q.cookies.remove(ga(e),e=>{if(e)t.resolve();else{const e=q.runtime.lastError;t.reject(e?e.message:"unknown error")}}),t.promise()},set:e=>{const t=z();return q.cookies.set(ga(e),e=>{if(e)t.resolve(e);else{const e=q.runtime.lastError;t.reject(e?e.message:"unknown error")}}),t.promise()},get fpi(){return va}};fa.RUNTIME.FPI&&q.cookies.remove({url:"https://www.tampermonkey.net",name:"doesnotexist"},()=>{q.runtime.lastError&&(va=!0)});const ba=_a;let wa={}
;const ka=(e,t,n,r)=>{const s=(0==e)+"#"+(n?"i":"n")+(r?"a":"e")+"#"+t,o=Ws.get(s);let i=o?JSON.parse(o):void 0;if(!i){const o=[],l=[],c=[],A=[],u={};if(t){const s=ma.determineScriptsToRun(t,!0,!r||void 0);for(const r of s)if(!r.deleted){if(a.verbose("check "+r.name+" for enabled:"+r.enabled),void 0!==n&&!(r.options.tab_types||ar.values.default_tab_types).split("+").includes(n?"incognito":"normal"))continue
;0!=e&&(!0===r.options.noframes||null===r.options.noframes&&!0===r.options.override.orig_noframes)||(r.evilness&&r.evilness>=Math.min(mo.SEVERITY_MAX,ar.values.script_blacklist_severity)?c.push(r):r.enabled?(u[r.uuid]=t,ma.isContexter(r)?A.push(r):o.push(r)):l.push(r))}}i={contexters:A,runners:o,disabled:l,evilness:c,script_map:u},t&&Ws.set(s,JSON.stringify(i))}return i},Ra=function(e,t,n){const{runners:r,contexters:s}=e,o=[{m:"native",t:[ra.staticVars.DEFAULT,ra.staticVars.NATIVE]},{
m:"disabled",t:[ra.staticVars.OFF]},{m:"browser",t:[ra.staticVars.CHROME]}].filter(e=>{if(e.t.includes(ar.values.downloads_mode))return!0}).map(e=>e.m)[0]||"disabled",a=!n&&"off"!=ar.values.external_connect&&Hs(t,wa);return{scripts:r||[],contexters:(null==s?void 0:s.length)||0,external_connect:a,inIncognitoContext:n,isFirstPartyIsolation:ba.fpi,downloadMode:o,enforce_strict_mode:"on"==ar.values.runtime_strict_mode,top_level_await:["default","on"].includes(ar.values.runtime_top_level_await),
measure_scripts:ar.values.debug,logLevel:ar.values.logLevel,version:q.extension.manifest.version}},ya={mkCompat:(e,t,n,r)=>(t&&((t.options.compat_wrappedjsobject||r)&&(e=ya.unWrappedJsObjectify(e)),(t.options.compat_metadata||r)&&(e=ya.unMetaDataify(e)),(t.options.compat_foreach||r)&&(e=ya.unEachify(e))),n||(e=e.replace(/(['"])use strict(['"])/g,"$1use strict$2")),e),findPrototypes:e=>{if(e.includes(".toSource("))return!0
;const t=["indexOf","lastIndexOf","filter","forEach","every","map","some","slice"];for(const n in t)if(e.includes(`Array.${t[n]}(`))return!0;return!1},unEachify:e=>{const t=(e=e.replace(/for each[ \t]*\(/gi,"for each(")).split("for each");for(let e=1;e<t.length;e++){const n=t[e];if("("!=n.substr(0,1)){t[e]=" each"+t[e];continue}const r=ke(n,"(",")"),s=r.split(" ");let o=null,a=null,i=null;for(const e in s)""!=s[e]&&"var"!=s[e]&&(o?a?i||(i=s[e]):a=s[e]:o=s[e]);if(!o||!i){t[e]=" each"+t[e]
;continue}const l="var __kk in "+i;let c="";c+="{\n    if (!"+i+".hasOwnProperty(__kk)) continue;",c+=" \n    var "+o+" = "+i+"[__kk];",t[e]=t[e].replace(r,l).replace("{",c)}return t.join("for")},unMetaDataify:e=>{let t=e,n=e;const r="<><![CDATA[",s="]]></>";let o=t.indexOf(r);for(;-1!=o;){const e=t.substr(0,o),a=e.lastIndexOf("\n");let i="";-1!=a&&(i=e.substr(a,e.length-a)),t=t.substr(o,t.length-o);const l=i.indexOf("/*"),c=i.indexOf("//");if(-1==l&&-1==c){const e=ke(t,r,s);let o=e
;o=o.replace(/\\/g,"\\\\"),o=o.replace(/"/g,'\\"').replace(/\n/g,'\\n" + \n"'),o=o.replace(/^\n/g,"").replace(/\n$/g,""),o=o.replace(/\r/g,"");const a=r+e+s;n=n.replace(a,'(new CDATA("'+o+'"))')}t=t.substr(1,t.length-1),o=t.indexOf(r)}return n},unWrappedJsObjectify:e=>{const t=e.split("\n");for(let e=0;e<t.length;e++){const n=t[e].indexOf(".wrappedJSObject");if(-1==n)continue;const r=t[e].indexOf("//");-1!=r&&r<n||(t[e]=t[e].replace(/\.wrappedJSObject/g,""))}return t.join("\n")}},Ea=ya
;var xa=e(8039),Sa=e.n(xa),Ta=e(70),Ma=e.n(Ta),Ua=e(8754),Ga=e.n(Ua),Ia=e(1763),Ca=e.n(Ia),Za=e(8295),Oa=e.n(Za),Fa=e(230),Ba=e.n(Fa),ja=e(3880),Na=e.n(ja),La=e(4350),Pa=e.n(La),Da=e(1933),Va=e.n(Da),za=e(2215),qa=e.n(za),Qa=e(2672),Xa=e.n(Qa),Ha=e(2162),Wa=e.n(Ha);const Ya={rules:{"userscripts/filename-user":Sa(),"userscripts/no-invalid-grant":Ma(),"userscripts/no-invalid-headers":Ga(),"userscripts/no-invalid-metadata":Ca(),"userscripts/require-name":Oa(),"userscripts/require-description":Ba(),
"userscripts/require-version":Na(),"userscripts/require-attribute-space-prefix":Pa(),"userscripts/use-homepage-and-url":Va(),"userscripts/use-download-and-update-url":qa(),"userscripts/align-attributes":Xa(),"userscripts/better-use-match":Wa()}},Ja=q.FEATURES;let Ka;const $a=Ja.RUNTIME.BROWSER_VERSION;let ei=!0,ti=!!V;const ni=Ja.HTML5.LOCALSTORAGE;if(ni){let e;try{e=ni.getItem("lint_worker")||""}catch(e){}"false"==e&&(ti=!1)}
Ka=Ja.RUNTIME.CHROME?$a>=94?2022:$a>=86?2021:$a>=83?2020:$a>=64?2018:$a>=59?2017:$a>=47?2015:5:Ja.RUNTIME.SAFARI?$a>=15?2021:$a>=14?2020:$a>=11?2018:$a>=10?2017:$a>=6?2015:3:Ja.RUNTIME.FIREFOX?$a>=93?2022:$a>=82?2021:$a>=77?2020:$a>=58?2018:$a>=52?2017:2016:5,Ja.RUNTIME.CHROME&&$a<77?(ei=!1,
a.warn("hint: disable inline ESLint config due to web worker CSP issues","https://bugs.chromium.org/p/chromium/issues/detail?id=777076","https://bugs.chromium.org/p/chromium/issues/detail?id=159303")):ti||(ei=!1,a.warn("hint: disable inline ESLint config because web workers are unavailable and this extension's CSP doesn't allow unsafe eval, which is required for ESLint's dynamic reconfigration"));const ri={"userscripts/no-invalid-grant":1,"userscripts/no-invalid-headers":1,
"userscripts/no-invalid-metadata":[2,{top:"optional"}],"userscripts/require-name":[2,"required"],"userscripts/require-description":[1,"required"],"userscripts/require-version":[1,"required"],"userscripts/require-attribute-space-prefix":1,"userscripts/use-homepage-and-url":0,"userscripts/use-download-and-update-url":1,"userscripts/better-use-match":1},si={env:{es6:Ka>=2015,browser:!0},parserOptions:{ecmaVersion:Ka,sourceType:"script",ecmaFeatures:{globalReturn:!0},allowAwaitOutsideFunction:!0},
rules:{curly:[1,"multi-line"],"dot-location":0,"dot-notation":[1,{allowKeywords:!0}],"no-caller":1,"no-case-declarations":2,"no-div-regex":0,"no-empty-pattern":2,"no-eq-null":0,"no-eval":1,"no-extra-bind":1,"no-fallthrough":1,"no-implicit-globals":2,"no-implied-eval":1,"no-lone-blocks":1,"no-loop-func":1,"no-multi-spaces":1,"no-multi-str":1,"no-native-reassign":1,"no-octal-escape":2,"no-octal":2,"no-proto":1,"no-redeclare":2,"no-return-assign":1,"no-sequences":1,"no-undef":1,"no-useless-call":1,
"no-useless-concat":1,"no-with":1}},oi={},ai=["uneval","unsafeWindow","GM_info","GM","GM_addStyle","GM_addElement","GM_cookie","GM_deleteValue","GM_listValues","GM_getValue","GM_download","GM_log","GM_registerMenuCommand","GM_unregisterMenuCommand","GM_openInTab","GM_setValue","GM_addValueChangeListener","GM_removeValueChangeListener","GM_xmlhttpRequest","GM_webRequest","GM_getTab","GM_setTab","GM_saveTab","GM_getTabs","GM_setClipboard","GM_notification","GM_getResourceText","GM_getResourceURL"]
;let ii;const li={};let ci;const Ai=e=>e.map(e=>{const{message:t}=e;if(!ei){let n;t&&(n=t.match(/Configuration for rule "([^"]+)"[\s\S]*evaluate a string as JavaScript[\s\S]*/))&&(e.message=`Rule "${n[1]}": ESLint inline configuration is not supported by this browser.`,e.severity=1)}return e
}).filter(e=>e),ui=q.FEATURES,di={},pi=new RegExp("[a-z0-9_$]+\\s*(?:\\.|\\[\\s*[\"'`])(?:(?:GM[_.](?:"+ai.filter(e=>e.startsWith("GM_")).map(e=>e.substr(3)).join("|")+"))|(?:"+ai.filter(e=>!e.startsWith("GM_")).join("|")+"))(?:[\"'`]\\s*\\])?\\s*(=*)?","i"),hi=e=>{const t=pi.exec(e);return!(!t||"="===t[1])},mi=(e,t)=>{let n,r=di[t.uuid],s=!0;if(r)return r;let{includes:o,matches:i,requires:l,resources:c,excludes:A,connects:u,textContent:d,...p}=t;const h=JSON.parse(JSON.stringify(t.options))
;let m,f;return h.run_at=h.run_at||t.options.override.orig_run_at||"document-idle",p.options=h,r=xo.getResources(p.uuid,t.resources).then(e=>(s&&!e.sync&&(a.log("ri: uncached @external detected -> fast script start disabled"),s=e.sync),m=e.elements,xo.getRequires(p.uuid,t.requires))).then(t=>{s&&!t.sync&&(a.log("ri: uncached @external detected -> fast script start disabled"),s=t.sync),f=t.elements,a.log("run script "+p.name+" @ "+e.url);const n={resources:m,requires:f,...p}
;return null===h.compat_powerful_this&&(h.compat_powerful_this=hi(d)||f.some(e=>hi(e.textContent))),((e,t,n)=>{const r=z(),s=[];n.forEach(t=>{let n=t.textContent||"";n=Ea.mkCompat(n,e.options.compatopts_for_requires?e:void 0,"off"!=ar.values.runtime_strict_mode),s.push(n)});const o="\n"+s.join("\n")+"\n",a=pl.getStorageByUid(e.uuid);let i=Ea.mkCompat(t,e,"off"!=ar.values.runtime_strict_mode);if(ar.values.debug){const e=i.split("\n");let t,n=!1;for(let r=0;r<e.length;r++){const s=e[r]
;if(!s.match(/^\s*$|^\s*\/\/\s*|^\s*\/\*.*\*\/\s*$|^\s*["']+use strict["']+;*\s*$/)){if(s.match(/^\s*\/\*/)&&(n=!0),!n){e[r]="debugger;"+e[r];break}if(s.match(/\*\/\s*$/))n=!1;else if(-1!=(t=s.search(/\*\//))){e[r]=Se(e[r],t+2,0,"debugger;");break}}}i=e.join("\n")}const l=G(e.name)+".user.js";let c;c=ui.RUNTIME.FIREFOX?q.extension.getURL("userscripts/")+l+"?"+Gt({id:e.uuid}):q.extension.getURL("userscript.html")+"?"+Gt({name:l,id:e.uuid});const A={header:e.header,code:i,requires:o,storage:a,
script:e,source_url:c};return r.resolve(A),r.promise()})(n,d,f)}).always(()=>{n=!0,delete di[p.uuid]}),n||(di[p.uuid]=r),r},fi=q.FEATURES,gi={};let vi=1;const _i=vi++,bi=vi++,wi=vi++,ki=vi++,Ri=vi++,yi=vi++,Ei=vi++,xi=()=>{const e={frames:{0:{frameId:0,state:_i,requests:{}}},scripts:{},urls:{},maps:{},contexts:{onUnload:{}},stats:{running:0,disabled:0,searched:-1},extra:{}};return Object.defineProperties(e.urls,{length:{value:0,enumerable:!1,writable:!0,configurable:!0}}),e
},Si=function(e,t,n,r){let s;ao(n)?s=ka(t,n,r):(a.log("This URL is filtered by the security settings:",n,"-> Do nothing!"),Oi.set.forbidden(e,t),s={contexters:[],runners:[],disabled:[],evilness:[],script_map:{}}),gi[e].scripts[n]=s,s.runners.forEach(n=>{n.webRequest&&n.webRequest.length&&Oi.set.requests(e,t,n.uuid,n.webRequest)})},Ti=(e,t)=>{ar.values.userscript_search_url&&"badge"==ar.values.userscript_search_mode&&Qn(e).then(n=>{let r,s
;(r=gi[t])&&(s=r.urls[e])&&0==s.frameId&&(r.stats.searched=n.count,Ni.setBadge(t))})},Mi={},Ui={},Gi={},Ii={};let Ci,Zi;const Oi={getActive:()=>({windowId:Ci,tabId:Zi}),getScriptHistoryForTab:e=>{var t;return(null===(t=gi[e.id])||void 0===t?void 0:t.maps)||{}},getUniqueScriptsForTab:e=>{var t;const n={},r=(null===(t=gi[e.id])||void 0===t?void 0:t.urls)||{};for(const[t,s]of Object.entries(r)){if(a.verbose(`Found at info[${e.id}] -> ${t}`),!ao(t))continue
;const{runners:r,contexters:o,disabled:i,evilness:l}=ka(s.frameId,t,Ze(e),!0);[r,o,i,l].forEach(e=>{e.forEach(e=>{n[e.uuid]=e})})}return n},listeners:{once:{whenReady:(e,t)=>{!gi[e]||gi[e].frames[0].state<bi?Oi.listeners.once.onReady(e,t):t()},onReady:(e,t)=>{const n=()=>{Oi.listeners.remove.onCommited(r),Oi.listeners.remove.onCompleted(s),t()},r=Oi.listeners.add.onCommited(t=>{t===e&&n()}),s=Oi.listeners.add.onCompleted(t=>{t===e&&n()})}},add:{onReset:e=>{const t=Ie();return Mi[t]=e,t},
onCommited:e=>{const t=Ie();return Ui[t]=e,t},onCompleted:e=>{const t=Ie();return Gi[t]=e,t},onRemoved:e=>{const t=Ie();return Ii[t]=e,t}},remove:(()=>{const e=(e,t)=>{delete e[t]};return{onReset:t=>{e(Mi,t)},onCommited:t=>{e(Ui,t)},onCompleted:t=>{e(Gi,t)},onRemoved:t=>{e(Ii,t)}}})()},events:{active:(e,t)=>{Ci=t,Zi=e,q.tabs.getSelected(t,t=>{t&&t.id==e&&Ti(t.url,e)})},reset:(e,t)=>{let n
;if(fi.RUNTIME.FAST_EXEC_SUPPORT&&(n=gi[e]))for(const t of Object.values(n.frames))Oi.events.clean(e,t.frameId);n=gi[e]=xi(),n.frames[0].state=_i,xe(Mi,n=>{n&&n(e,t)})},response:(e,t,n,r)=>{if(!ar.values.enabled)return;const s=gi[e]=gi[e]||xi(),o=s.frames[t]=s.frames[t]||{frameId:t,state:0,requests:{}},a=o.state||_i,i=Ut(n);a<wi&&(Si(e,t,i,r),o.state=wi);const l=s.scripts[i];return l?l.runners.length+l.contexters.length:0},commited:(e,t,n)=>{
if(!ar.values.enabled||!["https:","http:","file:"].some(e=>n.startsWith(e)))return;const r=gi[e]=gi[e]||xi(),s=r.frames[t]=r.frames[t]||{};(s.state||_i)<=bi||(s.state=bi,xe(Ui,t=>{t&&t(e)}))},loading:(e,t,n)=>{if(ar.values.enabled&&["https:","http:","file:"].some(e=>n.startsWith(e))&&0==t&&n.startsWith("file:")){const n=gi[e]=gi[e]||xi();if(n.frames[t]=n.frames[t]||{},(n.frames[t].state||_i)>=ki)return;n.frames[t].state=ki}},run:(e,t,n,r,s)=>{if(!ar.values.enabled)return
;const o=gi[e]=gi[e]||xi();o.frames[t]=o.frames[t]||{};const i=Ut(n);let l=o.scripts[i];if(!l&&(a.log("tv: lazy init @ events.run("+e+", "+t+", "+n+")"),Si(e,t,i,r),l=o.scripts[i],!l))return void a.warn("tv: no script run info for tab "+e+" @ "+i);const c=o.frames[t].state;o.frames[t].state=Ri,c!=Ri&&(function(e,t,n){const r=t=>{for(const[r,s]of Object.entries(n)){const n=1===t;void 0===gi[e].maps[r]&&n&&(gi[e].maps[r]={count:0,all_time:0,urls:[]}),n&&(gi[e].maps[r].urls.push(s),
gi[e].maps[r].all_time++),gi[e].maps[r].count+=t}};r(1),gi[e].contexts.onUnload[t]=gi[e].contexts.onUnload[t]||[],gi[e].contexts.onUnload[t].push(()=>{gi[e]&&r(-1)})}(e,t,l.script_map),function(e,t,n){const r=r=>{1===r&&(void 0===gi[e].urls[n]?gi[e].urls[n]={frameId:t,count:0}:0==t&&(gi[e].urls[n].frameId=t)),gi[e].urls[n].count+=r};r(1),gi[e].contexts.onUnload[t]=gi[e].contexts.onUnload[t]||[],gi[e].contexts.onUnload[t].push(()=>{gi[e]&&r(-1)})}(e,t,i),function(e,t,n){gi[e].stats.running+=n,
(gi[e].contexts.onUnload[t]=gi[e].contexts.onUnload[t]||[]).push(()=>{gi[e].stats.running-=n})}(e,t,l.runners.length));const A=l.contexters,u=s?r=>{Oi.events.clean(e,t,n);const o=r||A&&A.length?{runners:r,contexters:A}:void 0;s(o)}:void 0,d=function(e,t,n,r,s){const o=[];for(const e of r)o.push(mi({url:n},e));let a;return z.when(o).then(e=>e.filter(e=>e)).always(e=>{s?s(e):a=e}),a}(0,0,i,l.runners,u);return d||A&&A.length?{runners:d,contexters:A}:void 0},clean:(e,t,n)=>{
if(!ar.values.enabled)return;const r=gi[e];if(r){if(n){const e=Ut(n);delete r.scripts[e]}const s=Oi.get.objurl(e,t);s&&URL.revokeObjectURL(s)}},complete:(e,t,n)=>{if(ar.values.enabled&&["https:","http:","file:"].some(e=>n.startsWith(e))){if(0==t){const r=gi[e]=gi[e]||xi();r.frames[t]=r.frames[t]||{};const s=r.frames[t].state||_i;r.frames[t].state=yi;const o=Oi.get.stats(e);if(o&&o.running){if(s<Ri)return void a.warn("tv: no script run info!");n.startsWith("file:")?k(()=>{q.tabs.sendMessage(e,{
method:"onLoad"},{frameId:t})},500):q.tabs.sendMessage(e,{method:"onLoad"},{frameId:t})}Zi==e&&Ti(n,e)}xe(Gi,t=>{t&&t(e)})}},unload:(e,t)=>{fi.RUNTIME.FAST_EXEC_SUPPORT&&Oi.events.clean(e,t);const n=gi[e]=gi[e]||xi();if(n.frames[t]=n.frames[t]||{},n.frames[t].state=Ei,n.contexts.onUnload[t]){for(let e=0;e<n.contexts.onUnload[t].length;e++)n.contexts.onUnload[t][e]();n.contexts.onUnload[t]=[]}delete n.frames[t]},remove:e=>{const t=gi[e]
;fi.RUNTIME.FAST_EXEC_SUPPORT&&t&&Object.values(t.frames).forEach(t=>{Oi.events.clean(e,t.frameId)}),delete gi[e],xe(Ii,t=>{t&&t(e)})}},set:{objurl:(e,t,n)=>{const{extra:r}=gi[e]=gi[e]||xi();(r.objurl=r.objurl||{})[t]=n},blocker:e=>{const{extra:t}=gi[e]=gi[e]||xi();t.blocker=!0},forbidden:(e,t)=>{if(0==t){const{extra:t}=gi[e]=gi[e]||xi();t.forbidden=!0}},requests:(e,t,n,r,s)=>{const o=[];r.forEach(e=>{const t="string"==typeof e.selector?{include:[e.selector]
}:e.selector,n=["include","match","exclude"].reduce((e,n)=>{const r=t[n];return r&&(e[n]="string"==typeof r?[r]:r),e},{}),r=e.action;let s;if("string"==typeof r)s="cancel"===r?{cancel:!0}:{};else{const{cancel:e,redirect:t}=r;s="string"==typeof t?{redirect:{url:t}}:{cancel:e,redirect:t}}o.push({selector:n,action:s})}),((e,t,n,r)=>{const{frames:s}=gi[e]=gi[e]||xi(),o=s[t]=s[t]||{};(o.requests=o.requests||{})[n]=r})(e,t,n,{id:n+"@"+e+":"+t+"#"+Date.now(),rules:o,uuid:n,callback:s})}},get:{
stats:(e,t)=>{if(gi[e]){const n=gi[e].stats.running,r=gi[e].stats.searched;let s;if(t){let t=0;Object.keys(gi[e].maps).forEach(n=>{gi[e].maps[n].count>0&&t++}),s=t}return{running:n,searched:r,unique:s}}},objurl:(e,t)=>{var n,r;const s=null===(r=null===(n=gi[e])||void 0===n?void 0:n.extra)||void 0===r?void 0:r.objurl;if(!s)return;const o=s[t];return delete s[t],o},blocker:e=>{var t,n;return null===(n=null===(t=gi[e])||void 0===t?void 0:t.extra)||void 0===n?void 0:n.blocker},forbidden:e=>{var t,n
;return null===(n=null===(t=gi[e])||void 0===t?void 0:t.extra)||void 0===n?void 0:n.forbidden},requests:(e,t)=>{var n,r;return null===(r=null===(n=gi[e])||void 0===n?void 0:n.frames[t])||void 0===r?void 0:r.requests}}},Fi=Oi,Bi=()=>{q.runtime.lastError&&q.runtime.lastError},ji={init:()=>{ji.setIcon();let e=ar.values.appearance_badge_color||"#ee3131";"#"!==e[0]&&(e="#"+e),q.browserAction.setBadgeBackgroundColor({color:e}),e=ar.values.appearance_badge_text_color||"#ffffff","#"!==e[0]&&(e="#"+e),
q.browserAction.setBadgeTextColor({color:e})},setIcon:e=>{let t,n,r=!1,s=!1;if(void 0!==e){const t=Fi.get.blocker(e),n=Fi.get.forbidden(e);void 0!==t&&(r=t),void 0!==n&&(s=n)}s?(t="_forbidden",n=en.getMessage("At_least_one_part_of_this_page_is_listed_at_the_forbidden_pages_setting_")):r?(t="_blocker",n=en.getMessage("Some_scripts_might_be_blocked_by_the_javascript_settings_for_this_page_or_a_script_blocker_")):t=ar.values.enabled&&void 0!==e?"":"_grey",a.debug("badge: set icon "+t);const o={
path:q.extension.getURL("images/icon"+t+".png")},i={title:n||q.extension.manifest.name};void 0!==e&&(o.tabId=e,i.tabId=e);try{q.browserAction.setIcon(o,Bi),q.browserAction.setTitle(i)}catch(e){a.warn("bg: ERROR while setIcon! "+e.message)}},setBadge:e=>{var t,n,r;let s=0
;"off"==ar.values.appearance_badges?s=0:"running"==ar.values.appearance_badges?e&&(s=(null===(t=Fi.get.stats(e))||void 0===t?void 0:t.running)||0):"running_unique"==ar.values.appearance_badges&&e&&(s=(null===(n=Fi.get.stats(e,!0))||void 0===n?void 0:n.unique)||0);let o=s?""+s:"";if(ar.values.userscript_search_url&&"badge"==ar.values.userscript_search_mode){const t=(null===(r=Fi.get.stats(e))||void 0===r?void 0:r.searched)||0;if(t>0){let e="";e=s>999?"":s>99||`${o}+${t}`.length>4?"+":""+s,
o=`${o}+${e}`}}a.debug("badge: set "+o),q.browserAction.setBadgeText({text:o,tabId:e})}},Ni=ji,Li=q.FEATURES,Pi=[],Di={},Vi=Li.HTML5.LOCALSTORAGE,zi=(Vi?parseInt(Vi.getItem("inactive_tab_done_timeout")||""):null)||1e3,qi=(e,...t)=>{c.late?Fi.events.active(e.tabId,e.windowId):k(()=>{qi(e,...t)},100)},Qi=(e,t,n)=>{if(!c.late)return void k(()=>{Qi(e,t,n)},100);const r=n.pendingUrl||n.url;"auto"==ar.values.scriptUrlDetection&&Ps(r)&&ma.installFromUrl(r,{},{silent_fail:!0}),
r?"loading"==t.status?Fi.events.loading(n.id,0,r,Ze(n)):"complete"==t.status&&Fi.events.complete(n.id,0,r):a.warn("tabUpdates: no tab url set! ",n),Pi.forEach(e=>{e({reason:"updated",status:t.status},n)})},Xi=e=>{Di[e]&&(Di[e].onClose(),delete Di[e]),Fi.events.remove(e),Pi.forEach(t=>{t({reason:"removed"},{id:e})})},Hi=(e,t)=>{Xi(t),Ni.setIcon(e),Ni.setBadge(e),Pi.forEach(t=>{t({reason:"replaced"},{id:e})})},Wi=e=>{c.late?(Fi.events.commited(e.tabId,e.frameId,e.url),
0===e.frameId&&Pi.forEach(t=>{t({reason:"commited"},{url:e.url,id:e.tabId})})):k(()=>{Wi(e)},100)},Yi={init:()=>{q.tabs.onUpdated.addListener(Qi),q.tabs.onRemoved.addListener(Xi),q.tabs.onReplaced.addListener(Hi),q.tabs.onActivated.addListener(qi),q.webNavigation.supported&&q.webNavigation.onCommitted.addListener(Wi)},openAndWatch:function(e,t){let n,r;const s=(e,o)=>{void 0!==n&&o.id===n&&(["updated","commited"].includes(e.reason)?t(o):"removed"==e.reason&&(r&&(y(r),r=void 0),
Yi.removeListener(s),t()))};return q.tabs.create(e,s=>{s?(n=s.id,!1===e.active&&(r=k(()=>{r=void 0,q.tabs.update(s.id,{active:!0},()=>null)},zi)),t(s)):a.warn("tab.create failed",e,s)}),Yi.addListener(s),{cancel:()=>{Yi.removeListener(s),void 0!==n&&q.tabs.remove(n,()=>{const e=q.runtime.lastError;e?a.warn("tab.close",e.message):n=void 0})}}},addListener:e=>{Pi.push(e)},removeListener:e=>{let t;Pi&&(t=Pi.indexOf(e))>-1&&Pi.splice(t,1)}},Ji=Yi;let Ki=0;const $i={ePASTEBIN:1,eCHROMESYNC:2,
eSYNCFS:3,eGDRIVE:4,eDROPBOX:5,eWEBDAV:6,eYANDEX:7,eONEDRIVE:8,eUNKNOWN:9};let el=[],tl=!1;const nl=(()=>{const e=e=>{const t=e.type,n=e.id,r=".meta.json",s=".user.js";let o,i;const l=e=>{let t;return z.Pledge().then(()=>{if(!i)return t=!0,c()}).then(()=>{if(i&&void 0===i[e]&&!t)return c()}).then(()=>i?(i[e]=i[e]||void 0,i[e]):(a.warn("si: unable to list remote list!"),z.Breach()))},c=e=>o.list(e).then(e=>{i={};const t={},n={};let r,s;const o=Date.now();return e.map(e=>{
const{name:l,modified:c}=e;if(!i)return;i[l]=e;const A=new RegExp(".meta.json$"),u=new RegExp(".user.js$");if(c>o)a.log("si: ignore future list item",o,e);else if((r=!!l.match(A))||(s=!!l.match(u))){let o;if(r){o=l.replace(A,"");const n=c,{precision:r}=e;t[o]={uuid:o,options:{},url:void 0,precision:r,lastModified:n}}else s&&(o=l.replace(u,""),n[o]=!!e)}}),Object.keys(t).map(e=>{const r=t[e];return r&&(r.sourceAvailable=n[e]),r}).filter(e=>e)});let A;return{init:e=>(o=so[t]({...e,path:"sync"}),
z.Pledge().then(()=>(A||(A=o.changes.listen(),A.progress(e=>{((e,t)=>{if(t!=Ki)return;const n=e.name,r=new RegExp(".meta.json$"),s=new RegExp(".user.js$");a.log("si: cloud file changed",n,e),(n.match(r)||n.match(s))&&el.forEach(e=>{e(n)})})(e,n)})),!0))),list:c,setSource:(e,t)=>{const n=e+s;return l(n).then(e=>{let r;return z.Pledge(!1).then(()=>{if(e&&o.compare)return o.compare(e,t)}).then(s=>s?(a.log("si: remote source data matches, skip upload of",n),z.Pledge()):(r=new Blob([t],{
type:"text/plain"}),i&&delete i[n],o.put(e||n,r)))})},getSource:(e,t)=>{const n=e+s;return l(n).then(r=>r?z.Pledge(!1).then(()=>{if(t&&o.compare)return o.compare(r,t)}).then(e=>e?(a.log("si: remote source data matches, skip download of",n),z.Pledge(t)):o.get(r).then(e=>_e(e,"utf-8"))):(a.warn("si: list cache does not contain this UUID",e),z.Breach()))},getMeta:e=>l(e+r).then(t=>t?o.get(t).then(e=>_e(e,"utf-8")).then(n=>{let r;if((r=(e=>{let t;try{t=JSON.parse(e)}catch(e){}if(t&&t.uuid)return t
;a.log("si: unable to parse extended info of "+void 0)})(n))&&(r.uuid=e)){let{options:n,url:s,precision:o,lastModified:a}=r;return a=t.modified||a||0,o=t.precision||o,n=n||{},{...r,uuid:e,url:s,options:n,precision:o,lastModified:a}}}):z.Breach()),setMeta:(e,t)=>{const n=new Blob([JSON.stringify(e)],{type:"text/plain"}),s=e.uuid+r;return l(s).then(e=>o.put(e||s,n,t))},remove:e=>{const t=e.uuid+r;e.options.removed=Date.now();const n=new Blob([JSON.stringify(e)],{type:"text/plain"})
;return o.put(t,n).then(()=>{const t=e.uuid+s;return l(t).then(e=>{if(e)return i&&delete i[t],o.delete(e)})})},reset:()=>o.list(!0).then(e=>e.filter(e=>{const t=new RegExp(".meta.json$"),n=new RegExp(".user.js$");return e.name.match(t)||e.name.match(n)})).then(e=>{const t=[];return e.forEach(e=>{t.push((()=>{const t=z();return o.delete(e).always(()=>{t.resolve()}),t.promise()})())}),z.when(t).always(()=>{i=void 0})}).then(()=>{}),getRemoteUrl:function(e){
if(o.getRemoteUrl)return o.getRemoteUrl(e.uuid+s)},getRemoteDomains:function(){if(o.getRemoteDomains)return o.getRemoteDomains()}}},t=e({type:"drive",id:$i.eGDRIVE}),n=e({type:"dropbox",id:$i.eDROPBOX}),r=e({type:"onedrive",id:$i.eONEDRIVE}),s=e({type:"webdav",id:$i.eWEBDAV}),o=e({type:"yandex",id:$i.eYANDEX}),i=(()=>{let e,t=!1;const n=(t,n)=>{Ki==$i.eCHROMESYNC&&"sync"==n&&z.Pledge().then(()=>{const r=new RegExp(e+"$");t&&Object.keys(t).forEach(e=>{const s=t[e],i=s.newValue
;if(a.log('si: storage key "%s" in namespace "%s" changed. Old value was "%s", new value is "%s".',e,n,s.oldValue,s.newValue),-1!=e.search(r))for(let t=0;t<el.length;t++)if(c[e]);else{const n=o(i,e);n&&el[t](e,n)}})})},r=e=>{const t=z();let n=[];return e?s().done(r=>{n=r.filter(t=>t.item.uuid==e),t.resolve(n)}).fail(e=>{t.reject(e)}):t.resolve(n),t.promise()},s=()=>sl(()=>{const t=z(),n=new RegExp(e+"$");return q.storage.sync.get(null,e=>{const r=[];e&&Object.entries(e).forEach(([e,t])=>{
if(-1==e.search(n))return;const s=o(t,e);s&&r.push({key:e,item:s})}),t.resolve(r)}),t.promise()}),o=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){}if(n&&(n.url||n.options))return n;a.log("si: unable to parse extended info of "+t)},i=e=>e.then(e=>{const t={};if((e=e.filter(e=>{if(!t[e.key])return t[e.key]=!0,!0})).length>1){const t=z(),n=[],r=e.pop();return e.forEach(e=>{n.push(A(e.key))}),z.when(n).done(()=>{t.resolve(r)}),t.promise()}return z.Pledge(e[0])});let l,c={};const A=e=>{const t=z()
;return q.storage.sync.remove(e,()=>{const e=q.runtime.lastError;e?t.reject(e):t.resolve()}),t.promise()},u=()=>{const e=z();return q.storage.sync.set(c,()=>{const t=q.runtime.lastError;t?e.reject(t):(c={},e.resolve())}),e.promise()},d=()=>z.Pledge().then(()=>s()).then(t=>{const n=new RegExp(e+"$"),r=[];return t.forEach(e=>{const t=e.key,s=e.item,a=t.replace(n,"");let i;if(i=c[t]?o(c[t],t):s,!i)return;const l=i.options||{};r.push({uuid:l.removed?a:i.uuid,lastModified:l.removed||i.lastModified,
url:i.url,options:l})}),z.Pledge(r)});return{init:function(){let r=!0;if(!t)try{q.storage.onChanged.addListener(n),t=!0}catch(e){a.warn("si: error registering sync callback: "+e.message),r=!1}return e="@v2",z.Pledge(r)},list:d,setMeta:(t,n)=>{const s=z();return i(r(t.uuid)).done(r=>{let o;o=r?r.key:t.uuid+e;const{uuid:a,options:i,url:A}=t,d=(null==n?void 0:n.lastModified)||0,p={...(null==r?void 0:r.item)||{},url:A,options:i||{},uuid:a,lastModified:d};c[o]=JSON.stringify(p),l&&y(l),l=k(u,3e3),
s.resolve()}),s.promise()},getMeta:e=>d().then(t=>{let n;return t.some(t=>{if(t.uuid==e)return n=t,!0}),n}),remove:t=>{const n=z();return i(r(t.uuid)).done(r=>{let s;s=r?r.key:t.uuid+e;const{url:o,options:a,uuid:i,lastModified:A}=t,d={...(null==r?void 0:r.item)||{},url:o,options:a||{},uuid:i,lastModified:A};d.options.removed=Date.now(),c[s]=JSON.stringify(d),l&&(y(l),l=void 0),l=k(u,3e3),n.resolve()}),n.promise()},reset:()=>sl(()=>{const e=z();return q.storage.sync.clear(()=>{c={},e.resolve()}),
e.promise()})}})();return{[$i.eCHROMESYNC]:q.storage.sync.supported?i:void 0,[$i.eGDRIVE]:t,[$i.eDROPBOX]:n,[$i.eONEDRIVE]:r,[$i.eWEBDAV]:s,[$i.eYANDEX]:o}})();let rl;const sl=(e,t)=>{const n=z();let r=void 0!==t?t:3;const s=()=>{if(tl)k(s,500);else{tl=!0;try{e().always(()=>{tl=!1}).done(e=>n.resolve(e)).fail(()=>{--r>0?(a.log("si: some retries left, wait for 60000 ms"),k(s,6e4)):(a.warn("si: no retries left, skipping this sync request!"),n.reject("no retries left"))})}catch(e){a.warn(e),tl=!1,
n.reject(("string"==typeof e?e:e.message)||"internal error")}}};return s(),n.promise()},ol={init:(e,t)=>(el=[],Ki=e,rl=nl[e],(null==rl?void 0:rl.init(t))||z.Breach()),addChangeListener:e=>{el.push(e)},getRemoteUrl:e=>{if(rl&&rl.getRemoteUrl)return rl.getRemoteUrl(e)},getRemoteDomains:()=>{if(rl&&rl.getRemoteDomains)return rl.getRemoteDomains()},caps:(()=>{const e={};return Object.defineProperties(e,{specialMeta:{get:function(){return rl&&!!rl.getMeta},enumerable:!0},syncsSource:{get:function(){
return rl&&!!rl.getSource},enumerable:!0}}),e})(),types:$i,list:()=>(null==rl?void 0:rl.list())||z.Pledge([]),setMeta:(e,t)=>(null==rl?void 0:rl.setMeta(e,t))||z.Pledge(),getMeta:e=>(null==rl?void 0:rl.getMeta(e))||z.Pledge(),setSource:(e,t)=>(null==rl?void 0:rl.setSource)?rl.setSource(e,t):z.Pledge(),getSource:(e,t)=>(null==rl?void 0:rl.getSource)?rl.getSource(e,t):z.Pledge(),reset:()=>(null==rl?void 0:rl.reset())||z.Pledge(),remove:e=>(null==rl?void 0:rl.remove(e))||z.Pledge()},al=e=>{
const{uuid:t,name:n,downloadURL:r,fileURL:s,lastModified:o,options:a}=e,i=r?r.split("#")[0]:void 0,l=s?s.split("#")[0]:void 0,c=[l,i].filter(e=>{const t=e?xt(e):void 0;if(!t||"file:"!==t.protocol)return e})[0],{comment:A}=a;return{uuid:t,name:n,options:{comment:A||void 0},durl:i,furl:l,url:c,lastModified:o||e.lastUpdated}},il=ol.getRemoteDomains,ll=ol.getRemoteUrl,cl=q.FEATURES,Al={ts:0,data:{}};let ul=[];const dl={init:()=>{le.addDifferentOriginChangeListener(cl.CONSTANTS.PREFIX.STORE,(e,t)=>{
const n=e.replace(cl.CONSTANTS.PREFIX.STORE,"");for(const[e,r]of Object.entries(t.data))dl.notifyStorageListeners({uuid:n},void 0,n=>{const s={data:{},ts:0};s.data[e]=r,s.ts=t.data.ts;const o={storage:s};void 0===s.data[e]&&(o.removed=e),n(o)})})},getUidList:()=>{const e=new RegExp("^"+cl.CONSTANTS.PREFIX.SCRIPT_UID),t=[];return le.listValues().forEach(n=>{-1!=n.search(e)&&t.push(n.replace(e,""))}),t},getUidsByName:(e,t)=>{const n=[];return dl.getUidList().forEach(r=>{const s=dl.getMetaByUid(r)
;!s||s.name!=e||t&&t!=s.namespace||n.push(r)}),n},getUidByName:e=>dl.getUidsByName(e)[0],getStorageByUid:e=>{const t=le.getValue(cl.CONSTANTS.PREFIX.STORE+e,{ts:0,data:{}});let{ts:n,data:r}=t||Al;return void 0===n&&(n=0),void 0===r&&(r={}),{ts:n,data:r}},setStorageByUid:(e,t)=>t?le.setValue(cl.CONSTANTS.PREFIX.STORE+e,t):le.deleteValue(cl.CONSTANTS.PREFIX.STORE+e),getMetaByUid:e=>le.getValue(cl.CONSTANTS.PREFIX.META+e,null),getByUid:(e,t)=>{if(!e)return a.error("sb: no UUID set"),{}
;let n,r=le.getValue(cl.CONSTANTS.PREFIX.META+e,null);if(r){const{requires:s,resources:o}=r;let{sync:a}=r;r.requires=(s||[]).map(e=>{const{unsafe_url:t,abs_url:n}=e;return{unsafe_url:t,abs_url:n}}),r.resources=(o||[]).map(e=>{const{name:t,unsafe_url:n,abs_url:r}=e;return{name:t,unsafe_url:n,abs_url:r}}),r.uuid=e,r.grant=r.grant||[],r.options.override.use_connects||(r.connects=r.connects||[],r.options.override.merge_connects=!0,r.options.override.use_connects=[]),
void 0===r.options.check_for_updates&&(r.options.check_for_updates=!0),void 0===r.options.tab_types&&(r.options.tab_types=null),void 0===r.options.compat_powerful_this&&(r.options.compat_powerful_this=null),t&&(r=Te(r,{})),a&&!a.imported&&(a={imported:9});const i=r.textContent,l=le.getValue(cl.CONSTANTS.PREFIX.SCRIPT+e,i);l&&(n={...r,sync:a,textContent:l})}return{script:n,cond:le.getValue(cl.CONSTANTS.PREFIX.COND+e,null)}},setByUid:(e,t,n)=>{if(!e)throw a.error("sb: no UUID set",t),
new Error("No UUID set!");if("string"!=typeof t.textContent)throw new Error("No script code set!");const{name:r,includes:s,matches:o,excludes:i}=t,{textContent:l,...c}=t,A={...c,uuid:e},u={...A,textContent:l},d=!!le.getValue(cl.CONSTANTS.PREFIX.META+e),p={};p[cl.CONSTANTS.PREFIX.META+e]=A,p[cl.CONSTANTS.PREFIX.SCRIPT_UID+e]=r,p[cl.CONSTANTS.PREFIX.COND+e]={inc:s,match:o,exc:i},p[cl.CONSTANTS.PREFIX.SCRIPT+e]=l;const h=le.setValues(p);return d?yn.emit("scriptEvent",{type:"changed",name:r,
script:u,changed:d,sync:n}):yn.emit("scriptEvent",{type:"added",name:r,script:u,sync:n}),Ws.removeAll(),Ys.remove(e),h},restoreByUid:(e,t)=>{const n=dl.getByUid(e);if(!n.script||!n.cond)return z.Breach("invalid script");const{script:r,script:{name:s}}=n;delete r.deleted;const o=dl.setByUid(e,r);return void 0===t&&(t=!0),yn.emit("scriptEvent",{type:"added",name:s,script:r,sync:t}),o},softRemoveByUid:(e,t)=>{const n=dl.getByUid(e);if(!n.script||!n.cond)return z.Breach("invalid script")
;const{script:r,script:{name:s}}=n;r.deleted=Date.now();const o=dl.setByUid(e,r);return Ws.removeAll(),Ys.remove(e),void 0===t&&(t=!0),yn.emit("scriptEvent",{type:"removed",name:s,script:r,sync:t}),o},removeByUid:e=>{const t=dl.getByUid(e);if(!t)return z.Breach("not found")
;const n=z.when([le.deleteValue(cl.CONSTANTS.PREFIX.SCRIPT_UID+e),le.deleteValue(cl.CONSTANTS.PREFIX.COND+e),le.deleteValue(cl.CONSTANTS.PREFIX.SCRIPT+e),le.deleteValue(cl.CONSTANTS.PREFIX.META+e),le.deleteValue(cl.CONSTANTS.PREFIX.STORE+e)]).then(()=>{}),{script:r}=t;return ar.values&&r&&Lr(r.name,"r"),n},addStorageListener:(e,t,n,r,s)=>{const o={tabid:e,id:t,uuid:n,time:r,response:s};ul.push(o)},removeStorageListeners:(e,t)=>{void 0===t&&(t=!0);const n=ul;ul=[],n.forEach(n=>{
if(void 0!==e.tabid&&e.tabid!==n.tabid||void 0!==e.uuid&&e.uuid!==n.uuid||void 0!==e.id&&e.id!==n.id)ul.push(n);else{a.verbose("sb: send empty response ",e);try{t&&n.response({})}catch(t){a.debug("sb: listener clear for script",e,"failed! Page reload?!")}}})},notifyStorageListeners:(e,t,n)=>{const r=e||{},s=t||{};ul.forEach(e=>{
if(void 0!==s.uuid&&e.uuid===s.uuid||void 0!==s.tabid&&e.tabid===s.tabid||void 0!==s.id&&e.id===s.id||void 0!==r.tabid&&r.tabid!==e.tabid||void 0!==r.uuid&&r.uuid!==e.uuid||void 0!==r.id&&r.id!==e.id);else try{a.verbose("sb: notify/refresh/remove",r),n(e.response)}catch(e){a.warn("sb: listener notification for script",r,"failed! Page reload?!")}})}},pl=dl,hl=q.FEATURES;let ml,fl=0,gl=!1;const vl={ts:0},_l={},bl=m({threads:1}),wl={},kl={comment:!0},Rl=!!_.Tests,yl=(e,t)=>bl.add(async()=>{
if(!ml.caps.syncsSource){let t;if(!e.url||!(t=xt(e.url))||!t.protocol.match(/https?:/))return a.log("sync: skip export due to missing URL",e.name,e.url),!1}a.log("sync: export",e.name,e.url);try{return ml.setSource&&t&&await ml.setSource(e.uuid,t),await ml.setMeta(e,{lastModified:e.lastModified}),!0}catch(e){return!1}}),El=()=>pl.getUidList().map(e=>{const t=pl.getByUid(e);if(t.script&&t.cond&&!t.script.deleted){const e=al(t.script)
;return e.lastModified||Rl?t.script.evilness&&t.script.evilness>=Math.min(mo.SEVERITY_MAX,ar.values.script_blacklist_severity)?void a.warn("sync: ignore evil script",t.script):e:void a.warn("sync: script without updated/modified timestamps found",t.script)}}).filter(e=>e),xl=(e,t,n)=>n?Math.floor(e/n)*n<Math.floor(t/n)*n:e<t,Sl=()=>{gl&&(a.verbose("sync: remoteChangeCb()"),Gl(500,!0))};let Tl;const Ml=()=>{Tl||(Tl=k(()=>{Tl=void 0,Ul().done(()=>{gl&&Gl(3e3)})},3e3))},Ul=()=>{const e=z()
;return gl=!1,(()=>{if(ar.values.sync_enabled&&ar.values.sync_type){let e={};return ar.values.sync_type==$i.eWEBDAV&&(e={url:ar.values.cloud_url||void 0,basic_auth:ue(ar.values.cloud_user+":"+ar.values.cloud_pass)}),ml.init(ar.values.sync_type,e).done(e=>{gl=e,gl?ml.addChangeListener(Sl):a.warn("sync: init failed!")}).fail(()=>{a.warn("sync: init failed!")})}return z.Pledge()})().always(()=>{yn.on("scriptEvent",({type:e,name:t,script:n,sync:r,changed:s})=>{if(!gl||!r)return
;a.verbose(`sync: script ${e} event for ${t} (changed: ${s}, sync: ${r})`);const o=al(n);switch(e){case"added":yl(o,n.textContent);break;case"changed":Gl(6e4);break;case"removed":(e=>{a.log("sync: remove",e.name,e.url),ml.remove(e)})(o)}}),e.resolve(gl)}),e.promise()},Gl=(e,t)=>{const n=Date.now();e=e||500,t=vl.force||t,vl.to?(y(vl.to),vl.ts<n+e&&((e=vl.ts-n)<1&&(e=1),a.verbose(`sync: re-schedule sync for run in ${e} ms`))):a.log(`sync: schedule sync for run in ${e} ms`),vl.force=t,vl.ts=n+e,
vl.to=k(()=>{(e=>{if(!gl)return z.Breach();if(fl>0)return e&&yn.once("syncFinished",t=>{t&&Gl(50,e)}),z.Breach();fl++,a.verbose("sync: start syncing = "+fl);let t=[],n=[],r=0,s=0,o=!0;const i=e=>{if(e)for(let t=0;t<n.length;t++)if(n[t].uuid==e)return n[t];return null};Rn.all("status",{key:"sync_status",class:"information",title:en.getMessage("Script_Sync"),text:en.getMessage("Sync_is_running"),timeout:9e5}),z.Pledge().then(()=>(t=El(),ml.list().done(e=>{n=e}).fail(()=>{
a.warn("sync: unable to get remotelist!")}))).then(()=>{const e=n.map(e=>{let n;const s=(e=>{if(e)for(let n=0;n<t.length;n++)if(t[n].uuid==e)return t[n]})(e.uuid);let o=!1,i=0;if(s){if(!e.lastModified&&ar.values.sync_type==$i.eCHROMESYNC)for(const[t,n]of Object.entries(kl))if(!0===n&&s.options[t]!=e.options[t]){a.log("sync: importable change detected!",e.uuid,"key:",t,e),o=!0;break}e.lastModified&&xl(s.lastModified,e.lastModified,e.precision)&&(i=e.lastModified,o=!0,
a.log("sync: importable change detected!",e.uuid,"local ts:",new Date(s.lastModified),"remote ts:",new Date(e.lastModified),e))}else(n=wl[e.uuid])&&e.lastModified&&xl(n.lastModified,e.lastModified,e.precision)&&(i=e.lastModified,o=!0,a.log("sync: changed cache entry detected!",e.uuid,"local ts:",new Date(n.lastModified),"remote ts:",new Date(e.lastModified),e));if(!s&&!n||o)return()=>z.Pledge().then(()=>ml.caps.specialMeta?ml.getMeta(e.uuid):z.Pledge(e)).then(e=>{if(!e)return
;const{uuid:t,url:l}=e;if(s){if(e.options.removed)r++,a.log("sync: remove local script "+t,l),pl.softRemoveByUid(s.uuid,!1);else if(o)return c=i,A=e.lastModified,((u=e.precision)?Math.floor(c/u)*u!=Math.floor(A/u)*u:c!=A)&&(e.lastModified&&a.warn("sync: list and meta data lastModified differ, this will cause extra traffic!","file ts:",new Date(i),"meta ts:",new Date(e.lastModified),e),e.lastModified=i),r++,a.log("sync: update local script "+t,l),z.Pledge().then(()=>{
if(ml.caps.syncsSource&&ml.getSource){const n=z();return ml.getSource(t,void 0).then(e=>e?ma.doSave({uuid:t,src:e,ask:!1,internal:!0,save:!0}):z.Breach()).fail(()=>{a.warn(`sync: getting source of ${t} failed`,e)}).always(()=>n.resolve()),n.promise()}}).then(()=>{const{script:n}=pl.getByUid(s.uuid);if(!n)return a.warn(`sync: getting entry ${t} failed`,e),z.Breach();for(const[t,r]of Object.entries(kl))!0===r&&(n.options[t]=e.options[t]||null);return n.lastModified=e.lastModified,
ma.doModify(n.uuid,n,!1)})}else if(s||e.options.removed)!n&&e.options.removed&&(wl[t]=e);else{const n=z();if(!(l&&_l[l]||t&&_l[t]))return(e=>bl.add(()=>{const{uuid:t,url:n,lastModified:r}=e;a.log("sync: import",t,n);const s={imported:ar.values.sync_type},o={};for(const[t,n]of Object.entries(kl))!0===n&&(o[t]=e.options[t]);const i={uuid:t,ask:!1,internal:!0,sync:s,force_meta:{lastModified:r,fileURL:n||void 0},force_options:o},l={silent_fail:!0}
;return(ml.caps.syncsSource&&ml.getSource?ml.getSource(t).then(e=>e?ma.installFromSource(e,i,l):(a.warn("sync: import export due to missing source",t,n),z.Breach()),()=>{a.warn("sync: import export due to missing source",t,n)}):n?ma.installFromUrl(n,i,l):(a.log("sync: skip import due to missing URL and source",t),z.Breach())).done(()=>{Ws.removeAll()})}))(e).done(n=>{n?r++:(a.warn("sync: unable to import",e),l&&(_l[l]=!0),_l[t]=!0)}).fail(()=>{a.warn("sync: unable to load",e),l&&(_l[l]=!0),
_l[t]=!0}).always(()=>n.resolve()),n.promise();a.warn("sync: skip previously failed import",e)}var c,A,u})}).filter(e=>e);return z.onebyone(e)}).then(()=>(r&&(ma.reorderScripts(),Rn.all("status",{key:"sync",class:"information",title:en.getMessage("Script_Sync"),text:en.getMessage("0count0_changes_imported",r),timeout:1e4})),t=El(),z.Pledge())).then(()=>{const e=[];for(let n=0;n<t.length;n++)e.push((()=>{const e=t[n];let r,o;if(!ml.caps.syncsSource&&!e.url)return z.Pledge();const l=i(e.uuid)
;var c,A,u;if(l?l.lastModified&&(c=e.lastModified,A=l.lastModified,!((u=l.precision)?Math.floor(c/u)*u>Math.floor(A/u)*u:c>A))||(r=!0,a.log("sync: exportable change detected!",e.name,"remote ts:",new Date(l.lastModified),"local ts:",new Date(e.lastModified),e)):a.log("sync: export because remotely missing!",e.name,"local ts:",new Date(e.lastModified),e),!l||r||ml.caps.syncsSource&&!l.sourceAvailable){if(ml.caps.syncsSource){const t=pl.getByUid(e.uuid);t.script&&t.cond&&(o=t.script.textContent)}
return yl(e,o).then(e=>{e&&s++})}return z.Pledge()})());return z.when(e)}).then(()=>{o=!0}).fail(()=>{o=!1}).always(()=>{a.log("sync: finished"),0==--fl&&(Rn.all("status",{key:"sync_status",class:"information",title:en.getMessage("Script_Sync"),text:en.getMessage("Sync_finished"),timeout:15e3}),s&&Rn.all("status",{key:"sync",class:"information",title:en.getMessage("Script_Sync"),text:en.getMessage("0count0_changes_exported",s),timeout:5e3}),yn.emit("syncFinished",o))})})(vl.force),
vl.to=vl.force=void 0},e)},Il={get enabled(){return gl},SYNCED:kl,init:()=>(Ks=e=>{let t=z();const n=Ji.openAndWatch({url:e.url},e=>{e?t&&t.notify(e):t&&(t.resolve(),t=void 0)});return{promise:t.promise(),close:function(){n.cancel()}}},ml=ol,ar.addChangeListener(["sync_enabled","sync_type","cloud_url","cloud_user","cloud_pass"],Ml),Ul()),sync:Gl,reset:()=>gl?ml.reset():z.Breach()};_.sycl=Il;const Cl=Il,Zl="root",Ol=["http://*/*","https://*/*","file://*/*"];let Fl,Bl,jl,Nl={},Ll={}
;const Pl=(e,t)=>{const n=e.id;if(Nl[n]){const t=e;delete t.id,q.contextMenus.update(n,t)}else q.contextMenus.create(e);Ll[n]=!0,k(t,1)},Dl=()=>{const e=z();return q.contextMenus.removeAll(()=>{Fl=void 0,Nl={},e.resolve()}),e.promise()},Vl={init:({onclick:e})=>q.contextMenus.supported?(q.contextMenus.onClicked.addListener((t,n)=>{a.debug(t,n),n&&t.menuItemId&&t.parentMenuItemId&&e&&e({id:t.menuItemId,tabId:n.id,frameId:t.frameId,url:t.frameUrl||t.pageUrl,isMenuCommand:t.parentMenuItemId!=Zl})}),
Dl()):z.Pledge(),clean:e=>{const t=z();return e.forEach(e=>{q.contextMenus.remove(e,()=>{const e=q.runtime.lastError;e&&a.warn(e.message),t.resolve()})}),t.promise()},update:({contexters:e,commands:t})=>{if(Bl){jl&&jl.deferred.reject();const n=z();return jl={contexters:e,commands:t,deferred:n},n.promise()}if(!e.length&&!t.length)return Dl();const n=Object.keys(Nl);return Ll={},Bl=z.Pledge().then(()=>Fl||(()=>{const e=z();return Dl().then(()=>{const t=Fl=q.contextMenus.create({id:Zl,
contexts:["all"],title:"Tampermonkey",type:"normal",documentUrlPatterns:Ol},()=>{e.resolve(t)})}),e.promise()})()).then(()=>{if(t.length)return z.when(t.map(e=>((e,t)=>z.Pledge().then(()=>{const n=z();return Pl({id:e,parentId:Zl,contexts:["all"],title:"🛠 "+t,type:"normal",documentUrlPatterns:Ol},()=>n.resolve()),n.promise()}))(e.uuid,e.scriptName)))}).then(()=>((e,t)=>{const n=[];for(const t of e){const e=z();Pl({id:t.uuid,contexts:["all"],parentId:Zl,title:"🖱 "+en.getTranslation(t,"name"),
type:"normal",documentUrlPatterns:Ol},()=>e.resolve()),n.push(e.promise())}for(const e of t){const t=z();let r;try{const t=new RegExp("^"+ye(e.scriptName)+"[ -:+/]*");r=e.name.replace(t,"")}catch(e){a.warn(e)}const s={id:e.menuId,contexts:["all"],parentId:e.uuid,title:"🔧 "+(r||e.name),type:"normal",documentUrlPatterns:Ol};Pl(s,()=>t.resolve()),n.push(t.promise())}return z.when(n).then(()=>{})})(e,t)).always(()=>{const e=Ge(Object.keys(Ll),n,"notinfirst");e.length&&Vl.clean(e),Nl=Ll;const t=jl
;Bl=jl=void 0,t&&Vl.update(t).then(t.deferred.resolve)}),Bl}},zl=Vl,ql=q.FEATURES;let Ql;const Xl=36e5,Hl={check:(e,t,n)=>{if(!e&&ar.values.scriptUpdateCheckPeriod<=0)return z.Breach();let r,s,o=lo();return!e&&Date.now()-o.scripts<Math.max(ar.values.scriptUpdateCheckPeriod,Xl)?z.Breach():z.Pledge().then(()=>{const e=()=>{s=void 0;const e=en.getMessage("Script_Update"),t=en.getMessage("Waiting_for_sync_to_finish")+"...";s=Ss.show(e,t,vs("tampermonkey"),{timeout:6e4})};if(Cl.enabled){const n=z()
;return yn.once("syncFinished",()=>n.resolve()),Cl.sync(50,!1),t&&(r=k(e,500)),n.promise()}}).then(()=>{if(e)return;const t=z(),n=()=>{q.idle.queryState(ql.MISC.IDLE_TIMEOUT,e=>{"active"==e?k(n,1e3*Math.round(ql.MISC.IDLE_TIMEOUT/2)):r()})},r=()=>{let e;q.windows.getAll({},r=>{r.forEach(t=>{"fullscreen"===t.state&&(e=!0)}),e?k(n,1e3*ql.MISC.IDLE_TIMEOUT):t.resolve()})};return n(),t.promise()}).then(()=>{const e=z();return r&&(y(r),r=void 0),s&&s.cancel(),((e,t)=>{let n=0,r=0,s=0
;const o=en.getMessage("Script_Update"),i=en.getMessage("Check_for_userscripts_updates")+"...";e&&Ss.show(o,i,vs("tampermonkey"),{timeout:1e4});const l=pl.getUidList().map(e=>{let o,i;return(()=>{const{script:r,cond:s}=pl.getByUid(e);if(!r||!s)return a.warn("update: inconsistent script entry",e,r,s),z.Breach();if(o=r,o.deleted)return z.Breach();const l=t&&o.uuid!==t,c=!ar.values.scriptUpdateCheckDisabled&&!o.enabled&&!t||!o.options.check_for_updates
;if(l||c||!(i=ma.determineSourceURL(o)))return z.Breach();if(o.evilness&&o.evilness>=Math.min(mo.SEVERITY_MAX,ar.values.script_blacklist_severity))return z.Breach();let A,u;return(A=ma.determineOrigin(o))&&(u=cs[A.token])&&!u.updates(i)?z.Breach():(n++,a.info("update: check for script updates @",e),z.Pledge())})().then(()=>{const e=ma.determineMetaURL(o);if(!e)return z.Pledge(void 0);if("none"==e)return a.debug("update: ignore non-updatable script",o.name),z.Breach();const t=z(),n={method:"GET",
retries:ql.XMLHTTPREQUEST.RETRIES,timeout:1e3*ql.SCRIPT_DOWNLOAD.TIMEOUT,revalidate:!0,headers:{Accept:"text/x-userscript-meta, */*"},url:e};return Fn(n,{ondone:n=>{let r;var s;4==n.readyState&&200==n.status&&n.responseText?(s=n.responseText,r=es(s)):a.warn("update: unable to find meta data @ "+e+" req.status = "+n.status),t.resolve(r)}}),t.promise()}).then(e=>e&&e.version&&o.version&&ns(e.version,o.version)!=ns.eNEWER?(a.verbose("update: version of script "+o.name+" has NOT changed."),
z.Breach()):(a.verbose("update: version of script "+o.name+" has changed or doesn't exist -> running version check!"),z.Pledge())).then(()=>{let e;if(i&&(e=xt(i))){if(e.protocol.match(/(https?|file):/))return Vs(i).fail(()=>{a.warn("update: failed",o.name,i)});a.warn("update: can't download URL",o.name,i)}else a.warn("update: can't parse URL",o.name,i)}).then(e=>{if(e&&((e,t)=>{const n=rs(t);if(!n||!n.name||void 0===n.version)return ns.eERROR;let r;if(r=pl.getMetaByUid(e)){if(r.system)return
;return n.version==r.version?ns.eEQUAL:ns(n.version,r.version)}return ns.eNEWER})(o.uuid,e)==ns.eNEWER){r++;const t={name:en.getTranslation(o,"name"),url:i,code:e};return z.Pledge(t)}return z.Breach()}).then(e=>{if(ar.values.notification_silentScriptUpdate)return z.Pledge(e);{const t=en.getMessage("There_is_an_update_for_0name0_avaiable_",e.name)+"\n"+en.getMessage("Click_here_to_install_it_"),n=en.getMessage("Just_another_service_provided_by_your_friendly_script_updater_")+":",r=z()
;return Ss.show(n,t,vs("tampermonkey"),{timeout:ar.values.scriptUpdateHideNotificationAfter},t=>r.resolve(t.clicked?e:void 0)),r.promise()}}).then(t=>{const n=e||o.uuid;return t?ma.doSave({url:t.url,uuid:n,replace:!n,src:t.code,ask:!ar.values.notification_silentScriptUpdate}).done(e=>{e&&e.installed&&s++}):z.Breach()})});return n&&Rn.all("status",{key:"script_update",class:"information",title:o,text:i,timeout:1e4}),z.sidebyside(l).then(()=>(l.length&&0==r&&(a.debug("No update found"),
e&&Ss.show("Narf!",en.getMessage("No_update_found__sry_"),vs("tampermonkey"),{timeout:1e4}),Rn.all("status",{key:"script_update",class:"information",text:en.getMessage("No_update_found__sry_"),timeout:1e4})),{found:r,installed:s}))})(t,n).done(t=>{e.resolve(t.installed)}).fail(()=>{e.resolve(void 0)}),o=lo(),o.scripts=Date.now(),co(o),e.promise()})},init:()=>{const e=()=>{Ql&&(y(Ql),Ql=void 0),ar.values.scriptUpdateCheckPeriod>0&&(Ql=k(()=>{Ql=void 0,Hl.check(),e()},Xl))};e(),
ar.addChangeListener("scriptUpdateCheckPeriod",e)}},Wl=Hl;_.trup=Wl;const Yl=Wl,Jl={},Kl=(e,t)=>{const n=Jl[e]=Jl[e]||{};return n[t]=n[t]||{}},$l=e=>{const t={};for(const n of Object.keys(Jl).map(Number))t[n]=Jl[n][e];return t},ec=e=>{delete Jl[e]},tc=q.FEATURES,nc=12096e5,rc=["contributed","later","hide"];let sc;const oc={init:()=>{let e;sc=le.getValue(tc.CONSTANTS.STORAGE.BEGGING);const t=Date.now();sc?(e=parseInt(le.getValue(tc.CONSTANTS.STORAGE.LAST_START,"0")))&&t-e>nc&&(sc.later={
type:"after_pause",ts:t},oc.save()):(sc={first_run:{type:"from_init",ts:t}},oc.save())},save:()=>{sc&&le.setValue(tc.CONSTANTS.STORAGE.BEGGING,sc)},needed:()=>{const e=Date.now(),t=!sc.first_run||sc.first_run.ts+nc<e,n=!sc.hide,r=!sc.contributed,s=!sc.later||sc.later.ts+nc<e;if(!tc.RUNTIME.SAFARI&&t&&n&&r&&s)return sc.later?"l":"i"},clicked:(e,t,n)=>{Pr("clicked",e,t+n)},dialog:{shown:e=>{const t=Date.now();sc.dialog={ts:t,extra:e},oc.save(),Pr("dialog")}},button:(()=>{const e={}
;for(const t of rc)e[t]=(e,n)=>{const r=Date.now();sc[t]={ts:r,type:e,extra:n},oc.save(),Pr("button",t)};return e})()},ac=oc,ic=q.FEATURES;let lc=[];const cc={add:({tabId:e,name:t,uuid:n,accessKey:r,menuId:s,scriptName:o,response:a})=>{lc.push({tabId:e,name:t,uuid:n,accessKey:r,menuId:s,scriptName:o,response:a})},list:()=>lc,listByTabId:e=>{const t={};return lc.filter(n=>{const r=n.uuid+n.name;return n.tabId==e&&!t[r]&&(t[r]=!0)})},clearByTabId:e=>{lc=lc.filter(t=>t.tabId!=e)},
getByTabId:e=>lc.filter(t=>t.tabId==e)[0],clearById:e=>{lc=lc.filter(t=>t.menuId!=e)},getById:e=>lc.filter(t=>t.menuId==e)[0],convertToMenuItems:e=>{const t={},n=null==e||null==e?cc.list():cc.listByTabId(e);for(const e of n){const n={name:e.name,uuid:e.uuid,id:e.menuId,accessKey:e.accessKey,image:"menu_cmd",menucmd:!0};(t[e.uuid]=t[e.uuid]||[]).push(n)}return t}
},Ac=cc,uc=q.FEATURES,dc={},pc={},hc=("TM_"+Ie().substr(0,5)).toLowerCase(),mc=["content-security-policy","x-content-security-policy","x-webkit-csp"],fc="feature-policy",gc="x-frame-options",vc=q.webRequest.extraHeaderNeeded,_c=(e,t)=>e.split(",").map(e=>{let n,r,s,o;const i=[],l=[];let c;const A=e.split(";");let u,d;if(A.forEach((e,t)=>{
0===e.search(/^\s*script-src /)?r=t:0===e.search(/^\s*default-src /)?s=t:0===e.search(/^\s*img-src /)?o=t:0===e.search(/^\s*trusted-types /)||0===e.search(/^\s*require-trusted-types-for /)?l.push(t):0===e.search(/^\s*frame-ancestors /)&&i.push(t)}),void 0!==s&&void 0===r&&(n=!0,A.push(A[s].replace(/default-src /,"script-src ")),r=A.length-1,a.verbose("webRequest: add script-src CSP",t)),void 0!==s&&void 0===o&&(n=!0,A.push(A[s].replace(/default-src /,"img-src ")),o=A.length-1,
a.verbose("webRequest: add img-src CSP",t)),void 0!==o&&(d=!1,u=A[o],-1==u.search(/data:/)&&(d=!0,u=u.replace(/img-src /,"img-src data: ")),-1!=u.search(/'none'/)&&(d=!0,u=u.replace(/ 'none'/,"")),d&&(a.verbose("webRequest: relaxing",A[o]," to ",u,t),A[o]=u,n=!0)),void 0!==r&&(d=!1,u=A[r],-1==u.search(/ 'unsafe-eval'(\s|$)/)&&(d=!0,u=u.replace(/script-src /,"script-src 'unsafe-eval' ")),-1!=u.search(/ 'none'(\s|$)/)&&(d=!0,u=u.replace(/ 'none'/,"")),
uc.RUNTIME.FIREFOX&&(-1==u.search(/ 'unsafe-inline'(\s|$)/)&&(d=c=!0,u=u.replace(/script-src /,"script-src 'unsafe-inline' ")),-1==u.search(/ 'strict-dynamic'(\s|$)/)&&-1!=u.search(/ '(nonce|sha[0-9]+)-[^']+'/)&&(d=!0,u=u.replace(/ '(nonce|sha[0-9]+)-[^']+'/g," *"))),d&&(a.verbose("webRequest: relaxing",A[r],u,t),A[r]=u,n=!0)),void 0!==s&&(d=!1,u=A[s],c&&-1!=u.search(/ 'self'/)&&(d=!0,A[s]=u.replace(/default-src /,"default-src blob: data: ")),d&&(a.verbose("webRequest: relaxing",u,t),n=!0)),
l.length){for(const e of l)A[e]="";n=!0}if(n&&uc.RUNTIME.FIREFOX&&i.length)for(const e of i)A[e]="";return n?A.filter(e=>e).join(";"):null}).filter(e=>e).join(",")||null,bc=e=>{if((e=>{let t;return uc.RUNTIME.CHROME&&uc.RUNTIME.BROWSER_VERSION>=63?t=e.initiator:uc.RUNTIME.FIREFOX&&(t=e.originUrl),t&&0!==(t+"/").indexOf(q.extension.getURL("/"))?t:null})(e))return;const t=[];let n,r,s=e.requestHeaders||[];const o={},a=new RegExp("^"+hc)
;return s=s.filter(s=>!s.name||0!=s.name.search(a)||(r=s.name.replace(a,""),o[r.toLowerCase()]=!0,"internal"==r?pc[e.requestId]=s.value:s.value&&t.push({name:r,value:we(s.value)}),void(n=!0))),n?{requestHeaders:s.filter(e=>!e.name||!o[e.name.toLowerCase()]).concat(t)}:void 0},wc=e=>{if(c.late)if("main_frame"==e.type){if(Fi.events.reset(e.tabId,!0),
e.tabId>0&&"POST"!=e.method&&"auto"==ar.values.scriptUrlDetection&&Ps(e.url))return a.verbose("webRequest: user script detected @ "+e.url+" -> open install page"),ma.installFromUrl(e.url,{},{silent_fail:!0}).fail(t=>{a.info("webRequest: user script detected @ "+e.url+" was invalid",t?t.messages:""),q.tabs.update(e.tabId,{url:e.url+"#bypass=true"},()=>{})}),{redirectUrl:"javascript:history.back()"}}else{let t,n;if((t=Fi.get.requests(e.tabId,e.frameId))&&(n=((e,t)=>{let n={};const r=e.url
;return Object.keys(t).forEach(e=>{const s=t[e];Object.entries(s.rules).some(([e,t])=>{let o,i,l;if(!(o=t.selector)||!(i=t.action))return;const c=s.id+"/"+e;if((l=Ys.get(c))||(l=Xs({inc:o.include,match:o.match,exc:o.exclude}),Ys.set(c,l)),Hs(r,l)){if(i.cancel)return a.log("webRequest: request was canceled by script "+s.uuid,r,t,s),s.callback&&s.callback({type:"cancel",details:{rule:t,url:r}}),n={cancel:!0},!0;if(i.redirect){const{url:e,from:o,to:l}=i.redirect;let c,A
;if(e)c=e;else if(o&&l&&(A=r.match(o))){A.shift();let e=l;A.concat(["","",""]).forEach((t,n)=>{e=e.replace("$"+(n+1),t||"")}),c=e}const u=e=>{a.warn("webRequest: error while request redirect by script "+s.uuid,r,t,s),s.callback&&s.callback({type:"redirect",message:"error",details:{description:e,rule:t,url:r,redirect_url:c}})};if(!c)return void u("unable to determine the redirect URL");c=Ut(c),ao(c)?ma.scriptWillRun(s.uuid,c)?(a.log("webRequest: request was redirected by script "+s.uuid,r,c,t,s),
s.callback&&s.callback({type:"redirect",details:{rule:t,url:r,redirect_url:c}}),n.redirectUrl=c):u("the redirect URL needs to be included by the scripts @include or @match tag"):u("the redirect URL is filtered by the security settings")}}})}),n})(e,t)))return n}else c.registerLateCallback(()=>{wc(e)})},kc=(e,t)=>{if(!c.late)return void c.registerLateCallback(()=>{kc(e,!0)});let n,r,s,o,i,l=e.responseHeaders||[];if("xmlhttprequest"==e.type){let t,n
;if(pc[e.requestId])return uc.XMLHTTPREQUEST.COOKIE_PASSTHROUGH||l.forEach(e=>{e.name&&e.value&&e.name.toLowerCase().includes("set-cookie")&&(l.push({name:"tm-setcookie"+q.runtime.short_id.toLowerCase(),value:e.value}),n=!0)}),(t=dc[e.requestId])&&(l.push({name:"tm-finalurl"+q.runtime.short_id.toLowerCase(),value:t}),n=!0),n?{responseHeaders:l}:void 0
;if(!uc.RUNTIME.FIREFOX||-1!==e.parentFrameId||-1!==e.tabId||!l.some(e=>e.name&&e.value&&"content-type"===e.name.toLowerCase()&&-1!=e.value.toLowerCase().indexOf("text/html")))return;a.log("webRequest: service worker cache request detected",e)}const A=uc.OPTIONS.HAS_CSP&&"remove"==ar.values.webrequest_fixCSP,u=A||uc.OPTIONS.HAS_CSP&&"yes"==ar.values.webrequest_fixCSP,d=u&&uc.RUNTIME.CHROME&&uc.RUNTIME.BROWSER_VERSION>=60,p=u&&uc.RUNTIME.FIREFOX;if(l.some(e=>{if(!e.name)return
;const t=e.name.toLowerCase();return r=r||"location"==t,u&&(s=s||mc.includes(t)),d&&(o=o||t==fc),p&&(i=i||t==gc),r}),r)return void a.verbose("webRequest: redirect found, skip script determination",e);let h,m,f;if("xmlhttprequest"==e.type){const{runners:t,contexters:n}=ka(e.frameId,e.url,Ze(e));h=t.length+n.length}else h=Fi.events.response(e.tabId,e.frameId,e.url,Ze(e));if(h&&(s||o||i)&&l.forEach((t,r)=>{if(!t.name||!t.value)return;const c=t.name.toLowerCase();if(s&&mc.includes(c))if(A)n=!0,
l[r]={name:t.name,value:void 0};else{const s=_c(t.value,e);null===s||(""===s?(n=!0,l[r]={name:t.name,value:void 0}):(n=!0,uc.RUNTIME.FIREFOX?(l[r]={name:t.name,value:void 0},t.name!==mc[1]&&l.push({name:mc[1],value:s})):l[r]={name:t.name,value:s}))}if(o&&c==fc){let s;(s=((e,t)=>{let n,r;const s=e.split(";");let o,i;return s.forEach((e,t)=>{0===e.search(/^\s*sync-xhr /)&&(r=t)}),void 0!==r&&(i=!1,o=s[r],-1!=o.search(/'none'/)&&(i=!0,o=o.replace(/ 'none'/," *")),
i&&(a.verbose("webRequest: relaxing",s[r],o,t),s[r]=o,n=!0)),n?s.join(";"):null})(t.value,e))&&(n=!0,l[r]={name:t.name,value:s})}i&&c==gc&&(l[r]={name:t.name,value:void 0})}),uc.RUNTIME.FAST_EXEC_SUPPORT&&["instant"].includes(ar.values.runtime_inject_mode)&&(!uc.RUNTIME.FIREFOX||e.cookieStoreId===q.cookies.DEFAULT_STORE_ID)&&(m=Fi.events.run(e.tabId,e.frameId,e.url,Ze(e)))&&(f=xt(e.url))){
const t=f.pathname+f.search,r="TM_"+q.runtime.short_id+ue(t.length+t).substr(0,255).replace(/[#=/]/g,"_")+Date.now(),s=Ra(m,e.url,Ze(e)),o=JSON.stringify(s),a=new Blob([o],{type:"binary/octet-stream"}),i=URL.createObjectURL(a);Fi.set.objurl(e.tabId,e.frameId,i),l.push({name:"set-cookie",value:r+"="+G(i)+"; max-age=15;"}),n=!0}
if(h&&!t&&q.webRequest.filterResponseData&&uc.OPTIONS.HAS_CSP&&["yes","remove"].includes(ar.values.webrequest_fixCSP)&&"yes"==ar.values.webrequest_fixContentCSP&&["main_frame","sub_frame"].includes(e.type)){let t;if(l.some(e=>{if(e.name&&e.value)return"content-type"==e.name.toLowerCase()&&"text/html"==e.value.split(";")[0].toLowerCase().trim()?(t=!0,!0):void 0}),t){const t=q.webRequest.filterResponseData(e.requestId);t.ondata=n=>{const r=new C("x-user-defined").decode(n.data,{stream:!0
}),s=new RegExp('(<head>[\\s\\S]*)(<meta[^>]+http-equiv="(?:'+mc.join("|")+')"[^>]*>)([\\s\\S]*?<\\/head>)',"i");let o;const a=r.replace(s,(t,n,r,s)=>{const a=new RegExp('(content=")([^">]+)(")');return n+r.replace(a,(t,n,r,s)=>{const a=_c(r||"",e);return null!==a&&(o=!0),n+(a||r)+s})+s});o?t.write(he(a)):t.write(n.data),t.disconnect()},t.onstop=()=>{t&&t.disconnect()}}}return n?(uc.RUNTIME.FIREFOX&&(l=l.filter(e=>"cache-control"!=e.name.toLowerCase()),l.push({name:"cache-control",
value:"no-cache, no-store, must-revalidate"})),l=l.filter(e=>void 0!==e.value),{responseHeaders:l}):void 0},Rc=e=>{const t=e.redirectUrl;if(t){if(dc[e.requestId]=t,pc[e.requestId]){const{tabId:n,frameId:r}=e;yn.emit("onRequestRedirect",{tabId:n,frameId:r,url:t})}}else a.warn("webRequest: onBeforeRedirect without redirectUrl",e)},yc=e=>{c.late?"xmlhttprequest"==e.type?(delete pc[e.requestId],
delete dc[e.requestId]):e.fromCache&&Fi.events.response(e.tabId,e.frameId,e.url,Ze(e)):c.registerLateCallback(()=>{yc(e)})},Ec=e=>{"xmlhttprequest"==e.type?(delete pc[e.requestId],delete dc[e.requestId]):Fi.events.reset(e.tabId,!0)},xc=e=>{try{const t=["http://*/*","https://*/*","ftp://*/*","file:///*"].concat(uc.RUNTIME.WEBREQUEST_WEBSOCKET?["ws://*/*","wss://*/*"]:[]);e?(q.webRequest.onBeforeRequest.addListener(wc,{urls:t,
types:["main_frame","sub_frame","script","xmlhttprequest",...uc.RUNTIME.WEBREQUEST_WEBSOCKET?["websocket"]:[]]},["blocking"]),q.webRequest.onHeadersReceived.addListener(kc,{urls:t,types:["main_frame","sub_frame","xmlhttprequest"]},["blocking","responseHeaders",...vc?["extraHeaders"]:[]]),uc.RUNTIME.WEBREQUEST_XHR_SUPPORT&&q.webRequest.onBeforeRedirect.addListener(Rc,{urls:t,types:["xmlhttprequest"]},[]),q.webRequest.onResponseStarted.addListener(yc,{urls:t,
types:["main_frame","sub_frame","xmlhttprequest"]},[]),q.webRequest.onErrorOccurred.addListener(Ec)):uc.RUNTIME.WEBREQUEST_XHR_SUPPORT&&"no"!=ar.values.webrequest_modHeaders&&q.webRequest.onBeforeSendHeaders.addListener(bc,{urls:t,types:["xmlhttprequest"]},["blocking","requestHeaders",...vc?["extraHeaders"]:[]]),q.webRequest.handlerBehaviorChanged()}catch(e){a.warn("webRequest: error initializings",e.message)}},Sc=e=>(()=>{const t=z();return"activate"==e?(q.browserAction.openPopup(),
t.resolve()):"toggle-enable"==e?(ar.values.enabled=!ar.values.enabled,t.resolve()):q.tabs.getSelected(null,n=>{if(!n)return void t.reject();let r;"open-dashboard"==e?r=q.extension.getURL("options.html")+"#nav=dashboard":"open-dashboard-with-running-scripts"==e?r=q.extension.getURL("options.html")+"#nav=dashboard&filter="+G(n.url):"open-new-script"==e&&(r=q.extension.getURL("options.html")+"#url="+ue(n.url)+"&nav=new-user-script"),t.resolve(r?{url:r,active:!0,parent:n}:void 0)}),t.promise()
})().then(e=>{e&&q.tabs.create(e)}),Tc="tm_content",Mc=q.extension.manifest.content_scripts[0].js,Uc=async()=>{["instant"].includes(ar.values.runtime_inject_mode)?await(async()=>{await new Promise(e=>{q.declarativeContent.onPageChanged.removeRules(void 0,()=>e())})})():await(async()=>{await new Promise(e=>{q.declarativeContent.onPageChanged.getRules([Tc],async t=>{if(t.length)return e();q.declarativeContent.onPageChanged.addRules([{id:Tc,conditions:[new q.declarativeContent.PageStateMatcher({
pageUrl:{urlContains:"://"}})],actions:[new q.declarativeContent.RequestContentScript({js:Mc})]}],()=>e())})})})()},Gc=q.FEATURES,Ic=q.FEATURES,Cc=(e,t)=>{const n=e||"",r=t||{},s=e=>z.onebyone(e).fail(()=>{a.warn("tree: wait failed!")}).then(e=>e.filter(e=>e).reduce((e,t)=>e.concat(t),[])),o=(e,t)=>{const n=e.replace(/\.$/,"").split(".");let s=i;for(;n.length;){const o=n.shift();if(void 0===o)throw Error("invalid path segment");const i=s[o];if(!i)return a.warn("tree: unable to find",e,r),
()=>z.Pledge([]);if("function"==typeof i)return()=>i(r,!t);s=i,n.length||n.unshift("root")}return a.warn("tree: unable to find",e,r),()=>z.Pledge([])},i={actions:{root:e=>{const t=z();return q.tabs.getSelected(null,n=>{n&&n.id>=0?r.tab=n:e&&e.tabId&&(r.tab={id:e.tabId,index:-1,url:"",windowId:-1});const a=s([o("actions.general"),o("actions.scripts"),o("actions.commands")]);t.consume(a)}),t.promise()},general:()=>{
const e=r.tab,t=e?e.url:null,n=t&&t.length>4&&""==t.substr(0,4).replace(/file|http/,"")?t:"",s=[],o={name:"enabled",id:"enabled",sub_menu_item:!0,pos:"top",items:[],tabId:null==e?void 0:e.id};let a;o.items.push({name:en.getMessage("Enabled"),display:ar.values.enabled?void 0:"greyed",id:"enabled",button:!0,reload:!0,enabler:!0}),o.items=o.items.concat(Rn.actionStatus().map(e=>({options:e,globalhint:!0}))),s.push(o),!t||!Ps(t,!0)||(a=Ps(t))&&"manual"!=ar.values.scriptUrlDetection||o.items.push({
name:en.getMessage(a?"Install_this_script":"Try_to_install_as_script"),image:"script_download",id:"installFromUrl",data:{url:t},button:!0,reload:!0});const i={name:"about",id:"about",sub_menu_item:!0,pos:"bottom",items:[]};i.items.push({name:en.getMessage("Dashboard"),image:"utilities",url:q.extension.getURL("options.html")+"#"+["url="+ue(n),"nav=dashboard"].join("&"),
url_alt:(null==e?void 0:e.url)?q.extension.getURL("options.html")+"#"+["filter="+G(e.url),"url="+ue(n),"nav=dashboard"].join("&"):void 0,newtab:!0});const l="version="+q.extension.manifest.version+"&ext="+q.runtime.short_id;return i.items.push({image:"about",id:"about",urls:[{name:" "+en.getMessage("Help"),url:"https://www.tampermonkey.net/faq.php?"+l,newtab:!0},{name:" "+en.getMessage("Changelog"),url:"https://www.tampermonkey.net/changelog.php?"+l,newtab:!0},{social:!0,newtab:!0}]}),s.push(i),
z.Pledge(s)},scripts:{root:e=>{const t=r.tab,n=t?t.url:null,s=[],o=n?xt(n):null,a=o&&["http:","https:","file:"].includes(o.protocol)?Ut(o):"",i={name:"scripts",id:"scripts",sub_menu_item:!0,pos:"center",items:[]},l={},c={},A={},u={},d={},p=o?Ic.REQUESTS.INTERNAL_PAGE_PROTOCOLS.includes(o.protocol):null;if(t){const e=Fi.getUniqueScriptsForTab(t);Object.keys(e).forEach(t=>{const n=e[t];u[t]=n,d[t]="z"+n.name.toLowerCase()+n.position});const n=Fi.getScriptHistoryForTab(t)
;Object.keys(n).forEach(e=>{const t=n[e];l[e]=t.urls,c[e]=t.count,A[e]=t.all_time;let r=u[e];if(!r){const t=pl.getByUid(e);t.script&&t.cond&&!t.script.deleted?u[e]=r=t.script:u[e]=r={...os(),uuid:e,name:en.getMessage("This_script_was_deleted"),enabled:!0,deleted:Date.now(),textContent:"",resources:[],requires:[]}}d[e]="a"+r.name.toLowerCase()+r.position})}let h
;h="position"==ar.values.action_menu_scripts_sort?(e,t)=>e.position-t.position:"name"==ar.values.action_menu_scripts_sort?(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0:"enabled"==ar.values.action_menu_scripts_sort?(e,t)=>1e4*(e.enabled?0:1)+e.position-(1e4*(t.enabled?0:1)+t.position):(e,t)=>d[e.uuid].localeCompare(d[t.uuid]);const m=Object.values(u).sort(h);let f=ua(m,{active_urls:l,active_counts:c,all_time_active_counts:A})
;const g=t?Ac.convertToMenuItems(t.id):{};let v;ar.values.action_menu_scripts_hide_disabled&&(f=f.filter(e=>e.enabled||c[e.uuid])),f.forEach(e=>{let t;(t=g[e.uuid])&&(e.menu_cmds=t)}),!ar.values.action_menu_scripts_hide_disabled&&Math.min(ar.values.action_menu_columns,(e?e.available_columns:null)||99)>2?(v={name:"scripts_right",id:"scripts_right",sub_menu_item:!0,pos:"right",items:[]},f.forEach(e=>{e.enabled||c[e.uuid]?i.items.push(e):v.items.push(e)}),s.push(i),v.items.length&&s.push(v)):(v=i,
i.items=i.items.concat(f),s.push(i)),ar.values.enabled&&!f.length&&n&&(p?i.items.push({name:en.getMessage("Tampermonkey_has_no_access_to_this_page"),image:"no_script",class:"disabled"}):ao(n)?i.items.push({name:en.getMessage("No_script_is_running"),image:"no_script",class:"disabled"}):i.items.push({name:en.getMessage("This_page_is_blacklisted_at_the_security_settings"),image:"critical",class:"disabled"}));const _=en.getLocale();if(ar.values.enabled){let e;f.length?(e={name:"scripts_new",
id:"scripts_new",sub_menu_item:!0,pos:"center",items:[]},s.push(e)):e=i;const t=!!ar.values.userscript_search_url,n=ar.values.userscript_search_mode;t&&a&&"click"==n?e.items.push({name:en.getMessage("Search_for_userscripts_for_this_tab"),image:"script_search",data:{url:a},id:"script_search",button:!0}):t&&a&&["action_menu","badge"].includes(n)?e.items.push({name:en.getMessage("Searching_for_userscripts_for_this_tab"),image:"script_search",data:{url:a},id:"script_search",class:"disabled",
partial:!0,referrer:"actions.script_search"}):e.items.push({name:en.getMessage("Get_new_scripts___"),image:"script_search",url:"https://www.tampermonkey.net/scripts.php"+(_?"?locale="+_:""),newtab:!0}),e.items.push({name:en.getMessage("Add_new_script___"),image:"script_add",url:q.extension.getURL("options.html")+"#nav=new-user-script"+(p?"":"&url="+ue(a)),newtab:!0})}return z.Pledge(s)}},script_search:{root:async e=>{let t;const n=null==e?void 0:e.url;let r,s;return t=n?await Qn(n):{count:0},
t.error||!t.url?(r=en.getMessage("Search_for_userscripts_for_this_tab"),s={url:n}):(r=t.count?en.getMessage("Found_0count0_available_scripts",t.count):en.getMessage("No_available_scripts"),s={result_url:t.url}),[{name:r,data:s,button:!0,image:"script_search",id:"script_search"}]}},commands:()=>{const e=[],t={name:"commands",id:"commands",sub_menu_item:!0,pos:"left",items:[]},n={name:en.getMessage("Utilities"),id:"commands",sub_menu_item:!0,more_menu:!0,pos:"left",items:[]};if(n.items.push({
name:en.getMessage("Check_for_userscripts_updates"),id:"run_script_updates",button:!0,image:"update"}),ar.values.configMode>=80&&n.items.push({name:en.getMessage("Report_a_bug"),image:"bug",url:"https://www.tampermonkey.net/bug",newtab:!0}),ar.values.configMode>=50){let e,t,s,o;["black","black+white"].includes(ar.values.page_filter_mode)&&(e=r.tab)&&(t=e.url)&&(s=xt(t))&&!Ic.REQUESTS.INTERNAL_PAGE_PROTOCOLS.includes(s.protocol)&&(o=s.hostname)&&ao(t)&&n.items.push({
name:en.getMessage("Blacklist_0domain0",o),image:"no",button:!0,id:"blacklist_page",data:{domain:o}})}return Ic.RUNTIME.SAFARI||t.items.push({name:en.getMessage("Please_consider_a_contribution"),image:"contrib",button:!0,id:"contrib"}),t.items.push(n),e.push(t),z.Pledge(e)}},options:{root:()=>s([o("options.general"),o("options.verification"),o("options.scripts"),o("options.settings"),o("options.trash")]),general:function(){let e,t,n=[]
;return q.extension.inIncognitoContext&&"temporary"==ar.values.incognito_mode?n.push({globalhint:!0,options:{id:"incognito",image:"critical",text:en.getMessage("All_modifications_are_only_kept_until_this_incognito_session_is_closed_")}}):(e=Rn.optionsStatus().map(e=>({globalhint:!0,options:e})))&&e.length?n=n.concat(e):(t=Ns.updateAvailable())&&n.push({globalhint:!0,options:{id:"extensionupdate",image:"info",class:"information",
text:en.getMessage("0name0_0version0_is_available__Please_re_start_your_browser_to_update_",q.extension.manifest.name,t)}}),z.Pledge(n)},verification:()=>{const e=[];return ds.forEach(t=>{e.push({globalhint:!0,options:{image:"critical",class:"warning",text:t.text,title:t.description,info_url:t.url}})}),z.Pledge(e)},scripts:{root:(e,t)=>{const n=z(),r={name:en.getMessage("Installed_userscripts"),main_menu_item:!0,id:"dashboard"}
;return((null==e?void 0:e.complete)||!t?s(["options.scripts.userscripts","options.scripts.new"].map(e=>o(e))):(r.referrer="options.scripts",r.partial=!0,s([o("options.scripts.new")]))).done(e=>{r.items=e,n.resolve([r])}).fail(n.reject),n.promise()},new:()=>{const e=[];return e.push({id:"new-script",name:en.getMessage("New_userscript"),image:"script_add",icon:gs("unknown"),nnew:!0,uuid:"new-user-script",position:-1,positionof:Ic.RUNTIME.MAX_SCRIPTS,enabled:!0,userscript:!0}),z.Pledge(e)},
userscripts:{root:(e,t)=>{const n=(null==e?void 0:e.complete)||!t?void 0:"options.scripts.userscripts",r=ma.determineScriptsToRun().filter(e=>!e.deleted),s=ua(r,{options_page:!0,referrer:n}),o=s.length,a=en.getLocale();return s.push({id:"no-script-installed",name:en.getMessage("No_script_is_installed"),image:"info",class:"disabled",visible:!o}),s.push({id:"get-some-scripts",name:en.getMessage("Get_some_scripts___"),image:"edit_add",
url:"https://www.tampermonkey.net/scripts.php"+(a?"?locale="+a:""),newtab:!0,visible:!o}),z.Pledge(s)},matches:e=>{const{filter:t,uuid:n}=e||{};let r;if(!t||!t.code)return z.Pledge([]);const s=/\/(.*)\/(.*)/.exec(t.code);if(!s)return z.Pledge([]);const o=new RegExp(s[1],s[2]);if(n){const e=pl.getByUid(n);e.script&&e.cond&&(r=[e.script])}else r=ma.determineScriptsToRun().filter(e=>!e.deleted);if(r){const e=r.map(e=>-1!=e.textContent.search(o)?e.uuid:null).filter(e=>e);return z.Pledge(e)}
return z.Pledge([])},source:e=>{if(!(null==e?void 0:e.uuid))return z.Pledge([]);const t=pl.getByUid(e.uuid);if(t.script&&t.cond){let e;return e=ar.values.showFixedSrc?Ea.mkCompat(t.script.textContent,t.script,"off"!=ar.values.runtime_strict_mode):t.script.textContent,z.Pledge([e])}return a.warn("tree: unable to process ",t),z.Breach()},storage:e=>(null==e?void 0:e.uuid)?z.Pledge([pl.getStorageByUid(e.uuid)]):z.Pledge([]),external:e=>{const{uuid:t,url:n}=e||{};if(!t)return z.Pledge([])
;const r=pl.getByUid(t);if(r.script&&r.cond){let e;return[...r.script.requires,...r.script.resources].some(r=>{const s=r.url||Et(r.unsafe_url,r.abs_url);if(!s||s!=n)return;const o=xo.getElement(t,s);return o&&o.data&&o.data.content?(e=o.data.content,!0):void 0}),z.Pledge([e])}return a.warn("tree: unable to process ",r),z.Breach()}}},trash:(()=>{const e="off"===ar.values.trash_mode?[]:ma.determineScriptsToRun().filter(e=>e.deleted);return{root:(t,n)=>{const r=z(),a={name:en.getMessage("Trash"),
main_menu_item:!0,hidden:!e.length,id:"trash",items:[]};return((null==t?void 0:t.complete)||!n?s(["options.trash.userscripts"].map(e=>o(e))):(a.referrer="options.trash",a.partial=!0,z.Pledge([]))).done(e=>{a.items=e,r.resolve([a])}).fail(()=>r.reject()),r.promise()},userscripts:{root:(t,n)=>{const r=(null==t?void 0:t.complete)||!n?void 0:"options.trash.userscripts",s=ua(e,{options_page:!0,referrer:r});return z.Pledge(s)}}}})(),settings:(e,t)=>{const n=z(),r={name:en.getMessage("Settings"),
main_menu_item:!0,id:"settings",selected_default:!0,items:[]};return((null==e?void 0:e.complete)||!t?z.Pledge((()=>{const e=_.Tests,t={id:"general",name:en.getMessage("General"),sub_menu_item:!0,items:[]};t.items.push({name:en.getMessage("Config_Mode"),id:"configMode",level:0,option:!0,select:[{name:en.getMessage("Novice"),value:0},{name:en.getMessage("Beginner"),value:50},{name:en.getMessage("Advanced"),value:100}],value:ar.values.configMode,
desc:en.getMessage("Changes_the_number_of_visible_config_options")}),t.items.push({name:en.getMessage("Language"),id:"i18n",level:0,option:!0,reload:!0,warning:en.getMessage("A_reload_is_required"),select:[{name:"Browser Default",value:null},...en.supported],value:ar.values.i18n,validation:{image:"info",opacity:.9,msg:en.getMessage("Your_language_is_not_supported__Click_here_to_get_intructions_how_to_translate_TM_"),url:"https://www.tampermonkey.net/faq.php#Q500"}}),t.items.push({
name:en.getMessage("Auto_reload_on_script_enabled"),level:20,id:"autoReload",option:!0,checkbox:!0,enabled:ar.values.autoReload,desc:en.getMessage("Auto_reload_on_script_enabled_desc")}),t.items.push({name:en.getMessage("Anonymous_statistics"),level:0,id:"statistics_enabled",option:!0,checkbox:!0,enabled:!!ar.values.statistics_enabled,validation:{image:"info",opacity:.9,msg:en.getMessage("Allow_Tampermonkey_to_collect_anonymous_statistics_via_Google_Analytics"),
url:"https://www.tampermonkey.net/privacy.php#extension"}}),t.items.push({name:en.getMessage("Debug_scripts"),level:100,id:"debug",option:!0,checkbox:!0,enabled:ar.values.debug,desc:""}),t.items.push({name:en.getMessage("Show_fixed_source"),level:100,id:"showFixedSrc",option:!0,checkbox:!0,enabled:ar.values.showFixedSrc,desc:""}),t.items.push({name:en.getMessage("LogLevel"),id:"logLevel",level:0,option:!0,select:[...Gc.RUNTIME.SAFARI?[{name:en.getMessage("Verbose"),value:90}]:[],{
name:en.getMessage("Debug"),value:80},{name:en.getMessage("Info"),value:60},{name:en.getMessage("Warning"),value:30},{name:en.getMessage("Error"),value:0}],value:ar.values.logLevel,desc:""}),t.items.push({name:en.getMessage("Trash_Mode"),id:"trash_mode",level:50,option:!0,select:[{name:en.getMessage("Enabled"),value:"on"},{name:en.getMessage("Disabled"),value:"off"},{name:en.getMessage("Clean_after_session"),value:"session"}],value:ar.values.trash_mode});const n={id:"script_sync",
name:en.getMessage("Script_Sync"),sub_menu_item:!0,level:50,need_save:!0,items:[]};n.items.push({name:en.getMessage("Enable_Script_Sync"),id:"sync_enabled",enabler:!0,level:50,option:!0,checkbox:!0,enabled:ar.values.sync_enabled,desc:en.getMessage("Synchronize_your_scripts_across_browsers_and_operation_systems")});const r=(()=>{const e=[],t={reset_sync:!0,cloud_url:!1,cloud_user:!1,cloud_pass:!1};return q.storage.sync.supported&&e.push({name:en.getMessage("Browser_Sync"),value:$i.eCHROMESYNC,
enable:t}),e.push({name:en.getMessage("Google_Drive"),value:$i.eGDRIVE,enable:t}),Gc.RUNTIME.CHROME&&Gc.RUNTIME.BROWSER_VERSION<37||Gc.RUNTIME.SAFARI&&Gc.RUNTIME.BROWSER_VERSION<8?a.info("Script Sync: no Dropbox support due to missing SHA-256 capabilities"):e.push({name:en.getMessage("Dropbox"),value:$i.eDROPBOX,enable:t}),e.push({name:en.getMessage("OneDrive"),value:$i.eONEDRIVE,enable:t}),Gc.RUNTIME.SAFARI||(e.push({name:en.getMessage("Yandex_Disk"),value:$i.eYANDEX,enable:t}),e.push({
name:en.getMessage("WebDAV"),value:$i.eWEBDAV,enable:{reset_sync:!0,cloud_url:!0,cloud_user:!0,cloud_pass:!0}})),e})();n.items.push({name:en.getMessage("Sync_Type"),id:"sync_type",enabler:!0,level:50,option:!0,select:r,value:ar.values.sync_type}),n.items.push({name:en.getMessage("URL"),id:"cloud_url",enabledBy:"sync_type",level:50,option:!0,text:!0,width:2,value:ar.values.cloud_url}),n.items.push({name:en.getMessage("Login"),id:"cloud_user",enabledBy:"sync_type",level:50,option:!0,text:!0,
width:2,value:ar.values.cloud_user}),n.items.push({name:en.getMessage("Password"),id:"cloud_pass",enabledBy:"sync_type",level:50,option:!0,text:!0,password:!0,width:2,value:ar.values.cloud_pass}),n.items.push({name:en.getMessage("Sync_Now"),id:"run_sync",enabledBy:"sync_enabled",level:80,button:!0,reload:!0}),n.items.push({name:en.getMessage("Sync_Reset"),id:"reset_sync",enabledBy:"sync_enabled",level:80,button:!0,reload:!0,warning:en.getMessage("This_will_remove_all_remote_data_from_sync_Ok_")
});const s={id:"appearance",name:en.getMessage("Appearance"),sub_menu_item:!0,need_save:!0,items:[],warning:en.getMessage("A_reload_is_required"),reload:!0};s.items.push({name:en.getMessage("Layout"),id:"layout",level:0,option:!0,select:ms.map(e=>{const{name:t,theme:n,layout:r}=e;return{name:t,value:n?[r,n].join("#"):r}}),value:ar.values.layout,desc:""}),s.items.push({name:en.getMessage("Custom_CSS"),id:"layout_user_css",level:100,option:!0,input:!0,value:ar.values.layout_user_css,
desc:en.getMessage("You_can_add_your_custom_CSS_rules_here_")}),s.items.push({name:en.getMessage("Update_Notification"),id:"notification_showUpdate",level:50,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{name:en.getMessage("Show_notification"),value:"notification"},{name:en.getMessage("Open_changelog"),value:"changelog"}],value:ar.values.notification_showUpdate,validation:"off"==ar.values.notification_showUpdate?{image:"critical",
msg:en.getMessage("Are_you_sure_that_you_don_t_want_to_be_notified_of_updates_")}:void 0}),s.items.push({name:en.getMessage("Favicon_Service"),id:"favicon_service",level:50,option:!0,select:[{name:en.getMessage("Google"),value:"google"},{name:en.getMessage("DuckDuckGo"),value:"duckduckgo"},{name:en.getMessage("Native"),value:"native",warning:en.getMessage("Warning_unsafe_site_warnings_might_appear_")}],value:ar.values.favicon_service});const o={id:"action_menu",name:en.getMessage("Action_Menu"),
sub_menu_item:!0,need_save:!0,items:[],level:50};o.items.push({name:en.getMessage("Hide_disabled_scripts"),id:"action_menu_scripts_hide_disabled",level:100,option:!0,checkbox:!0,enabled:ar.values.action_menu_scripts_hide_disabled,desc:""}),o.items.push({name:en.getMessage("Columns"),id:"action_menu_columns",level:50,option:!0,select:[{name:en.getMessage("1"),value:1},{name:en.getMessage("2"),value:2},{name:en.getMessage("3"),value:3}],value:ar.values.action_menu_columns}),o.items.push({
name:en.getMessage("Script_order"),id:"action_menu_scripts_sort",level:50,option:!0,select:[{name:en.getMessage("Auto"),value:"auto"},{name:en.getMessage("Position_"),value:"position"},{name:en.getMessage("Name"),value:"name"},{name:en.getMessage("Enabled"),value:"enabled"}],value:ar.values.action_menu_scripts_sort}),o.items.push({name:en.getMessage("Icon_badge_info"),id:"appearance_badges",level:50,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{
name:en.getMessage("Running_scripts"),value:"running"},{name:en.getMessage("Unique_running_scripts"),value:"running_unique"}],value:ar.values.appearance_badges}),(Gc.RUNTIME.CHROME||Gc.RUNTIME.FIREFOX)&&o.items.push({name:en.getMessage("Icon_badge_color"),id:"appearance_badge_color",option:!0,level:100,color:!0,value:ar.values.appearance_badge_color}),Gc.RUNTIME.FIREFOX&&o.items.push({name:en.getMessage("Icon_badge_text_color"),id:"appearance_badge_text_color",option:!0,level:100,color:!0,
value:ar.values.appearance_badge_text_color});const i={id:"context_menu",name:en.getMessage("Context_Menu"),sub_menu_item:!0,items:[],level:50};let l;i.items.push({name:en.getMessage("Enable_context_menu"),id:"context_menu_enabled",level:50,option:!0,checkbox:!0,enabled:ar.values.context_menu_enabled,desc:""}),i.items.push({name:en.getMessage("Scripts_activated_by_context_menu"),id:"context_menu_scripts",level:50,option:!0,checkbox:!0,enabled:ar.values.context_menu_scripts,desc:""}),
i.items.push({name:en.getMessage("Script_menu_commands"),id:"context_menu_commands",level:50,option:!0,checkbox:!0,enabled:ar.values.context_menu_commands,desc:""}),ar.values.userscript_search_url&&(l={id:"userscript_search",name:en.getMessage("Userscript_Search"),sub_menu_item:!0,level:0,items:[],reload:!0},l.items.push({name:en.getMessage("Userscript_search_integration_mode"),id:"userscript_search_mode",level:0,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{
name:en.getMessage("On_Click"),value:"click"},{name:en.getMessage("On_Action_Menu"),value:"action_menu"},{name:en.getMessage("Add_to_icon_badge_text"),value:"badge"}],value:ar.values.userscript_search_mode,validation:{image:"info",opacity:.9,
msg:en.getMessage("In_order_to_search_for_userscripts__0on_action_menu0__and__0icon_badge_number0__automatically_transfer_the_tab_s_url_to_the_search_website__0on_click0_opens_the_search_page_on_click_Please_click_at_this_icon_to_open_the_privacy_policy_",en.getMessage("Add_to_icon_badge_text"),en.getMessage("On_Action_Menu"),en.getMessage("On_Click")),url:Hn()}}));const c={id:"editor",name:en.getMessage("Editor"),sub_menu_item:!0,level:20,need_save:!0,items:[],
warning:en.getMessage("A_reload_is_required"),reload:!0};c.items.push({name:en.getMessage("Enable_Editor"),id:"editor_enabled",level:100,option:!0,checkbox:!0,enabled:ar.values.editor_enabled,desc:""}),c.items.push({name:en.getMessage("Theme"),id:"editor_theme",level:50,option:!0,select:Object.keys(fs).map(e=>({name:fs[e]||e,value:e})),value:ar.values.editor_theme}),c.items.push({name:en.getMessage("Font_Size"),id:"editor_fontSize",level:50,option:!0,select:[{name:"50%",value:50},{name:"70%",
value:70},{name:"80%",value:80},{name:"90%",value:90},{name:"100%",value:100},{name:"110%",value:110},{name:"120%",value:120},{name:"150%",value:150}],value:ar.values.editor_fontSize}),c.items.push({name:en.getMessage("Key_Mapping"),id:"editor_keyMap",level:50,option:!0,select:[{name:en.getMessage("Windows"),value:"windows"},{name:en.getMessage("Sublime"),value:"sublime"},{name:en.getMessage("Emacs"),value:"emacs"},{name:en.getMessage("Vim"),value:"vim"}],value:ar.values.editor_keyMap}),
c.items.push({name:en.getMessage("Indentation_Width"),id:"editor_indentUnit",level:50,option:!0,select:[{name:en.getMessage("1"),value:1},{name:en.getMessage("2"),value:2},{name:en.getMessage("3"),value:3},{name:en.getMessage("4"),value:4},{name:en.getMessage("5"),value:5},{name:en.getMessage("6"),value:6},{name:en.getMessage("7"),value:7},{name:en.getMessage("8"),value:8},{name:en.getMessage("9"),value:9},{name:en.getMessage("10"),value:10},{name:en.getMessage("11"),value:11}],
value:ar.values.editor_indentUnit,desc:""}),c.items.push({name:en.getMessage("Tab_Size"),id:"editor_tabSize",level:50,option:!0,select:[{name:en.getMessage("1"),value:1},{name:en.getMessage("2"),value:2},{name:en.getMessage("3"),value:3},{name:en.getMessage("4"),value:4},{name:en.getMessage("5"),value:5},{name:en.getMessage("6"),value:6},{name:en.getMessage("7"),value:7},{name:en.getMessage("8"),value:8},{name:en.getMessage("9"),value:9},{name:en.getMessage("10"),value:10},{
name:en.getMessage("11"),value:11}],value:ar.values.editor_tabSize,desc:""}),c.items.push({name:en.getMessage("Indent_with"),id:"editor_indentWithTabs",level:50,option:!0,select:[{name:en.getMessage("Tabs"),value:"tabs"},{name:en.getMessage("Spaces"),value:"spaces"}],value:ar.values.editor_indentWithTabs,desc:""}),c.items.push({name:en.getMessage("TabMode"),id:"editor_tabMode",level:50,option:!0,select:[{name:en.getMessage("Classic"),value:"classic"},{name:en.getMessage("Smart"),value:"smart"},{
name:en.getMessage("Indent"),value:"indent"}],value:ar.values.editor_tabMode,desc:""}),c.items.push({name:en.getMessage("Highlight_selection_matches"),id:"editor_highlightSelectionMatches",level:50,option:!0,select:[{name:en.getMessage("Cursor"),value:"cursor"},{name:en.getMessage("On"),value:"on"},{name:en.getMessage("Off"),value:"off"}],value:ar.values.editor_highlightSelectionMatches,desc:""}),c.items.push({name:en.getMessage("Line_break"),id:"editor_lineWrapping",level:50,option:!0,
checkbox:!0,enabled:ar.values.editor_lineWrapping,desc:""}),c.items.push({name:en.getMessage("Reindent_on_typing"),id:"editor_electricChars",level:50,option:!0,checkbox:!0,enabled:ar.values.editor_electricChars,desc:""}),c.items.push({name:en.getMessage("Enable_autoSave"),id:"editor_autoSave",level:20,option:!0,checkbox:!0,enabled:ar.values.editor_autoSave,desc:""}),c.items.push({name:en.getMessage("Enable_easySave"),id:"editor_easySave",level:20,option:!0,checkbox:!0,
enabled:ar.values.editor_easySave,desc:""}),c.items.push({name:en.getMessage("Highlight_trailing_whitespace"),id:"editor_highlightTrailingWhitespace",level:50,option:!0,checkbox:!0,enabled:ar.values.editor_highlightTrailingWhitespace,desc:""}),c.items.push({name:en.getMessage("Trim_trailing_whitespace_from_modified_lines"),id:"editor_trimTrailingSpacesFromModifiedLines",level:50,option:!0,checkbox:!0,enabled:ar.values.editor_trimTrailingSpacesFromModifiedLines,desc:""}),c.items.push({
name:en.getMessage("Auto_syntax_check_on_typing"),id:"editor_autoLint",level:50,option:!0,checkbox:!0,enabled:ar.values.editor_autoLint,desc:en.getMessage("Enable_this_option_to_automatically_check_the_code_on_typing_")}),c.items.push({name:en.getMessage("Auto_syntax_check_max_length"),id:"editor_autoLintMaxLen",level:50,option:!0,text:!0,value:ar.values.editor_autoLintMaxLen,desc:en.getMessage("Check_only_scripts_up_to_this_size_automatically_")}),c.items.push({
name:en.getMessage("Custom_Linter_Config"),id:"editor_linter_config",level:100,option:!0,input:!0,json:!0,value:ar.values.editor_linter_config,validation:{image:"info",opacity:.9,msg:en.getMessage("You_can_add_your_custom_linter_config_here_"),url:"https://eslint.org/docs/user-guide/configuring"}});const A={id:"script_update",name:en.getMessage("Script_Update"),sub_menu_item:!0,level:0,items:[]};A.items.push({name:en.getMessage("Check_disabled_scripts"),id:"scriptUpdateCheckDisabled",level:0,
option:!0,checkbox:!0,enabled:ar.values.scriptUpdateCheckDisabled,desc:""}),A.items.push({name:en.getMessage("Dont_ask_me_for_simple_script_updates"),id:"notification_silentScriptUpdate",level:80,option:!0,checkbox:!0,enabled:ar.values.notification_silentScriptUpdate,desc:""}),A.items.push({name:en.getMessage("Check_interval"),id:"scriptUpdateCheckPeriod",level:0,option:!0,select:[{name:en.getMessage("Never"),value:0},{name:en.getMessage("Every_6_Hours"),value:216e5},{
name:en.getMessage("Every_12_Hour"),value:432e5},{name:en.getMessage("Every_Day"),value:864e5},{name:en.getMessage("Every_Week"),value:6048e5}],value:ar.values.scriptUpdateCheckPeriod,desc:""}),A.items.push({name:en.getMessage("Hide_notification_after"),id:"scriptUpdateHideNotificationAfter",level:50,option:!0,select:[{name:en.getMessage("Never"),value:0},{name:en.getMessage("15_Seconds"),value:15e3},{name:en.getMessage("30_Seconds"),value:3e4},{name:en.getMessage("1_Minute"),value:6e4},{
name:en.getMessage("5_Minutes"),value:3e5},{name:en.getMessage("1_Hour"),value:36e5}],value:ar.values.scriptUpdateHideNotificationAfter,desc:""});const u={id:"externals",name:en.getMessage("Externals"),sub_menu_item:!0,level:0,items:[]};u.items.push({name:en.getMessage("Update_interval"),id:"external_update_interval",level:0,option:!0,select:[{name:en.getMessage("Always"),value:1},{name:en.getMessage("Every_Day"),value:864e5},{name:en.getMessage("Every_Week"),value:6048e5},{
name:en.getMessage("Every_Month"),value:2592e6},{name:en.getMessage("Never"),value:0}],value:ar.values.external_update_interval,desc:""});const d={id:"security",name:en.getMessage("Security"),sub_menu_item:!0,need_save:!0,level:50,items:[]};Gc.OPTIONS.HAS_CSP&&(d.items.push({name:en.getMessage("Add_TM_to_CSP"),id:"webrequest_fixCSP",level:80,option:!0,select:[{name:en.getMessage("Remove__possibly_unsecure_"),value:"remove"},{name:en.getMessage("Yes"),value:"yes"},{name:en.getMessage("No"),
value:"no"}],value:ar.values.webrequest_fixCSP,desc:en.getMessage("Tampermonkey_might_not_be_able_to_provide_access_to_the_unsafe_context_when_this_is_disabled")}),d.items.push({name:en.getMessage("Allow_headers_to_be_modified_by_scripts"),id:"webrequest_modHeaders",level:80,option:!0,reload:!0,select:[{name:en.getMessage("Yes"),value:"yes"},{name:en.getMessage("Auto"),value:"auto"},{name:en.getMessage("No"),value:"no"}],value:ar.values.webrequest_modHeaders,
warning:en.getMessage("Tampermonkey_needs_to_be_restarted_to_make_this_change_apply_Do_you_want_to_continue_"),desc:""})),d.items.push({name:en.getMessage("Default_tab_types_to_run_scripts_in"),id:"default_tab_types",level:80,option:!0,reload:!0,select:[{name:en.getMessage("Incognito_tabs"),value:"incognito"},{name:en.getMessage("Normal_tabs"),value:"normal"},{name:en.getMessage("All_tabs"),value:"incognito+normal"}],value:ar.values.default_tab_types}),
Gc.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS&&d.items.push({name:en.getMessage("Script_local_files_access"),id:"script_file_access",level:80,option:!0,select:[{name:en.getMessage("All_local_files"),value:"all"},{name:en.getMessage("require_and_resource"),value:"externals"},{name:en.getMessage("Disabled"),value:"off"}],value:ar.values.script_file_access}),d.items.push({name:en.getMessage("Allow_communication_with_cooperate_pages"),id:"external_connect",level:80,option:!0,reload:!0,select:[{
name:en.getMessage("Tampermonkey_and_script_version"),value:"all"},{name:en.getMessage("Tampermonkey_version"),value:"version"},{name:en.getMessage("Disabled"),value:"off"}],value:ar.values.external_connect,desc:en.getMessage("This_option_allows_the_Tampermonkey_homepage_and_some_script_hosting_pages_to_determine_the_Tampermonkey_version_and_whether_a_script_is_installed_")}),d.items.push({name:en.getMessage("Subresource_Integrity"),id:"require_sri_mode",level:80,option:!0,select:[{
name:en.getMessage("Disabled"),value:"ignore"},{name:en.getMessage("Validate_if_supported"),value:"supported"},{name:en.getMessage("Validate_if_given"),value:"given"},{name:en.getMessage("Enforce"),value:"enforce"}],value:ar.values.require_sri_mode,desc:en.getMessage("Script_authors_can_secure_external_resources_by_adding_a_SRI_hash_to_the_URL_")});let p=[];(ar.values.configMode>=80||["off","casual"].includes(ar.values.connect_mode))&&(p=p.concat([{name:en.getMessage("Disabled"),value:"off"},{
name:en.getMessage("Casual"),value:"casual"}])),p=p.concat([{name:en.getMessage("Ask_if_unknown"),value:"ask"},{name:en.getMessage("Strict"),value:"strict"},{name:en.getMessage("Always_ask"),value:"paranoid"}]),d.items.push({name:en.getMessage("Script_Include_Mode"),id:"script_include_mode",level:50,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{name:en.getMessage("Treat_like__match"),value:"match"},{name:en.getMessage("Unsafe"),value:"unsafe"},{name:en.getMessage("Default"),
value:"default"}],value:ar.values.script_include_mode,desc:en.getMessage("Using__include_is_potentially_unsafe_and_may_be_obsolete_soon___0off0_disables__include_completely__0match0__is_safe__but_may_not_compatible_the_script_developers_intention__0unsafe0__mostly_keeps_the_legacy_behavior_0default0__means__0used_default0",en.getMessage("Disabled"),en.getMessage("Treat_like__match"),en.getMessage("Unsafe"),en.getMessage("Default"),en.getMessage("Unsafe"))}),d.items.push({
name:en.getMessage("connect_mode"),id:"connect_mode",level:50,option:!0,select:p,value:ar.values.connect_mode,desc:""}),Gc.RUNTIME.INCOGNITO_MODE&&!q.extension.inIncognitoContext&&d.items.push({name:en.getMessage("Store_data_in_incognito_mode"),id:"incognito_mode",level:50,option:!0,select:[{name:en.getMessage("Temporary"),value:"temporary"},{name:en.getMessage("Permanent"),value:"permanent"}],value:ar.values.incognito_mode,validation:"temporary"==ar.values.incognito_mode?void 0:{
image:"critical",msg:"Permanent mode is still a BETA feature!"}}),d.items.push({name:en.getMessage("Page_Filter_Mode"),id:"page_filter_mode",level:50,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{name:en.getMessage("Blacklist"),value:"black"},{name:en.getMessage("Whitelist"),value:"white"},{name:en.getMessage("Both"),value:"black+white"}],value:ar.values.page_filter_mode,desc:""}),d.items.push({name:en.getMessage("Whitelisted_Pages"),id:"page_whitelist",level:50,option:!0,
input:!0,array:!0,value:ar.values.page_whitelist,desc:""}),d.items.push({name:en.getMessage("Blacklisted_Pages"),id:"forbiddenPages",level:50,option:!0,input:!0,array:!0,value:ar.values.forbiddenPages,desc:""});const h={id:"blackcheck",name:en.getMessage("BlackCheck"),sub_menu_item:!0,need_save:!0,level:50,items:[]};let m;if(h.items.push({name:en.getMessage("Script_Blacklist_Source"),id:"script_blacklist_type",level:50,option:!0,select:[{name:en.getMessage("Disabled"),value:"off"},{
name:en.getMessage("Server_And_Manual"),value:"server"},{name:en.getMessage("Only_Manual"),value:"only_manual"}],value:ar.values.script_blacklist_type}),h.items.push({name:en.getMessage("Blacklist_Severity"),id:"script_blacklist_severity",level:50,option:!0,select:[{name:en.getMessage("severity_1"),value:1},{name:en.getMessage("severity_2"),value:2},{name:en.getMessage("severity_3"),value:3},{name:en.getMessage("severity_4"),value:4},{name:en.getMessage("severity_5"),value:5},{
name:en.getMessage("severity_6"),value:6},{name:en.getMessage("severity_7"),value:7},{name:en.getMessage("severity_8"),value:8},{name:en.getMessage("severity_9"),value:9},{name:en.getMessage("severity_10"),value:mo.SEVERITY_MAX}],value:ar.values.script_blacklist_severity}),h.items.push({name:en.getMessage("Manual_Script_Blacklist"),id:"require_blacklist",level:50,option:!0,input:!0,array:!0,value:ar.values.require_blacklist,desc:""}),Gc.OPTIONS.CAN_DOWNLOAD){
const e=["exe","sh","crx","com","bat","scr"].map(e=>"name."+e).some(e=>ra.is_whitelisted(e));m={id:"downloads",name:en.getMessage("Downloads")+" BETA",sub_menu_item:!0,need_save:!0,level:50,items:[]},m.items.push({name:en.getMessage("Download_Mode"),id:"downloads_mode",level:50,option:!0,select:[{name:en.getMessage("Default"),value:ra.staticVars.DEFAULT},{name:en.getMessage("Disabled"),value:ra.staticVars.OFF},{name:en.getMessage("Native"),value:ra.staticVars.NATIVE},{
name:en.getMessage("Browser_API"),value:q.downloads.supported?ra.staticVars.CHROME:null}].filter(e=>e.value),value:ar.values.downloads_mode,desc:en.getMessage("The_Browser_API_mode_requires_a_special_permission_")}),m.items.push({name:en.getMessage("Whitelisted_File_Extensions"),id:"downloads_extension_whitelist",level:50,option:!0,input:!0,array:!0,value:ar.values.downloads_extension_whitelist,
desc:en.getMessage("Only_files_with_these_extensions_can_be_saved_to_the_harddisk_Be_careful_to_not_allow_file_extensions_that_represent_executables_at_your_operating_system_"),validation:e?{image:"critical",msg:en.getMessage("Your_whitelist_seems_to_include_executable_files_This_means_your_userscripts_may_download_malware_or_spyware_to_your_harddisk_")}:void 0})}const f={id:"experimental",name:en.getMessage("Experimental"),sub_menu_item:!0,level:80,items:[]}
;Gc.RUNTIME.FAST_EXEC_SUPPORT&&f.items.push({name:en.getMessage("Inject_Mode"),id:"runtime_inject_mode",level:80,option:!0,select:[{name:en.getMessage("Default"),value:"default"},{name:en.getMessage("Instant"),value:"instant"},{name:en.getMessage("Normal"),value:"normal"}],value:ar.values.runtime_inject_mode}),f.items.push({name:en.getMessage("strict_mode"),id:"runtime_strict_mode",level:80,option:!0,select:[{name:en.getMessage("Default"),value:"byscript"},{name:en.getMessage("Always"),
value:"on"},{name:en.getMessage("Disabled"),value:"off"}],value:ar.values.runtime_strict_mode}),f.items.push({name:en.getMessage("top_level_await"),id:"runtime_top_level_await",level:80,option:!0,select:[{name:en.getMessage("Default"),value:"default"},{name:en.getMessage("Enabled"),value:"on"},{name:en.getMessage("Disabled"),value:"off"}],value:ar.values.runtime_top_level_await}),q.webRequest.filterResponseData&&Gc.OPTIONS.HAS_CSP&&f.items.push({
name:en.getMessage("Add_Tampermonkey_to_the_site_s_content_csp"),id:"webrequest_fixContentCSP",level:80,option:!0,select:[{name:en.getMessage("Yes"),value:"yes"},{name:en.getMessage("No"),value:"no"}],value:ar.values.webrequest_fixContentCSP,warning:"Warning: enabling this option is may break pages!"});const g={id:"userscripts",name:en.getMessage("Userscripts"),sub_menu_item:!0,need_save:!0,level:80,items:[]};g.items.push({name:en.getMessage("Script_URL_detection"),id:"scriptUrlDetection",
level:80,option:!0,select:[{name:en.getMessage("Auto"),value:"auto"},{name:en.getMessage("Disabled"),value:"manual"}],value:ar.values.scriptUrlDetection}),g.items.push({name:en.getMessage("New_script_template_"),id:"script_templates",level:80,option:!0,input:!0,array:!0,named:!0,value:ar.values.script_templates});const v={id:"reset",name:en.getMessage("Reset_Section"),sub_menu_item:!0,level:50,items:[]};return v.items.push({name:en.getMessage("Restart_Tampermonkey"),id:"reset_simple",level:50,
button:!0,reload:!0,warning:en.getMessage("This_will_restart_Tampermonkey_Ok_")}),v.items.push({name:en.getMessage("Factory_Reset"),id:"reset_factory",level:80,button:!0,reload:!0,warning:en.getMessage("This_will_remove_all_scripts_and_reset_all_settings_Ok_")}),e&&v.items.push({name:"Install Tests",id:"install_tests",level:80,button:!0,reload:!1,ignore:!0,warning:"This will install a lot of test scripts!"}),[t,s,o,i,l,A,u,n,c,d,h,m,g,f,v].filter(e=>e)})()):(r.referrer="options.settings",
z.Pledge([]))).done(e=>{r.items=e,n.resolve([r])}).fail(n.reject),n.promise()}}};return a.debug("tree: loading",n,r),o(n,!0)()},Zc={};let Oc;const Fc=({tabId:e,frameId:t,url:n})=>{const r=Zc[e];r&&r.forEach(r=>{r({tabId:e,frameId:t,url:n})})};var Bc=e(2462),jc=e.n(Bc);const Nc=(()=>{let e,t,n=!1;const r=()=>{const e=z();return t=e,e};return{write:()=>{const t=z();return n=!1,e=new(jc()),t.resolve(e),t.promise()},open:s=>{const o=r();return n=!0,jc().loadAsync(s).then(t=>{e=t,o.resolve(e)},e=>{
t&&t.reject(e),o.reject(e)}),o.promise()},entries:()=>{const t=r(),n=e.files,s=Object.keys(n).map(e=>{const t=n[e];if(t&&!t.dir)return{filename:t.name}}).filter(e=>e);return t.resolve(s),t.promise()},get:t=>{const n=r(),s=e.file(t.filename);return s?s.async("arraybuffer").then(e=>{n.resolve(e)}):n.resolve(),n.promise()},put:(t,n,s)=>{const o=r();try{e.file(t,n,{date:s?new Date(s):void 0}),o.resolve()}catch(e){o.reject(e)}return o.promise()},end:()=>{const t=r()
;return n?t.reject():e.generateAsync({type:"blob",compression:"DEFLATE",comment:"Created by Tampermonkey"}).then(e=>t.resolve(e),e=>t.reject(e)),t.promise()}}})(),Lc=function(e){const t=z();let n;return z.Pledge().then(()=>Nc.open(e)).then(()=>Nc.entries()).then(e=>{const r=z(),s={},o={},i=e.length,l=()=>{const c=e.shift();if(c)Nc.get(c).done(e=>{
let t=c.filename.match(/((.*)\.(storage\.json)|(.*)\.(options\.json)|(.*)\.(global\.json)|(.*)\.(user\.js)|(.*)\.user\.js-[0-9a-f]+-.*\.(resources\.json)|(.*)\.user\.js-[0-9a-f]+-.*\.(requires\.json))$/);if(t&&(t=t.slice(1).filter(e=>e)),!e||!t||t.length<3)o[c.filename]=e;else try{const r=t[1],o=t[2],a=pe(e,"UTF-8");if("global.json"==o)n=JSON.parse(a);else{const e=s[r]||{resources:{},requires:{}};s[r]=e,
"user.js"==o?e.source=a:"options.json"==o?e.options=JSON.parse(a):"resources.json"==o?e.resources[c.filename]={name:c.filename,data:JSON.parse(a)}:"requires.json"==o?e.requires[c.filename]={name:c.filename,data:JSON.parse(a)}:"storage.json"==o&&(e.storage=JSON.parse(a))}}catch(e){a.warn("porter: read from zip failed",e)}}).always(async()=>{t.notify("Zip: "+Math.floor((i-e.length)/i*100)+"%"),await d(1e3),l()});else{const e=[];for(const[t,n]of Object.entries(s)){
const{options:r,source:s,storage:i}=n;if(!s){a.warn("porter: invalid script "+t);continue}const l={requires:[],resources:[]};["resources","requires"].forEach(e=>{for(const t of Object.values(n[e])){const n=t.name.replace("."+e+".json",""),r=o[n];r&&l[e].push({meta:t.data,source:pe(r,{encoding:"resources"==e?void 0:"UTF-8"})||void 0})}});const c={...l,...r,source:s,storage:i};e.push(c)}r.resolve({scripts:e,global_settings:n})}};return l(),r.promise()}).done(e=>{t.resolve(e)}).fail(()=>{t.reject()
}),t.promise()},Pc=function(e){const t=z(),n=(e,r)=>{if(e.trim()){let s=null;try{s=JSON.parse(e);const n=e=>{if(e&&e.length)return e.map(e=>({meta:e.meta,source:e.source?Ae(de(e.source)):e.source}))},r=s.scripts.map(e=>({meta:{uuid:e.uuid,name:e.name,file_url:e.file_url},settings:{enabled:e.enabled,position:e.position},options:e.options,storage:e.storage,source:Ae(de(e.source)),resources:n(e.resources)||[],requires:n(e.requires)||[]}));return t.resolve({scripts:r,global_settings:s.settings})
}catch(t){if(!r){const t="<body>",r="</body>";if(-1!=e.indexOf(t)){const s=e.indexOf(t),o=e.lastIndexOf(r);if(-1!=s&&-1!=o)return e=e.substr(s+t.length,o-(s+t.length)),n(e,!0)}}}}t.reject()};return n(e),t.promise()},Dc={addElement:["GM_addElement","GM.addElement","GM_addStyle","GM.addStyle"],cookie:["GM_cookie","GM.cookie"],
readValues:["GM_listValues","GM.listValues","GM_getValue","GM.getValue","GM_addValueChangeListener","GM.addValueChangeListener","GM_removeValueChangeListener","GM.removeValueChangeListener"],writeValues:["GM_setValue","GM.setValue","GM_deleteValue","GM.deleteValue"],download:["GM_download","GM.download"],getResource:["GM_getResourceText","GM.getResourceText","GM_getResourceURL","GM.getResourceUrl"],tabs:["GM_getTab","GM.getTab","GM_getTabs","GM.getTabs","GM_saveTab","GM.saveTab"],
info:["GM_info","GM.info"],log:["GM_log","GM.log"],notification:["GM_notification","GM.notification"],openInTab:["GM_openInTab","GM.openInTab"],menuCommand:["GM_registerMenuCommand","GM.registerMenuCommand","GM_unregisterMenuCommand","GM.unregisterMenuCommand"],setClipboard:["GM_setClipboard","GM.setClipboard"],xmlHttpRequest:["GM_xmlhttpRequest","GM.xmlHttpRequest"],"window.close":["window.close"],"window.focus":["window.focus"],"window.onurlchange":["window.onurlchange"],
webRequest:["GM_webRequest","GM.webRequest"]},Vc=q.FEATURES,zc=Ie(),qc={ping:{allow:{insecure:!0},exec:(e,t,n)=>{n({pong:!0,instanceID:zc,config:{layout:ar.values.layout,dark:q.runtime.isDarkMode()}})}},newTab:{allow:{extpage:!0},exec:(e,t,n)=>{("options"==t.extpage||"options"==e.origin?z.Pledge(t.tab):zs()).then(r=>{q.tabs.create({url:e.url,parent:r},r=>{if(!r)return void a.warn("bg: unable to create tab",t,e);const s={tabId:r.id};n(s)})})}},tabs:{allow:{script:"tabs"},exec:(e,t,n)=>{
"get"==e.action?t.tab&&e.uuid?n({data:Kl(t.tab.id,e.uuid)}):(a.warn("bg: unable to process request",t,e),n({data:null})):"list"==e.action?e.uuid?n({data:$l(e.uuid)}):(a.warn("bg: unable to process request",t,e),n({data:null})):"set"==e.action?(t.tab&&e.uuid?((e,t,n)=>{const r=Jl[e]=Jl[e]||{},s={};n&&(Object.assign(s,n),r[t]=s)})(t.tab.id,e.uuid,e.tab):a.warn("bg: unable to process request",t,e),n({})):n({error:"unknown action"})}},focusTab:{allow:{script:"window.focus"},exec:(e,t,n)=>{
const r=t&&t.tab?t.tab.id:null;r?q.tabs.update(r,{active:!0},()=>{const e=q.runtime.lastError;n({error:e?e.message:void 0})}):n({error:"internal error"})}},closeTab:{allow:{script:"window.close"},exec:(e,t,n)=>{const r=t&&t.tab?t.tab.id:null;r?q.tabs.query({windowType:"normal"},e=>{if(e.length<=1){const e="refused to close last tab!";a.warn("bg:",e),n({error:e})}else q.tabs.remove(r,()=>{const e=q.runtime.lastError;n({error:e?e.message:void 0})})}):n({error:"internal error"})}},setOption:{
allow:{extpage:!0},exec:(e,t,n)=>{const r="options"==t.extpage||"options"==e.origin;ar.setValue(e.name,e.value).always(()=>{r?Cc("options.settings").done(e=>{const t={items:e,options:ar.snapshot};n(t)}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})}):n({})})}},reportAnIssue:{allow:{extpage:!0},exec:(e,t,n)=>{("options"==t.extpage||"options"==e.origin?z.Pledge(t.tab):zs()).then(t=>{let r,s,o;if(e.uuid&&(r=pl.getByUid(e.uuid))&&r.script&&r.cond){let n;s=ma.determineOrigin(r.script),
"hoster"==e.to&&s?o=s:(n=r.script.supportURL||(null==s?void 0:s.issue_url)||(null==s?void 0:s.url))&&(o={issue_url:n}),o&&(Lr(r.script.name,"m"),q.tabs.create({url:o.abuse_url||o.issue_url,active:!0,parent:t},()=>{}))}n({})})}},begEvent:{allow:{extpage:!0},exec:(e,t,n)=>{if("dialog"==e.action)ac.dialog.shown(e.extra);else if("clicked"==e.action){let t,n;e.extra&&(t=e.extra.amount,n=e.extra.currency),ac.clicked(e.type,t||"?",n||"?")}else if(ac.button[e.action]){const t=ac.button[e.action]
;t&&t(e.type,e.extra)}else a.warn("bg: Warning: unknown request ",e);n({})}},buttonPress:{allow:{extpage:!0},exec:async(e,t,n)=>{const r="options"==t.extpage||"options"==e.origin,s=()=>{n({})};switch(e.name){case"reset_simple":aa.reset(s);break;case"reset_factory":aa.factoryReset(s);break;case"reset_sync":Cl.reset().always(s);break;case"run_sync":yn.once("syncFinished",()=>s()),Cl.sync(1,!0);break;case"install_tests":{
const e=_.Tests.framework.prepare(ma,pl,Vc.RUNTIME.BROWSER,Vc.RUNTIME.BROWSER_VERSION,s);e&&a.error(e);break}case"enabled":{const{name:t}=e;ar.setValue(t,!ar.values[t]).always(s);break}case"installFromUrl":{const{data:{url:t,source:o,transferable:a}}=e;let i;if(a){const e=Pe.fromTransferableData(a);if(!e)throw new Error("Invalid Transferable");const n=await e.toBlob();if(!n)throw new Error("Invalid Transferable");const r=await _e(n,"utf-8");i=ma.installFromSource(r,{url:t})
}else i=o?ma.installFromSource(o,{url:t}):ma.installFromUrl(t);i.done(()=>{r?Cc("options.scripts").done(e=>{const t={success:!0,items:e,options:ar.snapshot};n(t)}):s()}).fail(()=>s());break}case"externals_delete":{const{safe_url:t,scriptuid:r}=e;xo.cleanElement(r,t),Cc("options.scripts").done(e=>{n({items:e,options:ar.snapshot})}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})});break}case"focus_tab":{const{tabid:t}=e;qc.focusTab.exec({},{tab:{id:t,url:"",index:-1,windowId:-1},
url:"",frameId:0,id:q.extension.manifest.id},s);break}case"run_script_updates":{const{scriptuid:t}=e;if(t){let e;Yl.check(!0,!1,t).done(t=>{e=t}).always(()=>{n({scriptuid:t,updatable:e})})}else Yl.check(!0,!0),s();break}case"blacklist_page":{const{data:t}=e,n=t.domain;if(!n)throw new Error("Blacklisted domain is missing!");const r="/"+dt(`*://*.${n}/*`,!0)+"/";ar.setValue("forbiddenPages",ar.values.forbiddenPages.concat([r])).always(s);break}case"script_search":{
const{data:t}=e,{url:n,result_url:r}=t;if(n){const e={url:Xn(n),active:!0};q.tabs.create(e,s)}else{if(!r)throw new Error("Search URL is missing!");{const e={url:r,active:!0};q.tabs.create(e,s)}}break}case"contrib":{const e={url:q.extension.getURL("options.html")+"#contribute",active:!0};q.tabs.create(e,s);break}default:a.warn("bg: Warning: unknown button "+name),s()}}},imageUrlToTransferable:{allow:{extpage:!0},exec:async(e,t,n)=>{const r=e.url;let s;r&&(s=await ks(r)),n({
transferable:s?await s.toTransferableData():void 0})}},loadTree:{allow:{extpage:!0},exec:(e,t,n)=>{Cc(e.referrer,{complete:e.complete,url:e.url,uuid:e.uuid,filter:e.filter,tabId:e.tabId}).done(t=>{const r={items:t},s=1==e.referrer.replace(/\.$/,"").split(".").length?{i18n:ar.values.i18n,options:ar.snapshot,xhr:ze,begging:ac.needed()}:{},o=Object.assign(r,s);n(o)}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})})}},modifyScriptOptions:{allow:{extpage:!0},exec:(e,t,n)=>{
if(!e.uuid)return void n({});const r="options"==t.extpage||"options"==e.origin;let s=null==e.reload||1==e.reload,o=!1;const i=pl.getByUid(e.uuid,!0),l=()=>{s?(void 0!==e.position&&ma.reorderScripts(e.uuid,e.position),r?qc.loadTree.exec({referrer:"options.scripts"},t,n):q.tabs.getSelected(null,t=>{Cc("actions").done(e=>{const t={items:e,i18n:ar.values.i18n,options:{enabled:ar.values.enabled}};n(t)}).fail(()=>{const e={items:[],i18n:ar.values.i18n,options:{enabled:ar.values.enabled}};n(e)}),
!t||t.id<0||e.uuid&&ar.values.autoReload&&q.tabs.sendMessage(t.id,{method:"reload"},{frameId:0})})):n({})};if(i.script&&i.cond)if(e.whitewash&&i.script.evilness==mo.SEVERITY_FOISTED_SCRIPT)s=!0,i.script&&i.cond?ma.doSave({uuid:e.uuid,src:i.script.textContent,force_settings:{enabled:!0},whitewash:!0,save:!0}).always(l):(a.error(en.getMessage("fatal_error")+" ("+e.uuid+")!!!"),l());else{let t=!1;const r=os(),s=["includes","excludes","matches"],a=["connects","blockers"],c=i.script.options
;Object.keys(r.options).forEach(t=>{const n=e[t];void 0!==n&&(c[t]=n,o=o||!0===Cl.SYNCED[t])});const A=c.override;Object.keys(r.options.override).forEach(n=>{if(-1==n.indexOf("merge_"))return;const r=e[n];void 0!==r&&(A[n]=r,t=!0)}),s.forEach(n=>{const r=e[n];void 0!==r&&(t=!0,A["use_"+n]=r)}),a.forEach(t=>{const n=e[t];void 0!==n&&(A["use_"+t]=n)}),e.add_excludes&&(c.override.use_excludes=c.override.use_excludes.concat(e.add_excludes),t=!0),t&&(i.script=ma.mergeCludes(i.script)),
e.temp_connects&&((e,t)=>{Mo[e]=t||[]})(i.script.uuid,e.temp_connects),void 0!==e.enabled&&(i.script.enabled=e.enabled),o&&(i.script.lastModified=Date.now()),void 0!==e.file_url&&(i.script.downloadURL=e.file_url),ma.doModify(i.script.uuid,i.script,o).done(l).fail(()=>{n({})})}else n({})}},purgeScripts:{allow:{extpage:!0},exec:(e,t,n)=>{for(const t of e.uuids)ma.doRemove(t,!0);ma.reorderScripts(),
z.onebyone([()=>Cc("options.scripts"),()=>Cc("options.trash")]).then(e=>e.filter(e=>e).reduce((e,t)=>e.concat(t),[])).done(e=>{const t={items:e,options:ar.snapshot};n(t)}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})})}},saveScript:{allow:{extpage:!0},exec:(e,t,n)=>{const r=void 0===e.reload||!!e.reload,s="options"==t.extpage||"options"==e.origin,o=t=>{s?r?z.onebyone([()=>Cc("options.scripts"),()=>Cc("options.trash")]).then(e=>e.filter(e=>e).reduce((e,t)=>e.concat(t),[])).done(e=>{
const r={...t,items:e,options:ar.snapshot};n(r)}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})}):n({}):q.tabs.getSelected(null,t=>{Cc("actions").done(e=>{n({items:e,i18n:ar.values.i18n,options:{enabled:ar.values.enabled}})}).fail(()=>{n({items:[],i18n:ar.values.i18n,options:{enabled:ar.values.enabled}})}),!t||t.id<0||e.uuid&&ar.values.autoReload&&q.tabs.sendMessage(t.id,{method:"reload"},{frameId:0})})};if(e.clean){const t=e.uuid;if(!t)return n({error:"uuid missing",
options:ar.snapshot});a.debug("bg: clean userscript "+t);const r=pl.getByUid(t),s=e=>{Cc("options.scripts").done(r=>{const s={cleaned:e.installed,items:r,options:ar.snapshot};n(s),e.installed&&pl.notifyStorageListeners({uuid:t},void 0,e=>{e({storage:pl.getStorageByUid(t)})})}).fail(e=>{n({error:e||"unknown error",options:ar.snapshot})})};r.script&&r.cond?ma.doSave({name:e.name,uuid:t,src:r.script.textContent,clean:!0,ask:!1,internal:!0,save:!0}).always(e=>{s(e||{installed:!1})
}):(a.error(en.getMessage("fatal_error")+" ("+t+")!!!"),s({installed:!1}))}else if(e.code){let t=e.uuid;if(!t)return n({error:"uuid missing",options:ar.snapshot});let s=e=>n(e);r&&(s=e=>{ma.reorderScripts(),o(e)}),e.new_script&&(t=Ie()),ma.doSave({name:e.name,uuid:t,force_url:e.force_url,src:e.code,ask:!ar.values.editor_easySave,lastModTime:e.lastModTime,save:!0}).always(e=>{s(e||{installed:!1})})}else if(e.auto_save)o({});else{const t=e.uuids||(e.uuid?[e.uuid]:[])
;for(const n of t)e.restore?pl.restoreByUid(n):ma.doRemove(n,!1);ma.reorderScripts(),o({})}}},saveExternal:{allow:{extpage:!0},exec:(e,t,n)=>{xo.setElement(e.uuid,e.url,{content:e.code||"",meta:e.mimetype||"text/javascript"},!0),Cc("options.scripts").done(e=>{const t={success:!0,items:e,options:ar.snapshot};n(t)}).fail(e=>{const t={error:e||"unknown error",options:ar.snapshot};n(t)})}},saveStorageKey:{allow:{extpage:!0},exec:(e,t,n)=>{Yc.saveStorageKey.exec(null,e,t,n)}},download:{allow:{
extpage:!0},exec:(e,t,n)=>{Yc.download.exec(null,e,t,e=>{(e.error||e.load)&&n(e)})}},askCom:{allow:{extpage:!0},exec:(e,t,n)=>{cn.onMessage(e.data).always(e=>{const t=ar.values.i18n,r=ar.snapshot;n({i18n:t,options:r,message:e})})}},execMenuCmd:{allow:{extpage:!0},exec:(e,t,n)=>{const r=Ac.getById(e.id);r?(a.verbose("MC exec "+r.menuId),r.response({method:"run",menuId:r.menuId,event:e.event})):a.warn("bg: Error: unable to find MC id "+e.id),n({})}},unLoad:{allow:{script:[]},
exec:(e,t)=>(e.topframe||(a.verbose("unload check "+e.id+" url: "+e.url),e.id&&t.tab&&t.frameId&&Fi.events.unload(t.tab.id,t.frameId)),!1)},prepare:{allow:{script:[]},exec:(e,t,n)=>{if(t.tab){const r=void 0!==t.frameId?t.frameId:e.topframe?0:null;if(null===r)return a.warn("bg: unknown frameId",t,e);const s=Ut(e.url);e.cleanup?(Fi.events.clean(t.tab.id,r,s),Ni.setIcon(t.tab.id),Ni.setBadge(t.tab.id),n({})):Fi.events.run(t.tab.id,r,s,Ze(t.tab),r=>{const s=r?Ra(r,e.url,Ze(t.tab)):{fast:!0};n(s),
Ni.setIcon(t.tab.id),Ni.setBadge(t.tab.id)})}else n({})}},contextmenu:{allow:{script:[]},exec:(e,t,n)=>{const{tab:r}=t;if(r&&ar.values.context_menu_enabled){const n=void 0!==t.frameId?t.frameId:e.topframe?0:null;if(null===n)return a.warn("bg: unknown frameId",t,e);const s=Ut(e.url);let o=[],i=[];ar.values.context_menu_scripts&&(o=ka(n,s,Ze(t.tab)).contexters),ar.values.context_menu_commands&&(i=Ac.listByTabId(r.id)),zl.update({contexters:o,commands:i})}else n({})}},notification:{allow:{
script:"notification",extpage:!0},exec:(e,t,n)=>{const r=e.image?e.image:vs("tampermonkey");(()=>{const n=z();return e.highlight&&t.tab?Ss.highlight(t.tab.id,()=>n.resolve()):n.resolve(),n.promise()})().then(()=>{const t=z();return e.text?Ss.show(e.title,e.text,r,{timeout:e.timeout,silent:e.silent},e=>t.resolve(e.clicked)):t.resolve(),t.promise()}).always(e=>{n({clicked:e})})}},clipboard:{allow:{script:"setClipboard",extpage:!0},exec:(e,t,n)=>{q.clipboard?q.clipboard.set({mimetype:e.mimetype,
content:e.content},()=>{n({success:!0})}):n({error:"unsupported"})}},determineScriptsToRun:{allow:{extpage:!0},exec:(e,t,n)=>{n({scripts:ma.determineScriptsToRun(e.url).filter(e=>!e.deleted).map(e=>e.uuid)})}},syntaxCheck:{allow:{script:[],extpage:!0},exec:(e,t,n)=>{((e,t)=>{const n=z(),r=n.promise(),s=t||{},o=s.options||oi;let a;if(s.config?(a=JSON.parse(JSON.stringify(s.config)),"object"!=typeof a&&(a={})):a=JSON.parse(JSON.stringify(si)),s.userscript||s.external){const e={};xe(ai,t=>{
e[t]="writeable"}),a.globals={...e}}if(s.userscript&&(a.rules={...ri,...a.rules}),e)if(ti&&!Ja.RUNTIME.SAFARI){const t=()=>{const e=new V("lint.js");e.onmessage=e=>{const t=e.data,{results:n,id:r}=t;let o,a;r&&(o=li[r])&&(a=o.d)&&(delete li[r],n?a.resolve(Ai(n)):a.reject(t.error||"Unknown error")),s(!!r)};const t={method:"base_uri",value:q.extension.getURL("/")};return e.postMessage(t),ci=void 0,e},s=e=>{if(ii=ii||t(),e)ci=void 0;else if(ci)return;let n,r=Date.now()
;if(Object.keys(li).forEach(e=>{li[e].ts<=r&&(n=li[e],r=n.ts)}),n){ci=n.id;const e={method:n.method,id:n.id,config:n.c,options:n.o,text:n.t};ii.postMessage(e)}};r.abort=()=>{ii&&(ii.terminate(),ii=void 0,s())},ii||t();const i=Ie(),l={method:"lint",id:i,d:n,t:e,c:a,o,ts:Date.now()};li[i]=l,s()}else Ot("vendor/eslint/eslint",()=>{try{const t=((e,t,n)=>{const r=self.eslint,s={problem:"error",layout:1,suggestion:1},o=new r.Linter;if(o.defineRules(Ya.rules),
t.extends&&t.extends.includes("eslint:recommended")){const e=t.rules=t.rules||{};o.getRules().forEach((function(t,n){if(!t||void 0!==e[n])return;const r=t.meta;if(!r)return;const o=r.docs;if(!o||!o.recommended)return;let a;const i=[(r.type?s[r.type]:null)||1],l=r.schema;if(l){const e={};(Array.isArray(l)?l:[l]).forEach(t=>{if("object"!=t.type)return;const n=t.properties;n&&Object.entries(n).forEach(([t,n])=>{const r=n.default;void 0!==r&&!1!==r&&(e[t]=n.default,a=!0)})}),a&&i.push(e)}e[n]=i}))}
return o.verify(e,t,n)})(e,a,o);n.resolve(Ai(t||[]))}catch(e){n.reject(e.message)}});else n.resolve([]);return r})(e.code,{config:ar.values.editor_linter_config,userscript:!0}).always(e=>{n({errors:e})})}},externalMessage:{allow:{insecure:!0},exec:(e,t,n)=>Wc(e.request,t,n)},cookie:{allow:{script:"cookie"},exec:(e,t,n)=>{var r
;const s=["expirationDate","domain","httpOnly","secure","name","path","sameSite","value"],o=[...s,"url"],a=[...s,"session","hostOnly"],i=e.url||t.url||void 0,l=e.details.url?Et(e.details.url,i)||e.details.url:i,c=t.tab?t.tab.cookieStoreId:void 0;let A;if(ba.fpi&&i&&(A=null===(r=xt(i))||void 0===r?void 0:r.domain),Vc.DB.SECURE||"dhdg"!=q.runtime.short_id)if(l)if(ao(Ut(l)))if(ma.scriptWillRun(e.uuid,l))if("list"==e.action){const t=e.details;ba.getAll({url:l,domain:t.domain,name:t.name,path:t.path,
firstPartyDomain:A?null:void 0,storeId:c}).done(e=>{const t=e.map(e=>a.reduce((t,n)=>({...t,[n]:e[n]}),{}));n({data:{cookies:t}})})}else if("delete"==e.action){const t=e.details;ba.remove({url:l,name:t.name,firstPartyDomain:A,storeId:c}).done(()=>{n({data:{success:!0}})}).fail(e=>{n({data:{error:e}})})}else if("set"==e.action){const t={firstPartyDomain:A,storeId:c},r=e.details;o.forEach(e=>{const n=r[e];void 0!==n&&(t[e]="value"===e||"name"===e?String(n):n)}),t.url=t.url||l,
ba.set(t).done(()=>n({data:{success:!0}})).fail(e=>n({data:{error:e}}))}else n({data:{error:"unknown action"}});else n({data:{error:"the URL needs to be included by the scripts @include or @match tag"}});else n({data:{error:"the URL is filtered by the security settings"}});else n({data:{error:"invalid URL"}});else n({data:{error:"not supported"}})}}},Qc=e=>{const t=q.runtime.id,n=!Vc.REQUESTS.HAS_SENDER_ID&&e.tab||e.id===t;let r
;const s=Vc.REQUESTS.INTERNAL_PAGE_PROTOCOLS[0],o=s?s+"//":null,a=Vc.REQUESTS.GET_INTERNAL_PAGE_REGEXP(),i=e.url?e.url:e.tab?e.tab.url:null,l=e.origin;let c=n&&(!i||!!o&&0==i.indexOf(o))&&(!l||l===b);if(c||!o){if(i){const e=i.match(a);e&&2==e.length&&(r=e[1])}else r="*";!o&&r&&(c=!0)}return{id_valid:n,url:i,page:r,extpage:c}},Xc=(e,t)=>{const{uuid:n}=e;if(void 0===t)return!1;const r=Ue(t);if(0===r.length)return!0;if(!n)return!1;const s=r.map(e=>{const t=Dc[e];if(t)return[...t]
}).filter(e=>void 0!==e);return((e,t)=>{const n=Ue(t),{script:r,cond:s}=pl.getByUid(e);if(r&&s&&r.grant.length){const{grant:e}=r;return n.some(t=>e.includes(t))}return!1})(n,[].concat(...s))},Hc=(e,t,n)=>{if(!c.late)return c.registerLateCallback(()=>{Hc(e,t,n)}),!0;a.verbose("mh: request ",e," sender: ",t);const r=qc[e.method];if(!r)return a.warn("mh: unknown method "+e.method),!1;if(!r.allow||!r.exec)return a.warn("mh: invalid implementation of "+e.method),!1
;const s=Qc(t),o=s.extpage,i=s.page,l=s.id_valid;a.verbose("mh: request page:",i,"extpage:",o),o?t.extpage=i:delete e.origin;const A="options"==i,u=l&&!o;let d=!0;if("background"==i||r.allow.insecure||r.allow.extpage&&o||r.allow.options&&A||u&&Xc(e,r.allow.script)){const s=r.exec(e,t,e=>{d=!1,n(e)});return!1!==d&&!1!==s||void 0}return!1===e.topframe&&(o||A)||a.warn("mh: this context doesn't have the permission to call \""+e.method+'"'),!1},Wc=(e,t,n)=>{let r,s
;if("off"!=ar.values.external_connect&&(r=t.url)&&ao(r)){for(const[t,n]of Object.entries(Kc)){const o=Xs({match:[t]});if(o&&Hs(r,o)&&(n.includes("*")||n.includes(e.method))){s=!0;break}}if(s)if("getVersion"==e.method)n({version:q.extension.manifest.version,id:q.runtime.short_id});else if("openOptions"==e.method){let r=e.params||"";r&&!r.startsWith("#")&&(r="#"+r),q.tabs.update(t.tab.id,{url:q.extension.getURL("options.html")+r,active:!0},()=>n({}))
}else if("all"!=ar.values.external_connect)a.warn("mh: calling external method "+e.method+" is not permitted to "+r+" by the user");else if("isInstalled"==e.method){let t,r,s,o,a=!1;const i=e.script.name,l=e.script.namespace;(r=pl.getUidsByName(i,l)[0])&&(t=pl.getByUid(r))&&t.script&&(a=!0,o=t.script.enabled,s=t.script.version),n({name:i,installed:a,enabled:o,version:s})
}else a.warn("mh: unknown external method "+e.method);else a.warn("mh: calling external method "+e.method+" is not permitted to "+r)}},Yc={xhr:{allow:{script:"xmlHttpRequest"},exec:(e,t,n,r)=>{var s;if(!e)throw Error("invalid port");let o=!1;const a=t.details.anonymous,i=Vc.RUNTIME.FIREFOX&&!a&&(n.tab&&n.tab.incognito||ba.fpi);let l;const c=n.tab?n.tab.cookieStoreId:void 0;i&&(t.details.anonymous=!0,ba.fpi&&n.url&&(l=(null===(s=xt(n.url))||void 0===s?void 0:s.domain)||""));const A=n=>{
e.disconnect();const r=n.response,s=r?r.responseHeaders:null;if(i&&s){const e=Ke(s)["set-cookie"];if(!e)return;e.toString().split(",").forEach(e=>{const n=(e=>{const t=e.split(";").filter(e=>"string"==typeof e&&!!e.trim()),n=t.shift();if(!n)return;const r=n.split("="),s=r.shift(),o=r.join("=");if(void 0===s)return;const a={name:s,value:U(o)};return t.forEach((function(e){var t;const n=e.split("="),r=null===(t=n.shift())||void 0===t?void 0:t.trimLeft().toLowerCase(),s=n.join("=")
;if(r)if("expires"===r){const e=new Date(U(s));isNaN(e.getTime())||(a.expires=e)}else"max-age"===r?a.maxAge=parseInt(s,10):"secure"===r?a.secure=!0:"httponly"===r?a.httpOnly=!0:"samesite"===r?a.sameSite=s:a[r]=s})),a})(e);if(!n)return;const{expires:s,httpOnly:o,name:a,path:i,sameSite:A,secure:u,value:d}=n;ba.set({expirationDate:s?s.getTime():void 0,httpOnly:o,name:a,path:i,sameSite:A,secure:u,storeId:c,url:r.finalUrl||t.details.url,value:d,firstPartyDomain:l})})}}
;t.details.partialSize=t.details.partialSize||Vc.XMLHTTPREQUEST.PARTIAL_SIZE;const u=Object.assign({},...Object.keys(t.callbacks).map(e=>{const n="ondone"===e;if(t.callbacks[e]||n||"onload"===e)return{[e]:t=>{const s={data:(t=t||{}).response||{},exception:t.exception,[e]:!0};r(s),n&&A(t)}}}));let d;u.ondone||(u.ondone=e=>A(e));const p=t.url||n.url||void 0;t.details.url=Et(t.details.url,p)||t.details.url;const h=t.details.responseType;void 0!==h&&Ve.includes(h)||delete t.details.responseType,
Vc.RUNTIME.WEBREQUEST_XHR_SUPPORT&&"no"!=ar.values.webrequest_modHeaders&&(t.details.headers=t.details.headers||{},t.details.headers.internal=t.uuid,Vc.REQUESTS.SENDS_ORIGIN&&!Object.keys(t.details.headers).map(e=>e.toLowerCase()).includes("origin")&&(t.details.headers.origin=null)),(()=>{const e=t.details.cookie;if((e||i)&&t.details.url){let n;return n=a?z.Pledge([]):ba.getAll({url:t.details.url,storeId:c,firstPartyDomain:l?null:void 0}),n.then(n=>{
const r=n.map(e=>e.name+"="+G(e.value)).concat(e?[e]:[]).join(";");delete t.details.cookie,t.details.headers=t.details.headers||{},t.details.headers.cookie=r})}return z.Pledge()})().then(()=>{var e;if(o){const e={response:Ye("aborted"),exception:"aborted"};return u.onabort&&u.onabort(e),void u.ondone(e)}let r;if(t.details.url&&(r=null===(e=xt(t.details.url))||void 0===e?void 0:e.protocol)&&["file:"].concat(Vc.REQUESTS.INTERNAL_PAGE_PROTOCOLS).includes(r)){const e=e=>{
const n='Refused to connect to "'+t.details.url+'": '+e,r=Ye(n);["onerror","ondone"].forEach(e=>{const t=u[e];t&&t({response:r,exception:n})})};if("file:"==r){let n,r;if(Vc.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS&&("all"==ar.values.script_file_access?n=!0:"externals"!=ar.values.script_file_access||(r=pl.getByUid(t.uuid))&&r.script&&r.cond&&[...r.script.resources,...r.script.requires].map(e=>Et(e.unsafe_url,e.abs_url)).includes(t.details.url)&&(n=!0)),
!n)return e("Access to this local file is forbidden!")}q.file.get(t.details.url,e=>{const t=pe(e),n=u.onpartial;if(n){const e=Ce(t||"",Vc.XMLHTTPREQUEST.PARTIAL_SIZE);e.forEach((t,r)=>{n({response:{partial:t,index:r,length:e.length}})})}const r={readyState:4,responseHeaders:"",status:0,statusText:""};["onload","ondone"].forEach(e=>{const t=u[e];t&&t({response:r})})},e)}else{const e={foreign_context:Vc.RUNTIME.FIREFOX&&n.tab&&(n.tab.incognito||n.tab.cookieStoreId!=q.cookies.DEFAULT_STORE_ID)}
;d=Fo(t.details,t.uuid,n||{},e,u)}});const m=()=>{o||(d?d.abort():o=!0)};return e&&e.onMessage.addListener(e=>{e.cancel&&m()}),m}},download:{allow:{script:"download"},exec:(e,t,n,r)=>{let s=r,o=e;const a=t.details;let i=ra.start(a,{onload:e=>{s&&s({load:!0,data:e})},onprogress:e=>{s&&s({progress:!0,data:e})},onerror:e=>{s&&s({error:!0,data:e})},ontimeout:e=>{s&&s({timeout:!0,data:e})},ondone:()=>{o&&o.disconnect(),o=null}},{internal:null===o});return o&&void 0!==i&&o.onMessage.addListener(e=>{
e.cancel&&void 0!==i&&(ra.cancel(i),i=void 0)}),()=>{o=null,s=null}}},webRequest:{allow:{script:"webRequest"},exec:(e,t,n,r)=>{const s=n.tab.id,o=n.frameId;(void 0!==s&&void 0!==o||!t.uuid)&&Fi.set.requests(s,o,t.uuid,t.rules,e=>{r(e)})}},addStorageListener:{allow:{script:"readValues"},exec:(e,t,n,r)=>{if(n.tab)return a.verbose("storage: "+t.uuid+" "+t.id),pl.addStorageListener(n.tab.id,t.id,t.uuid,Date.now(),e=>r(e)),()=>{a.verbose("storage disconnectHandler "+t.uuid+" "+t.id),
pl.removeStorageListeners({uuid:t.uuid,id:t.id},!1)};a.verbose("storage: unable to load storage due to empty tabID!",t),r({error:"missing tab id"})}},saveStorageKey:{allow:{script:"writeValues"},exec:(e,t,n,r)=>{if(n.tab){if(t.uuid){const e=pl.getStorageByUid(t.uuid),n=t.value,r=t.key;a.verbose("storage: ("+t.uuid+"): set key "+r+' to "'+n+'"'),e.data[r]=n,e.ts=t.ts,pl.setStorageByUid(t.uuid,e),pl.notifyStorageListeners({uuid:t.uuid},{id:t.id},e=>{e({storage:{data:{[r]:n},ts:t.ts},
removed:void 0===n?r:void 0})})}}else a.warn("storage: unable to save storage due to empty tabID!");r({})}},exportToJson:{allow:{extpage:!0},exec:(e,t,n,r)=>{ma.exportToJson(t.ids,t.options).done(e=>{const t=JSON.stringify(e);Ce(t,Vc.XMLHTTPREQUEST.PARTIAL_SIZE).forEach(e=>r({partial:e})),r({done:!0})}).fail(e=>{r({error:e||"serialization error"})})}},openInTab:{allow:{script:"openInTab"},exec:(e,t,n,r)=>{if(!e)throw Error("invalid port");let s,o=e;const i=["active"],l={url:t.details.url}
;let c=null;if(s=t.details.options){for(const e of i)void 0!==s[e]&&(l[e]=s[e]);s.incognito?l.incognito=!0:(s.insert&&(l.index=n.tab.index+1),s.setParent?l.parent=n.tab:l.parent={windowId:n.tab.windowId})}return q.tabs.create(l,e=>{e&&(c=e.id,o&&(Di[c]={onClose:()=>{o&&r({closed:!0})}},r({success:!0,tabId:c})))}),o.onMessage.addListener(e=>{if(null===c)return;const{close:t,focus:n,name:s}=e;if(n)q.tabs.update(c,{active:!0},()=>{const e=q.runtime.lastError;e&&a.warn("tab.focus",e.message)
});else if(t)q.tabs.remove(c,()=>{const e=q.runtime.lastError;e?a.warn("tab.close",e.message):c=null});else if(void 0!==s){const e=5;let t=0;const n=()=>{if(null===c)return;const o=c;Fi.listeners.once.whenReady(o,()=>{q.tabs.sendMessage(o,{method:"setForeignAttr",attr:"name",value:s},{frameId:0},o=>{o?r({name:s}):t++<e?k(n,100*t):a.warn("foreignAttr: error setting attr")})})};n()}}),()=>{null!==c&&delete Di[c],o=null}}},registerMenuCommand:{allow:{script:"menuCommand"},exec:(e,t,n,r)=>{
if(!e)throw Error("invalid port");if(n.tab){a.verbose("MC add "+t.menuId);const{name:e,uuid:s,accessKey:o,menuId:i}=t,l=n.tab.id;let c;const A=pl.getByUid(s);return c=A.script&&A.cond?en.getTranslation(A.script,"name"):en.getMessage("This_script_was_deleted"),Ac.add({tabId:l,name:e,uuid:s,accessKey:o,menuId:i,scriptName:c,response:e=>r(e)}),Rn.actionPage("update"),()=>{a.verbose("MC unreg "+t.menuId),Ac.clearById(t.menuId),Rn.actionPage("update")}}
a.warn("Unable to register menu cmd due to empty tabID!"),e.disconnect()}},observeUrlChanges:{allow:{script:"window.onurlchange"},exec:(e,t,n,r)=>{const s=n.frameId,o=n.tab.id,a=e=>{e.tabId==o&&e.frameId==s&&r({url:e.url})};return((e,t)=>{Zc[e]=Zc[e]||[],Zc[e].push(t),!Oc&&Object.keys(Zc).length&&(q.webNavigation.supported&&q.webNavigation.onUrlUpdated&&q.webNavigation.onUrlUpdated.addListener(Fc),Oc=!0)})(o,a),()=>{((e,t)=>{let n;const r=Zc[e];r&&(n=r.indexOf(t))>-1&&r.splice(n,1),
0===r.length&&delete Zc[e]})(o,a)}}},tabWatch:{allow:{extpage:!0},exec:(e,t,n,r)=>{if(!e)throw Error("invalid port");const{active:s,url:o}=t;let a;const i=Ji.openAndWatch({url:o,active:s,index:(n.tab.index||0)+1,parent:n.tab},t=>{t?(a=a||t.id,r({tab:t})):(l(),e.disconnect())}),l=()=>{i.cancel()};return l}},importEx:{allow:{extpage:!0},exec:async(e,t,n,r)=>{const s=void 0===t.reload||!!t.reload;let o,a,i,{data:l,json:c,code:A,url:u}=t;if(u)try{null==e||e.postMessage({
progress:en.getMessage("Loading")}),i=await Ds(u)}catch(e){return void r({error:en.getMessage("Unable_to_load_script_from_url_0url0",u)})}if(l||i){if(i){null==e||e.postMessage({progress:en.getMessage("Decoding")});try{l=await me(i)}catch(e){}}if(l)try{a=await Lc(l).progress(t=>{null==e||e.postMessage({progress:t})})}catch(e){}if(!a){if(i)try{c=await me(i,{encoding:"UTF-8"})}catch(e){}c=l}}if(c&&!A&&!a)try{a=await Pc(c)}catch(e){try{A=Ae(c)}catch(e){A=c}}if(a){const e={
scripts:Object.values(a.scripts).map(e=>(e=>{const t=e.meta||{},n=e.settings||{},r=e=>({url:e.meta.url,sri:e.meta.sri,ts:e.meta.ts||null,mimetype:e.meta.mimetype,modified:e.meta.modified,content:e.source});return{source:e.source,name:t.name,uuid:t.uuid,file_url:t.file_url,options:e.options,storage:e.storage||{ts:0,data:{}},lastModified:t.modified,enabled:n.enabled,position:n.position,resources:e.resources?e.resources.map(r):[],requires:e.requires?e.requires.map(r):[]}})(e)),
global_settings:a.global_settings};o=ma.importFromJson(e).then(e=>({reload:!!e.global_settings,success:!0})).fail(()=>{r({error:en.getMessage("Unable_to_parse_this_")})})}else{if(!A)return void r({error:en.getMessage("Unable_to_parse_this_")});o=ma.installFromSource(A,{force_url:u},{silent_fail:!0}).fail(e=>{var t;const n=((null===(t=null==e?void 0:e.messages)||void 0===t?void 0:t.errors)||[])[0]||en.getMessage("Unable_to_parse_this_");r({error:n})}).then(e=>({installed:e?1:0,success:!0}))}
o.done(e=>{s&&!e.reload?Cc("options.scripts").done(t=>{const n={...e,items:t};r(n)}).fail(e=>{r({error:e||en.getMessage("An_error_occured_during_import_")})}):r(e)}),null==e||e.onDisconnect.addListener(()=>{e=null})}}},Jc=e=>{c.late?e.onMessage.addListener(t=>{void 0!==t.method&&((e,t)=>{const n=e.sender;a.verbose("mh: connect.method "+t.method+" contextId "+t.id+" tabId: "+(n.tab?n.tab.id:"unknown!!!"));const r=Yc[t.method];if(!r)return a.warn("mh: unknown method "+t.method),!1
;if(!r.allow||!r.exec)return a.warn("mh: invalid implementation of "+t.method),!1;const s=Qc(n),o=s.extpage,i=s.page,l="options"==i,c=s.id_valid&&!o;if(!("background"==i||r.allow.insecure||o&&r.allow.extpage||l&&r.allow.options||c&&Xc(t,r.allow.script)))return!1===t.topframe&&(o||l)||a.warn("mh: this context doesn't have the permission to call \""+t.method+'"'),!1;{const s=r.exec(e,t,n,t=>{try{e.postMessage(t)}catch(n){a.debug("bg: Error sending port ("+e.name+") message",t,n)}})
;"function"==typeof s&&e.onDisconnect.addListener(s)}a.verbose("mh: connect.method "+t.method+" end!")})(e,t)}):c.registerLateCallback(()=>{Jc(e)})},Kc={"*://*.tampermonkey.net/*":["getVersion","openOptions"],"*://*.greasyfork.org/*":["*"],"*://*.sleazyfork.org/*":["*"],"*://*.openuserjs.org/*":["*"],"*://*.userstyles.org/*":["*"],"*://*.userscript.zone/*":["*"]},$c={init:()=>{q.extension.onMessage.addListener(Hc),q.extension.onConnect.addListener(Jc),
q.extension.onConnectExternal.addListener(e=>{e.disconnect()})},externally_connectable_reg:Xs({match:Object.keys(Kc)}),externally_connectable:Kc};self.setTimeout=h,_.Tests;const eA=q.FEATURES,tA=new Date;(()=>{const e=z();if("chromeStorage"!=us.DB.USE||us.DB.NO_WARNING)e.resolve(!0);else{const t=()=>{if(!le)return k(t,2e3);le.isWorking?le.isWorking().done(()=>e.resolve(!0)).fail(()=>{
if(P("Tampermonkey detected that the extension storage is unreliable!\n\nUnfortunately this means that all your settings and userscripts are inaccessible at the moment.\n\nDo you want to visit the FAQ entry that explains how to recover from that?")){const e={url:"https://www.tampermonkey.net/faq#Q206"};q.tabs.create(e,()=>{})}const t=["Tampermonkey detected that the extension storage is unreliable!"];ps(t,"paused",!0),e.reject(t[0])}):e.resolve(!0)};k(t,1e3)}e.promise()})(),_.down=ra,_.dast=le,
a.debug("Starting background fred @"+zc);const nA=()=>{const e="temporary"==ar.values.incognito_mode&&q.extension.inIncognitoContext;le.setTemporary(e),e&&(ar.values.sync_enabled=!1,ar.values.scriptUpdateCheckPeriod=0,ar.values.sync_type=0,ar.values.statistics_enabled=!1)},rA=()=>{if(a.set(ar.values.logLevel),en.setLocale(ar.values.i18n),ar.values.userscript_search_url){const e=()=>{(({url:e,mode:t})=>{if(Vn=Fn,"string"==typeof e)Nn=Ln=e;else{const t=e.www,n=e.api||t
;Nn=`${e.protocol}//${n?n+".":""}${e.domain}`,Ln=`${e.protocol}//${t?t+".":""}${e.domain}`}Dn=t,Pn=en.getLocale()||en.getUiLocale()})({url:["dhdg","gcal","fire","iikm","mfdh","fcmf"].includes(q.runtime.short_id)?Bn:ar.values.userscript_search_url,mode:ar.values.userscript_search_mode})};ar.addChangeListener("userscript_search_mode",e),e()}var e,t;e=ma.doModify,t=pl.getByUid,So=e,To=t,(e=>{ze=e})({prefix:eA.RUNTIME.WEBREQUEST_XHR_SUPPORT&&"no"!=ar.values.webrequest_modHeaders?hc:void 0,
mozAnon:!!eA.RUNTIME.FIREFOX}),((e,t,n)=>{const r=((null==n?void 0:n.version)||"")+" ",s=q.runtime.short_id;Sr=(xr[s]||xr.default)(),window.onerror=(t,n,s,o,a)=>{let i="";if(a)try{i=a.stack||""}catch(e){}Br(t.toString(),r+e+"@"+q.extension.urls.prepareForReport(n||""),[s+":"+o,i].join(";"))},document.addEventListener("securitypolicyviolation",t=>{let n="";try{n=t.stack}catch(e){}
Br("CSP violation of "+t.effectiveDirective,r+e+"@"+q.extension.urls.prepareForReport(t.documentURI),[t.sourceFile," -> ",t.lineNumber+":"+t.columnNumber,n].join(";"))}),(null==n?void 0:n.started)&&(_r=Date.now()-n.started.getTime()),wr=!0,vr=!!(null==n?void 0:n.trackView),Or(t)})("bg",!!ar.values.statistics_enabled,{trackView:!0,version:q.extension.manifest.version,started:tA}),Fi.listeners.add.onReset((e,t)=>{Ac.clearByTabId(e),pl.removeStorageListeners({tabid:e},!1),t||Ni.setIcon(e)})
;const n=e=>{e>=0&&q.tabs.get(e,t=>{!q.runtime.lastError&&t&&(Ni.setIcon(e),Ni.setBadge(e))})};Fi.listeners.add.onCommited(n),Fi.listeners.add.onCompleted(n),Fi.listeners.add.onReset(Oo),Fi.listeners.add.onRemoved(Oo),Fi.listeners.add.onRemoved(ec),Cl.init().done(e=>{e&&Cl.sync()}),(()=>{const e=()=>{Ys.remove(oo)};ar.addChangeListener("forbiddenPages",e),ar.addChangeListener("page_whitelist",e),ar.addChangeListener("page_filter_mode",e)})(),mo.init(),pl.init(),wa=$c.externally_connectable_reg,
ra.init(),go.init(),xc(),zl.init({onclick:({id:e,frameId:t,tabId:n,url:r,isMenuCommand:s})=>{if(s){const t=Ac.getById(e);t?t.response({method:"run",menuId:t.menuId,event:{keyCode:void 0,button:0,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1}}):a.warn("bg: Error: unable to find MC id "+e)}else{const s=pl.getByUid(e);if(!s||!s.script)return void a.log("ctxm: unable to find script "+e);const o=s.script;if(o.deleted)return;mi({url:r||"<unknown>"},o).then(e=>{const s=z(),o={};let a
;void 0!==t?t=o.frameId=t:r?r=Ut(r):a=!0;const i=Object.assign(e,{method:"executeScript",url:r,frameId:t,topframe:a});return q.tabs.sendMessage(n,i,o,s.resolve),s.promise()})}}}),ac.init(),Yl.init()};(_.init=async()=>{en.init(),c.init(),xc(!0),Ji.init(),$c.init(),q.commands.supported&&q.commands.onCommand.addListener(Sc),q.runtime.setUninstallURL("https://www.tampermonkey.net/uninstall.php?ext="+q.runtime.short_id),(e=>{Dr=e})(Ea),q.browserAction.setIcon({
path:q.extension.getURL("images/icon_grey.png")}),q.browserAction.setPopup({popup:"action.html"}),q.browserAction.setTitle({title:"Tampermonkey"}),q.runtime.onUpdateAvailable.addListener(Ns.onUpdateAvailable),q.runtime.onInstalled.addListener(e=>{a.log("bg: onInstalled",e),e||(e={reason:"mandatory_argument_is_not_set"}),"install"==e.reason?ic.DB.SECURE||pl.getUidList().forEach(e=>{const t=pl.getByUid(e)
;t.script&&t.cond&&t.script.evilness!=mo.SEVERITY_FOISTED_SCRIPT&&(a.warn("content security: found unfamiliar script",t.script.name),t.script.evilness=mo.SEVERITY_FOISTED_SCRIPT,ma.doModify(e,t.script,!1))}):"update"==e.reason&&e.previousVersion,c.ensureLate(()=>{"install"==e.reason?Ns.onInstalled():"update"==e.reason&&Ns.onUpdated(e.previousVersion)})}),await le.init(),await(()=>{const e=z(),t="0.0.0.0";let n,r;const s=q.extension.manifest.version,o=le.getSchemaVersion();let i=o
;return le.getVersion(t).then(e=>(r=e,n=ns(s,r)==ns.eNEWER,le.isWiped())).then(e=>{if(!n&&e){const e=["Tampermonkey detected inconsistencies that indicate that your browser wiped the extension database!","You can continue to use Tampermonkey normally, but your settings and scripts might be lost. Click here to get more information.","https://www.tampermonkey.net/faq.php#Q207"];a.warn(e.join("\n")),((e,t,n)=>{ds.push({text:e,description:t,url:n})})(...e)}}).always(()=>{let l=0;const c=()=>{
if(l<u.length){const t=()=>{l++,c()},n=u[l].schema;u[l].cond(n)?u[l].fn().done(()=>{n&&(a.info("Converted database from",i,"to",n),i=n),t()}).fail(()=>{e.reject()}):t()}},A=()=>{a.warn("Incognito mode detected. Database conversion can only be done in non-incognito mode! Stopping now..."),hs(["Tampermonkey needs to convert its database but this can't be done in incogonito mode!","Please open a non-incognito mode window and/or restart your browser."],"paused")},u=[{
cond:()=>n&&!hl.RUNTIME.FIREFOX&&"chromeStorage"==hl.DB.USE&&!le.getValue(hl.CONSTANTS.STORAGE.LEGACY_VERSION)&&ns("3.5.3603",r)==ns.eNEWER,fn:()=>{const e=z();return q.extension.inIncognitoContext?(A(),e.reject()):(a.info("Update database..."),i="3.5.3603",le.migrate("sql","chromeStorage").done(()=>{a.info("Copied config for default usage of chrome storage"),e.resolve()}).fail(()=>{e.resolve()})),e.promise()}},{cond:()=>n&&ns("3.6.3650",i)==ns.eNEWER&&ns("3.5.3650",r)==ns.eNEWER,fn:()=>{
const e=z();if(q.extension.inIncognitoContext)A(),e.reject();else{i="3.6.3650";const t=[];[{o:"TM_config",n:hl.CONSTANTS.STORAGE.CONFIG},{o:"TM_update_check",n:hl.CONSTANTS.STORAGE.UPDATE},{o:"TM_version"},{o:"TM_unload_ts"}].forEach(e=>{if(e.n){const n=le.getValue(e.o);void 0!==n&&t.push(le.setValue(e.n,n))}t.push(le.deleteValue(e.o))});let n=new RegExp("@re$");const s=[];le.listValues().forEach(e=>{if(-1==e.search(n))return;const t=e.replace(n,"");s.push(t)}),s.forEach(e=>{
const n=le.getValue(e+"@st"),r=le.getValue(e),s=le.getValue(e+"@re"),o=le.getValue(e+"@source"),i=pl.getUidByName(e)||Ie();t.push(le.deleteValue(e+"@st")),t.push(le.deleteValue(e)),t.push(le.deleteValue(e+"@re")),t.push(le.deleteValue(e+"@source")),r&&s&&o?(t.push(le.setValue(hl.CONSTANTS.PREFIX.SCRIPT_UID+i,e)),t.push(le.setValue(hl.CONSTANTS.PREFIX.COND+i,s)),t.push(le.setValue(hl.CONSTANTS.PREFIX.STORE+i,n)),t.push(le.setValue(hl.CONSTANTS.PREFIX.SCRIPT+i,o)),
t.push(le.setValue(hl.CONSTANTS.PREFIX.META+i,r))):a.warn("invalid script entry",{source:o,meta:r,cond:s})}),n=new RegExp("@st$"),le.listValues().forEach(e=>{-1!=e.search(n)&&t.push(le.deleteValue(e))}),z.when(t).done(()=>{a.info("Converted database from",r,"to",i),e.resolve()})}return e.promise()}},{schema:"3.7.0",cond:e=>ns(e,i)==ns.eNEWER,fn:()=>{const e=z();if(q.extension.inIncognitoContext)A(),e.reject();else{const t=[],n=new RegExp("^"+hl.CONSTANTS.PREFIX.META);le.listValues().forEach(e=>{
if(-1==e.search(n))return;const r=le.getValue(e);if(r&&r.options&&r.options.override&&!r.options.override.orig_run_at){r.options.override.orig_run_at=r.options.run_at||"document-idle",r.options.run_at=null;const n={...r};t.push(le.setValue(e,n))}}),z.when(t).done(()=>{e.resolve()})}return e.promise()}},{schema:"4526",cond:e=>n&&hl.RUNTIME.SAFARI&&"chromeStorage"==hl.DB.USE&&ns(e,i)==ns.eNEWER,fn:()=>{const e=z();if(q.extension.inIncognitoContext)A(),e.reject();else{a.info("Update database...")
;const t=le.migrate("localStorage","chromeStorage").done(()=>{a.info("Copied config for default usage of setting storage")}).fail(()=>{e.resolve()});e.consume(t)}return e.promise()}},{schema:"4871",cond:e=>n&&ns(e,i)==ns.eNEWER,fn:()=>{const e=z();let t,n;const r=le.getValue(hl.CONSTANTS.STORAGE.CONFIG);return r&&r.scriptTemplate&&(n=ar.getDefaults())&&(t=n.script_templates)&&t[0]&&t[0].value&&(t[0].value=r.scriptTemplate,delete r.scriptTemplate,le.setValue(hl.CONSTANTS.STORAGE.CONFIG,r)),
e.resolve(),e.promise()}},{schema:"5465",cond:e=>ns(e,i)==ns.eNEWER,fn:()=>{const e=z();if(q.extension.inIncognitoContext)A(),e.reject();else{const t=le.getValue(hl.CONSTANTS.STORAGE.CONFIG);t&&1==t.sync_version&&(t.sync_enabled=!1,le.setValue(hl.CONSTANTS.STORAGE.CONFIG,t)),e.resolve()}return e.promise()}},{cond:()=>n||ns(i,o)==ns.eNEWER,fn:()=>{const e=z();return le.setVersion(s,i).done(()=>{e.resolve()}),e.promise()}},{cond:()=>n,fn:()=>(a.info("First run of version "+s+"!"),
Ns.scheduleNotification(r,r==t),z.Pledge())},{cond:()=>!0,fn:()=>{const t=z();return e.resolve(),k(t.resolve,0),t.promise()}}];c()}),e.promise()})(),await z.Pledge(),await ar.init(),await z.when((await ar.defaultScripts()).map(async e=>{await d(1e3),ma.doSave({url:void 0,src:e.textContent,ask:!1,replace:!0,internal:!0})})),_.cfgo=ar,nA(),rA(),ar.addChangeListener("logLevel",()=>{a.set(ar.values.logLevel)}),ar.addChangeListener("i18n",()=>{en.setLocale(ar.values.i18n)}),
ar.addChangeListener("incognito_mode",()=>{nA()}),ar.addChangeListener("statistics_enabled",()=>{jr(!!ar.values.statistics_enabled)}),ar.addChangeListener("context_menu_enabled",()=>{ar.values.context_menu_enabled||zl.update({contexters:[],commands:[]})}),ar.addChangeListener(["require_blacklist","script_blacklist_server","script_blacklist_type"],ma.blackCheckAll),ar.addChangeListener("webrequest_modHeaders",(e,t,n,r)=>{null==r||r.done(()=>k(aa.reset,1))}),
ar.addChangeListener(["appearance_badge_color","appearance_badge_text_color"],Ni.init),ar.addChangeListener("script_include_mode",()=>Ys.removeAll()),Ni.init(),q.declarativeContent.supported&&(Uc(),ar.addChangeListener("runtime_inject_mode",Uc)),k(()=>{Yl.check()},1e4),ma.clean(),await z.Pledge(),a.log("bg: listeners registered!"),c.setReady()})()})()})();