class Thunderbird{static getOrCreateShadow(e){let t=document.querySelector("lt-container");if(t||(t=document.createElement("lt-container"),document.documentElement.appendChild(t)),!t.shadowRoot)try{t.attachShadow({mode:"open"})}catch(e){}let o=t.shadowRoot.querySelector("slot");return o||(o=document.createElement("slot"),t.shadowRoot.append(o)),injectShadowStyles(t.shadowRoot),{root:t.shadowRoot,slot:o}}static isComposer(e){return location.href.startsWith("about:blank?compose")&&"BODY"===e.tagName&&"on"===document.designMode}static registerComposeScripts(){const e=browser.composeScripts;if(e){const t=[],o=[],s=browser.runtime.getURL("");browser.runtime.getManifest().content_scripts.forEach((e=>{e.js&&e.js.forEach((e=>{t.push({file:e.replace(s,"")})})),e.css&&e.css.forEach((e=>{o.push({file:e.replace(s,"")})}))})),e.register({css:o,js:t})}}static setNativeSpellCheck(e){const t=browser.spellcheck;t&&t.setValue(e)}}Thunderbird.COMPOSE_URL="about:blank?compose",Thunderbird.COMPOSE_URL_REGEXP=/^about:blank\?compose/,"undefined"!=typeof module&&(module.exports.Thunderbird=Thunderbird);